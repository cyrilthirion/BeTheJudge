var TE=Object.defineProperty;var P1=i=>{throw TypeError(i)};var wE=(i,t,e)=>t in i?TE(i,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):i[t]=e;var Mt=(i,t,e)=>wE(i,typeof t!="symbol"?t+"":t,e),Xm=(i,t,e)=>t.has(i)||P1("Cannot "+e);var g=(i,t,e)=>(Xm(i,t,"read from private field"),e?e.call(i):t.get(i)),U=(i,t,e)=>t.has(i)?P1("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(i):t.set(i,e),B=(i,t,e,n)=>(Xm(i,t,"write to private field"),n?n.call(i,e):t.set(i,e),e),z=(i,t,e)=>(Xm(i,t,"access private method"),e);var li=(i,t,e,n)=>({set _(a){B(i,t,a,e)},get _(){return g(i,t,n)}});(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))n(a);new MutationObserver(a=>{for(const l of a)if(l.type==="childList")for(const c of l.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&n(c)}).observe(document,{childList:!0,subtree:!0});function e(a){const l={};return a.integrity&&(l.integrity=a.integrity),a.referrerPolicy&&(l.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?l.credentials="include":a.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function n(a){if(a.ep)return;a.ep=!0;const l=e(a);fetch(a.href,l)}})();function getDefaultExportFromCjs(i){return i&&i.__esModule&&Object.prototype.hasOwnProperty.call(i,"default")?i.default:i}function getAugmentedNamespace(i){if(i.__esModule)return i;var t=i.default;if(typeof t=="function"){var e=function n(){return this instanceof n?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};e.prototype=t.prototype}else e={};return Object.defineProperty(e,"__esModule",{value:!0}),Object.keys(i).forEach(function(n){var a=Object.getOwnPropertyDescriptor(i,n);Object.defineProperty(e,n,a.get?a:{enumerable:!0,get:function(){return i[n]}})}),e}var jsxRuntime={exports:{}},reactJsxRuntime_production={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hasRequiredReactJsxRuntime_production;function requireReactJsxRuntime_production(){if(hasRequiredReactJsxRuntime_production)return reactJsxRuntime_production;hasRequiredReactJsxRuntime_production=1;var i=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function e(n,a,l){var c=null;if(l!==void 0&&(c=""+l),a.key!==void 0&&(c=""+a.key),"key"in a){l={};for(var f in a)f!=="key"&&(l[f]=a[f])}else l=a;return a=l.ref,{$$typeof:i,type:n,key:c,ref:a!==void 0?a:null,props:l}}return reactJsxRuntime_production.Fragment=t,reactJsxRuntime_production.jsx=e,reactJsxRuntime_production.jsxs=e,reactJsxRuntime_production}var hasRequiredJsxRuntime;function requireJsxRuntime(){return hasRequiredJsxRuntime||(hasRequiredJsxRuntime=1,jsxRuntime.exports=requireReactJsxRuntime_production()),jsxRuntime.exports}var jsxRuntimeExports=requireJsxRuntime(),react={exports:{}},react_production={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hasRequiredReact_production;function requireReact_production(){if(hasRequiredReact_production)return react_production;hasRequiredReact_production=1;var i=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),e=Symbol.for("react.fragment"),n=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),l=Symbol.for("react.consumer"),c=Symbol.for("react.context"),f=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),m=Symbol.for("react.memo"),y=Symbol.for("react.lazy"),A=Symbol.iterator;function b(V){return V===null||typeof V!="object"?null:(V=A&&V[A]||V["@@iterator"],typeof V=="function"?V:null)}var x={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},E=Object.assign,T={};function k(V,$,Q){this.props=V,this.context=$,this.refs=T,this.updater=Q||x}k.prototype.isReactComponent={},k.prototype.setState=function(V,$){if(typeof V!="object"&&typeof V!="function"&&V!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,V,$,"setState")},k.prototype.forceUpdate=function(V){this.updater.enqueueForceUpdate(this,V,"forceUpdate")};function S(){}S.prototype=k.prototype;function M(V,$,Q){this.props=V,this.context=$,this.refs=T,this.updater=Q||x}var P=M.prototype=new S;P.constructor=M,E(P,k.prototype),P.isPureReactComponent=!0;var R=Array.isArray,D={H:null,A:null,T:null,S:null},L=Object.prototype.hasOwnProperty;function G(V,$,Q,st,rt,pt){return Q=pt.ref,{$$typeof:i,type:V,key:$,ref:Q!==void 0?Q:null,props:pt}}function q(V,$){return G(V.type,$,void 0,void 0,void 0,V.props)}function X(V){return typeof V=="object"&&V!==null&&V.$$typeof===i}function J(V){var $={"=":"=0",":":"=2"};return"$"+V.replace(/[=:]/g,function(Q){return $[Q]})}var et=/\/+/g;function it(V,$){return typeof V=="object"&&V!==null&&V.key!=null?J(""+V.key):$.toString(36)}function lt(){}function tt(V){switch(V.status){case"fulfilled":return V.value;case"rejected":throw V.reason;default:switch(typeof V.status=="string"?V.then(lt,lt):(V.status="pending",V.then(function($){V.status==="pending"&&(V.status="fulfilled",V.value=$)},function($){V.status==="pending"&&(V.status="rejected",V.reason=$)})),V.status){case"fulfilled":return V.value;case"rejected":throw V.reason}}throw V}function W(V,$,Q,st,rt){var pt=typeof V;(pt==="undefined"||pt==="boolean")&&(V=null);var ht=!1;if(V===null)ht=!0;else switch(pt){case"bigint":case"string":case"number":ht=!0;break;case"object":switch(V.$$typeof){case i:case t:ht=!0;break;case y:return ht=V._init,W(ht(V._payload),$,Q,st,rt)}}if(ht)return rt=rt(V),ht=st===""?"."+it(V,0):st,R(rt)?(Q="",ht!=null&&(Q=ht.replace(et,"$&/")+"/"),W(rt,$,Q,"",function(Ct){return Ct})):rt!=null&&(X(rt)&&(rt=q(rt,Q+(rt.key==null||V&&V.key===rt.key?"":(""+rt.key).replace(et,"$&/")+"/")+ht)),$.push(rt)),1;ht=0;var mt=st===""?".":st+":";if(R(V))for(var At=0;At<V.length;At++)st=V[At],pt=mt+it(st,At),ht+=W(st,$,Q,pt,rt);else if(At=b(V),typeof At=="function")for(V=At.call(V),At=0;!(st=V.next()).done;)st=st.value,pt=mt+it(st,At++),ht+=W(st,$,Q,pt,rt);else if(pt==="object"){if(typeof V.then=="function")return W(tt(V),$,Q,st,rt);throw $=String(V),Error("Objects are not valid as a React child (found: "+($==="[object Object]"?"object with keys {"+Object.keys(V).join(", ")+"}":$)+"). If you meant to render a collection of children, use an array instead.")}return ht}function O(V,$,Q){if(V==null)return V;var st=[],rt=0;return W(V,st,"","",function(pt){return $.call(Q,pt,rt++)}),st}function H(V){if(V._status===-1){var $=V._result;$=$(),$.then(function(Q){(V._status===0||V._status===-1)&&(V._status=1,V._result=Q)},function(Q){(V._status===0||V._status===-1)&&(V._status=2,V._result=Q)}),V._status===-1&&(V._status=0,V._result=$)}if(V._status===1)return V._result.default;throw V._result}var F=typeof reportError=="function"?reportError:function(V){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var $=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof V=="object"&&V!==null&&typeof V.message=="string"?String(V.message):String(V),error:V});if(!window.dispatchEvent($))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",V);return}console.error(V)};function N(){}return react_production.Children={map:O,forEach:function(V,$,Q){O(V,function(){$.apply(this,arguments)},Q)},count:function(V){var $=0;return O(V,function(){$++}),$},toArray:function(V){return O(V,function($){return $})||[]},only:function(V){if(!X(V))throw Error("React.Children.only expected to receive a single React element child.");return V}},react_production.Component=k,react_production.Fragment=e,react_production.Profiler=a,react_production.PureComponent=M,react_production.StrictMode=n,react_production.Suspense=d,react_production.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=D,react_production.act=function(){throw Error("act(...) is not supported in production builds of React.")},react_production.cache=function(V){return function(){return V.apply(null,arguments)}},react_production.cloneElement=function(V,$,Q){if(V==null)throw Error("The argument must be a React element, but you passed "+V+".");var st=E({},V.props),rt=V.key,pt=void 0;if($!=null)for(ht in $.ref!==void 0&&(pt=void 0),$.key!==void 0&&(rt=""+$.key),$)!L.call($,ht)||ht==="key"||ht==="__self"||ht==="__source"||ht==="ref"&&$.ref===void 0||(st[ht]=$[ht]);var ht=arguments.length-2;if(ht===1)st.children=Q;else if(1<ht){for(var mt=Array(ht),At=0;At<ht;At++)mt[At]=arguments[At+2];st.children=mt}return G(V.type,rt,void 0,void 0,pt,st)},react_production.createContext=function(V){return V={$$typeof:c,_currentValue:V,_currentValue2:V,_threadCount:0,Provider:null,Consumer:null},V.Provider=V,V.Consumer={$$typeof:l,_context:V},V},react_production.createElement=function(V,$,Q){var st,rt={},pt=null;if($!=null)for(st in $.key!==void 0&&(pt=""+$.key),$)L.call($,st)&&st!=="key"&&st!=="__self"&&st!=="__source"&&(rt[st]=$[st]);var ht=arguments.length-2;if(ht===1)rt.children=Q;else if(1<ht){for(var mt=Array(ht),At=0;At<ht;At++)mt[At]=arguments[At+2];rt.children=mt}if(V&&V.defaultProps)for(st in ht=V.defaultProps,ht)rt[st]===void 0&&(rt[st]=ht[st]);return G(V,pt,void 0,void 0,null,rt)},react_production.createRef=function(){return{current:null}},react_production.forwardRef=function(V){return{$$typeof:f,render:V}},react_production.isValidElement=X,react_production.lazy=function(V){return{$$typeof:y,_payload:{_status:-1,_result:V},_init:H}},react_production.memo=function(V,$){return{$$typeof:m,type:V,compare:$===void 0?null:$}},react_production.startTransition=function(V){var $=D.T,Q={};D.T=Q;try{var st=V(),rt=D.S;rt!==null&&rt(Q,st),typeof st=="object"&&st!==null&&typeof st.then=="function"&&st.then(N,F)}catch(pt){F(pt)}finally{D.T=$}},react_production.unstable_useCacheRefresh=function(){return D.H.useCacheRefresh()},react_production.use=function(V){return D.H.use(V)},react_production.useActionState=function(V,$,Q){return D.H.useActionState(V,$,Q)},react_production.useCallback=function(V,$){return D.H.useCallback(V,$)},react_production.useContext=function(V){return D.H.useContext(V)},react_production.useDebugValue=function(){},react_production.useDeferredValue=function(V,$){return D.H.useDeferredValue(V,$)},react_production.useEffect=function(V,$){return D.H.useEffect(V,$)},react_production.useId=function(){return D.H.useId()},react_production.useImperativeHandle=function(V,$,Q){return D.H.useImperativeHandle(V,$,Q)},react_production.useInsertionEffect=function(V,$){return D.H.useInsertionEffect(V,$)},react_production.useLayoutEffect=function(V,$){return D.H.useLayoutEffect(V,$)},react_production.useMemo=function(V,$){return D.H.useMemo(V,$)},react_production.useOptimistic=function(V,$){return D.H.useOptimistic(V,$)},react_production.useReducer=function(V,$,Q){return D.H.useReducer(V,$,Q)},react_production.useRef=function(V){return D.H.useRef(V)},react_production.useState=function(V){return D.H.useState(V)},react_production.useSyncExternalStore=function(V,$,Q){return D.H.useSyncExternalStore(V,$,Q)},react_production.useTransition=function(){return D.H.useTransition()},react_production.version="19.0.0",react_production}var hasRequiredReact;function requireReact(){return hasRequiredReact||(hasRequiredReact=1,react.exports=requireReact_production()),react.exports}var reactExports=requireReact();const React=getDefaultExportFromCjs(reactExports);var client={exports:{}},reactDomClient_production={},scheduler={exports:{}},scheduler_production={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hasRequiredScheduler_production;function requireScheduler_production(){return hasRequiredScheduler_production||(hasRequiredScheduler_production=1,function(i){function t(O,H){var F=O.length;O.push(H);t:for(;0<F;){var N=F-1>>>1,V=O[N];if(0<a(V,H))O[N]=H,O[F]=V,F=N;else break t}}function e(O){return O.length===0?null:O[0]}function n(O){if(O.length===0)return null;var H=O[0],F=O.pop();if(F!==H){O[0]=F;t:for(var N=0,V=O.length,$=V>>>1;N<$;){var Q=2*(N+1)-1,st=O[Q],rt=Q+1,pt=O[rt];if(0>a(st,F))rt<V&&0>a(pt,st)?(O[N]=pt,O[rt]=F,N=rt):(O[N]=st,O[Q]=F,N=Q);else if(rt<V&&0>a(pt,F))O[N]=pt,O[rt]=F,N=rt;else break t}}return H}function a(O,H){var F=O.sortIndex-H.sortIndex;return F!==0?F:O.id-H.id}if(i.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var l=performance;i.unstable_now=function(){return l.now()}}else{var c=Date,f=c.now();i.unstable_now=function(){return c.now()-f}}var d=[],m=[],y=1,A=null,b=3,x=!1,E=!1,T=!1,k=typeof setTimeout=="function"?setTimeout:null,S=typeof clearTimeout=="function"?clearTimeout:null,M=typeof setImmediate<"u"?setImmediate:null;function P(O){for(var H=e(m);H!==null;){if(H.callback===null)n(m);else if(H.startTime<=O)n(m),H.sortIndex=H.expirationTime,t(d,H);else break;H=e(m)}}function R(O){if(T=!1,P(O),!E)if(e(d)!==null)E=!0,tt();else{var H=e(m);H!==null&&W(R,H.startTime-O)}}var D=!1,L=-1,G=5,q=-1;function X(){return!(i.unstable_now()-q<G)}function J(){if(D){var O=i.unstable_now();q=O;var H=!0;try{t:{E=!1,T&&(T=!1,S(L),L=-1),x=!0;var F=b;try{e:{for(P(O),A=e(d);A!==null&&!(A.expirationTime>O&&X());){var N=A.callback;if(typeof N=="function"){A.callback=null,b=A.priorityLevel;var V=N(A.expirationTime<=O);if(O=i.unstable_now(),typeof V=="function"){A.callback=V,P(O),H=!0;break e}A===e(d)&&n(d),P(O)}else n(d);A=e(d)}if(A!==null)H=!0;else{var $=e(m);$!==null&&W(R,$.startTime-O),H=!1}}break t}finally{A=null,b=F,x=!1}H=void 0}}finally{H?et():D=!1}}}var et;if(typeof M=="function")et=function(){M(J)};else if(typeof MessageChannel<"u"){var it=new MessageChannel,lt=it.port2;it.port1.onmessage=J,et=function(){lt.postMessage(null)}}else et=function(){k(J,0)};function tt(){D||(D=!0,et())}function W(O,H){L=k(function(){O(i.unstable_now())},H)}i.unstable_IdlePriority=5,i.unstable_ImmediatePriority=1,i.unstable_LowPriority=4,i.unstable_NormalPriority=3,i.unstable_Profiling=null,i.unstable_UserBlockingPriority=2,i.unstable_cancelCallback=function(O){O.callback=null},i.unstable_continueExecution=function(){E||x||(E=!0,tt())},i.unstable_forceFrameRate=function(O){0>O||125<O?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):G=0<O?Math.floor(1e3/O):5},i.unstable_getCurrentPriorityLevel=function(){return b},i.unstable_getFirstCallbackNode=function(){return e(d)},i.unstable_next=function(O){switch(b){case 1:case 2:case 3:var H=3;break;default:H=b}var F=b;b=H;try{return O()}finally{b=F}},i.unstable_pauseExecution=function(){},i.unstable_requestPaint=function(){},i.unstable_runWithPriority=function(O,H){switch(O){case 1:case 2:case 3:case 4:case 5:break;default:O=3}var F=b;b=O;try{return H()}finally{b=F}},i.unstable_scheduleCallback=function(O,H,F){var N=i.unstable_now();switch(typeof F=="object"&&F!==null?(F=F.delay,F=typeof F=="number"&&0<F?N+F:N):F=N,O){case 1:var V=-1;break;case 2:V=250;break;case 5:V=1073741823;break;case 4:V=1e4;break;default:V=5e3}return V=F+V,O={id:y++,callback:H,priorityLevel:O,startTime:F,expirationTime:V,sortIndex:-1},F>N?(O.sortIndex=F,t(m,O),e(d)===null&&O===e(m)&&(T?(S(L),L=-1):T=!0,W(R,F-N))):(O.sortIndex=V,t(d,O),E||x||(E=!0,tt())),O},i.unstable_shouldYield=X,i.unstable_wrapCallback=function(O){var H=b;return function(){var F=b;b=H;try{return O.apply(this,arguments)}finally{b=F}}}}(scheduler_production)),scheduler_production}var hasRequiredScheduler;function requireScheduler(){return hasRequiredScheduler||(hasRequiredScheduler=1,scheduler.exports=requireScheduler_production()),scheduler.exports}var reactDom={exports:{}},reactDom_production={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hasRequiredReactDom_production;function requireReactDom_production(){if(hasRequiredReactDom_production)return reactDom_production;hasRequiredReactDom_production=1;var i=requireReact();function t(d){var m="https://react.dev/errors/"+d;if(1<arguments.length){m+="?args[]="+encodeURIComponent(arguments[1]);for(var y=2;y<arguments.length;y++)m+="&args[]="+encodeURIComponent(arguments[y])}return"Minified React error #"+d+"; visit "+m+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function e(){}var n={d:{f:e,r:function(){throw Error(t(522))},D:e,C:e,L:e,m:e,X:e,S:e,M:e},p:0,findDOMNode:null},a=Symbol.for("react.portal");function l(d,m,y){var A=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:a,key:A==null?null:""+A,children:d,containerInfo:m,implementation:y}}var c=i.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function f(d,m){if(d==="font")return"";if(typeof m=="string")return m==="use-credentials"?m:""}return reactDom_production.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=n,reactDom_production.createPortal=function(d,m){var y=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!m||m.nodeType!==1&&m.nodeType!==9&&m.nodeType!==11)throw Error(t(299));return l(d,m,null,y)},reactDom_production.flushSync=function(d){var m=c.T,y=n.p;try{if(c.T=null,n.p=2,d)return d()}finally{c.T=m,n.p=y,n.d.f()}},reactDom_production.preconnect=function(d,m){typeof d=="string"&&(m?(m=m.crossOrigin,m=typeof m=="string"?m==="use-credentials"?m:"":void 0):m=null,n.d.C(d,m))},reactDom_production.prefetchDNS=function(d){typeof d=="string"&&n.d.D(d)},reactDom_production.preinit=function(d,m){if(typeof d=="string"&&m&&typeof m.as=="string"){var y=m.as,A=f(y,m.crossOrigin),b=typeof m.integrity=="string"?m.integrity:void 0,x=typeof m.fetchPriority=="string"?m.fetchPriority:void 0;y==="style"?n.d.S(d,typeof m.precedence=="string"?m.precedence:void 0,{crossOrigin:A,integrity:b,fetchPriority:x}):y==="script"&&n.d.X(d,{crossOrigin:A,integrity:b,fetchPriority:x,nonce:typeof m.nonce=="string"?m.nonce:void 0})}},reactDom_production.preinitModule=function(d,m){if(typeof d=="string")if(typeof m=="object"&&m!==null){if(m.as==null||m.as==="script"){var y=f(m.as,m.crossOrigin);n.d.M(d,{crossOrigin:y,integrity:typeof m.integrity=="string"?m.integrity:void 0,nonce:typeof m.nonce=="string"?m.nonce:void 0})}}else m==null&&n.d.M(d)},reactDom_production.preload=function(d,m){if(typeof d=="string"&&typeof m=="object"&&m!==null&&typeof m.as=="string"){var y=m.as,A=f(y,m.crossOrigin);n.d.L(d,y,{crossOrigin:A,integrity:typeof m.integrity=="string"?m.integrity:void 0,nonce:typeof m.nonce=="string"?m.nonce:void 0,type:typeof m.type=="string"?m.type:void 0,fetchPriority:typeof m.fetchPriority=="string"?m.fetchPriority:void 0,referrerPolicy:typeof m.referrerPolicy=="string"?m.referrerPolicy:void 0,imageSrcSet:typeof m.imageSrcSet=="string"?m.imageSrcSet:void 0,imageSizes:typeof m.imageSizes=="string"?m.imageSizes:void 0,media:typeof m.media=="string"?m.media:void 0})}},reactDom_production.preloadModule=function(d,m){if(typeof d=="string")if(m){var y=f(m.as,m.crossOrigin);n.d.m(d,{as:typeof m.as=="string"&&m.as!=="script"?m.as:void 0,crossOrigin:y,integrity:typeof m.integrity=="string"?m.integrity:void 0})}else n.d.m(d)},reactDom_production.requestFormReset=function(d){n.d.r(d)},reactDom_production.unstable_batchedUpdates=function(d,m){return d(m)},reactDom_production.useFormState=function(d,m,y){return c.H.useFormState(d,m,y)},reactDom_production.useFormStatus=function(){return c.H.useHostTransitionStatus()},reactDom_production.version="19.0.0",reactDom_production}var hasRequiredReactDom;function requireReactDom(){if(hasRequiredReactDom)return reactDom.exports;hasRequiredReactDom=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(t){console.error(t)}}return i(),reactDom.exports=requireReactDom_production(),reactDom.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hasRequiredReactDomClient_production;function requireReactDomClient_production(){if(hasRequiredReactDomClient_production)return reactDomClient_production;hasRequiredReactDomClient_production=1;var i=requireScheduler(),t=requireReact(),e=requireReactDom();function n(s){var o="https://react.dev/errors/"+s;if(1<arguments.length){o+="?args[]="+encodeURIComponent(arguments[1]);for(var u=2;u<arguments.length;u++)o+="&args[]="+encodeURIComponent(arguments[u])}return"Minified React error #"+s+"; visit "+o+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11)}var l=Symbol.for("react.element"),c=Symbol.for("react.transitional.element"),f=Symbol.for("react.portal"),d=Symbol.for("react.fragment"),m=Symbol.for("react.strict_mode"),y=Symbol.for("react.profiler"),A=Symbol.for("react.provider"),b=Symbol.for("react.consumer"),x=Symbol.for("react.context"),E=Symbol.for("react.forward_ref"),T=Symbol.for("react.suspense"),k=Symbol.for("react.suspense_list"),S=Symbol.for("react.memo"),M=Symbol.for("react.lazy"),P=Symbol.for("react.offscreen"),R=Symbol.for("react.memo_cache_sentinel"),D=Symbol.iterator;function L(s){return s===null||typeof s!="object"?null:(s=D&&s[D]||s["@@iterator"],typeof s=="function"?s:null)}var G=Symbol.for("react.client.reference");function q(s){if(s==null)return null;if(typeof s=="function")return s.$$typeof===G?null:s.displayName||s.name||null;if(typeof s=="string")return s;switch(s){case d:return"Fragment";case f:return"Portal";case y:return"Profiler";case m:return"StrictMode";case T:return"Suspense";case k:return"SuspenseList"}if(typeof s=="object")switch(s.$$typeof){case x:return(s.displayName||"Context")+".Provider";case b:return(s._context.displayName||"Context")+".Consumer";case E:var o=s.render;return s=s.displayName,s||(s=o.displayName||o.name||"",s=s!==""?"ForwardRef("+s+")":"ForwardRef"),s;case S:return o=s.displayName||null,o!==null?o:q(s.type)||"Memo";case M:o=s._payload,s=s._init;try{return q(s(o))}catch{}}return null}var X=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,J=Object.assign,et,it;function lt(s){if(et===void 0)try{throw Error()}catch(u){var o=u.stack.trim().match(/\n( *(at )?)/);et=o&&o[1]||"",it=-1<u.stack.indexOf(`
    at`)?" (<anonymous>)":-1<u.stack.indexOf("@")?"@unknown:0:0":""}return`
`+et+s+it}var tt=!1;function W(s,o){if(!s||tt)return"";tt=!0;var u=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var p={DetermineComponentFrameRoot:function(){try{if(o){var dt=function(){throw Error()};if(Object.defineProperty(dt.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(dt,[])}catch(ct){var ot=ct}Reflect.construct(s,[],dt)}else{try{dt.call()}catch(ct){ot=ct}s.call(dt.prototype)}}else{try{throw Error()}catch(ct){ot=ct}(dt=s())&&typeof dt.catch=="function"&&dt.catch(function(){})}}catch(ct){if(ct&&ot&&typeof ct.stack=="string")return[ct.stack,ot.stack]}return[null,null]}};p.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var _=Object.getOwnPropertyDescriptor(p.DetermineComponentFrameRoot,"name");_&&_.configurable&&Object.defineProperty(p.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var C=p.DetermineComponentFrameRoot(),I=C[0],j=C[1];if(I&&j){var Y=I.split(`
`),Z=j.split(`
`);for(_=p=0;p<Y.length&&!Y[p].includes("DetermineComponentFrameRoot");)p++;for(;_<Z.length&&!Z[_].includes("DetermineComponentFrameRoot");)_++;if(p===Y.length||_===Z.length)for(p=Y.length-1,_=Z.length-1;1<=p&&0<=_&&Y[p]!==Z[_];)_--;for(;1<=p&&0<=_;p--,_--)if(Y[p]!==Z[_]){if(p!==1||_!==1)do if(p--,_--,0>_||Y[p]!==Z[_]){var ut=`
`+Y[p].replace(" at new "," at ");return s.displayName&&ut.includes("<anonymous>")&&(ut=ut.replace("<anonymous>",s.displayName)),ut}while(1<=p&&0<=_);break}}}finally{tt=!1,Error.prepareStackTrace=u}return(u=s?s.displayName||s.name:"")?lt(u):""}function O(s){switch(s.tag){case 26:case 27:case 5:return lt(s.type);case 16:return lt("Lazy");case 13:return lt("Suspense");case 19:return lt("SuspenseList");case 0:case 15:return s=W(s.type,!1),s;case 11:return s=W(s.type.render,!1),s;case 1:return s=W(s.type,!0),s;default:return""}}function H(s){try{var o="";do o+=O(s),s=s.return;while(s);return o}catch(u){return`
Error generating stack: `+u.message+`
`+u.stack}}function F(s){var o=s,u=s;if(s.alternate)for(;o.return;)o=o.return;else{s=o;do o=s,(o.flags&4098)!==0&&(u=o.return),s=o.return;while(s)}return o.tag===3?u:null}function N(s){if(s.tag===13){var o=s.memoizedState;if(o===null&&(s=s.alternate,s!==null&&(o=s.memoizedState)),o!==null)return o.dehydrated}return null}function V(s){if(F(s)!==s)throw Error(n(188))}function $(s){var o=s.alternate;if(!o){if(o=F(s),o===null)throw Error(n(188));return o!==s?null:s}for(var u=s,p=o;;){var _=u.return;if(_===null)break;var C=_.alternate;if(C===null){if(p=_.return,p!==null){u=p;continue}break}if(_.child===C.child){for(C=_.child;C;){if(C===u)return V(_),s;if(C===p)return V(_),o;C=C.sibling}throw Error(n(188))}if(u.return!==p.return)u=_,p=C;else{for(var I=!1,j=_.child;j;){if(j===u){I=!0,u=_,p=C;break}if(j===p){I=!0,p=_,u=C;break}j=j.sibling}if(!I){for(j=C.child;j;){if(j===u){I=!0,u=C,p=_;break}if(j===p){I=!0,p=C,u=_;break}j=j.sibling}if(!I)throw Error(n(189))}}if(u.alternate!==p)throw Error(n(190))}if(u.tag!==3)throw Error(n(188));return u.stateNode.current===u?s:o}function Q(s){var o=s.tag;if(o===5||o===26||o===27||o===6)return s;for(s=s.child;s!==null;){if(o=Q(s),o!==null)return o;s=s.sibling}return null}var st=Array.isArray,rt=e.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,pt={pending:!1,data:null,method:null,action:null},ht=[],mt=-1;function At(s){return{current:s}}function Ct(s){0>mt||(s.current=ht[mt],ht[mt]=null,mt--)}function _t(s,o){mt++,ht[mt]=s.current,s.current=o}var Vt=At(null),ne=At(null),Et=At(null),gt=At(null);function jt(s,o){switch(_t(Et,o),_t(ne,s),_t(Vt,null),s=o.nodeType,s){case 9:case 11:o=(o=o.documentElement)&&(o=o.namespaceURI)?i1(o):0;break;default:if(s=s===8?o.parentNode:o,o=s.tagName,s=s.namespaceURI)s=i1(s),o=n1(s,o);else switch(o){case"svg":o=1;break;case"math":o=2;break;default:o=0}}Ct(Vt),_t(Vt,o)}function zt(){Ct(Vt),Ct(ne),Ct(Et)}function _e(s){s.memoizedState!==null&&_t(gt,s);var o=Vt.current,u=n1(o,s.type);o!==u&&(_t(ne,s),_t(Vt,u))}function ye(s){ne.current===s&&(Ct(Vt),Ct(ne)),gt.current===s&&(Ct(gt),ec._currentValue=pt)}var si=Object.prototype.hasOwnProperty,ri=i.unstable_scheduleCallback,ae=i.unstable_cancelCallback,Vi=i.unstable_shouldYield,zi=i.unstable_requestPaint,se=i.unstable_now,Hi=i.unstable_getCurrentPriorityLevel,Ke=i.unstable_ImmediatePriority,He=i.unstable_UserBlockingPriority,di=i.unstable_NormalPriority,hn=i.unstable_LowPriority,cn=i.unstable_IdlePriority,o_=i.log,l_=i.unstable_setDisableYieldValue,ch=null,Ei=null;function h_(s){if(Ei&&typeof Ei.onCommitFiberRoot=="function")try{Ei.onCommitFiberRoot(ch,s,void 0,(s.current.flags&128)===128)}catch{}}function Ys(s){if(typeof o_=="function"&&l_(s),Ei&&typeof Ei.setStrictMode=="function")try{Ei.setStrictMode(ch,s)}catch{}}var xi=Math.clz32?Math.clz32:f_,c_=Math.log,u_=Math.LN2;function f_(s){return s>>>=0,s===0?32:31-(c_(s)/u_|0)|0}var Ou=128,Nu=4194304;function Wr(s){var o=s&42;if(o!==0)return o;switch(s&-s){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s&4194176;case 4194304:case 8388608:case 16777216:case 33554432:return s&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return s}}function Bu(s,o){var u=s.pendingLanes;if(u===0)return 0;var p=0,_=s.suspendedLanes,C=s.pingedLanes,I=s.warmLanes;s=s.finishedLanes!==0;var j=u&134217727;return j!==0?(u=j&~_,u!==0?p=Wr(u):(C&=j,C!==0?p=Wr(C):s||(I=j&~I,I!==0&&(p=Wr(I))))):(j=u&~_,j!==0?p=Wr(j):C!==0?p=Wr(C):s||(I=u&~I,I!==0&&(p=Wr(I)))),p===0?0:o!==0&&o!==p&&(o&_)===0&&(_=p&-p,I=o&-o,_>=I||_===32&&(I&4194176)!==0)?o:p}function uh(s,o){return(s.pendingLanes&~(s.suspendedLanes&~s.pingedLanes)&o)===0}function d_(s,o){switch(s){case 1:case 2:case 4:case 8:return o+250;case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return o+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Y0(){var s=Ou;return Ou<<=1,(Ou&4194176)===0&&(Ou=128),s}function W0(){var s=Nu;return Nu<<=1,(Nu&62914560)===0&&(Nu=4194304),s}function Vd(s){for(var o=[],u=0;31>u;u++)o.push(s);return o}function fh(s,o){s.pendingLanes|=o,o!==268435456&&(s.suspendedLanes=0,s.pingedLanes=0,s.warmLanes=0)}function p_(s,o,u,p,_,C){var I=s.pendingLanes;s.pendingLanes=u,s.suspendedLanes=0,s.pingedLanes=0,s.warmLanes=0,s.expiredLanes&=u,s.entangledLanes&=u,s.errorRecoveryDisabledLanes&=u,s.shellSuspendCounter=0;var j=s.entanglements,Y=s.expirationTimes,Z=s.hiddenUpdates;for(u=I&~u;0<u;){var ut=31-xi(u),dt=1<<ut;j[ut]=0,Y[ut]=-1;var ot=Z[ut];if(ot!==null)for(Z[ut]=null,ut=0;ut<ot.length;ut++){var ct=ot[ut];ct!==null&&(ct.lane&=-536870913)}u&=~dt}p!==0&&K0(s,p,0),C!==0&&_===0&&s.tag!==0&&(s.suspendedLanes|=C&~(I&~o))}function K0(s,o,u){s.pendingLanes|=o,s.suspendedLanes&=~o;var p=31-xi(o);s.entangledLanes|=o,s.entanglements[p]=s.entanglements[p]|1073741824|u&4194218}function Q0(s,o){var u=s.entangledLanes|=o;for(s=s.entanglements;u;){var p=31-xi(u),_=1<<p;_&o|s[p]&o&&(s[p]|=o),u&=~_}}function Z0(s){return s&=-s,2<s?8<s?(s&134217727)!==0?32:268435456:8:2}function J0(){var s=rt.p;return s!==0?s:(s=window.event,s===void 0?32:E1(s.type))}function m_(s,o){var u=rt.p;try{return rt.p=s,o()}finally{rt.p=u}}var Ws=Math.random().toString(36).slice(2),Qe="__reactFiber$"+Ws,pi="__reactProps$"+Ws,xo="__reactContainer$"+Ws,zd="__reactEvents$"+Ws,g_="__reactListeners$"+Ws,y_="__reactHandles$"+Ws,tg="__reactResources$"+Ws,dh="__reactMarker$"+Ws;function Hd(s){delete s[Qe],delete s[pi],delete s[zd],delete s[g_],delete s[y_]}function Kr(s){var o=s[Qe];if(o)return o;for(var u=s.parentNode;u;){if(o=u[xo]||u[Qe]){if(u=o.alternate,o.child!==null||u!==null&&u.child!==null)for(s=a1(s);s!==null;){if(u=s[Qe])return u;s=a1(s)}return o}s=u,u=s.parentNode}return null}function So(s){if(s=s[Qe]||s[xo]){var o=s.tag;if(o===5||o===6||o===13||o===26||o===27||o===3)return s}return null}function ph(s){var o=s.tag;if(o===5||o===26||o===27||o===6)return s.stateNode;throw Error(n(33))}function To(s){var o=s[tg];return o||(o=s[tg]={hoistableStyles:new Map,hoistableScripts:new Map}),o}function Fe(s){s[dh]=!0}var eg=new Set,ig={};function Qr(s,o){wo(s,o),wo(s+"Capture",o)}function wo(s,o){for(ig[s]=o,s=0;s<o.length;s++)eg.add(o[s])}var Jn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),v_=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),ng={},sg={};function b_(s){return si.call(sg,s)?!0:si.call(ng,s)?!1:v_.test(s)?sg[s]=!0:(ng[s]=!0,!1)}function Vu(s,o,u){if(b_(o))if(u===null)s.removeAttribute(o);else{switch(typeof u){case"undefined":case"function":case"symbol":s.removeAttribute(o);return;case"boolean":var p=o.toLowerCase().slice(0,5);if(p!=="data-"&&p!=="aria-"){s.removeAttribute(o);return}}s.setAttribute(o,""+u)}}function zu(s,o,u){if(u===null)s.removeAttribute(o);else{switch(typeof u){case"undefined":case"function":case"symbol":case"boolean":s.removeAttribute(o);return}s.setAttribute(o,""+u)}}function es(s,o,u,p){if(p===null)s.removeAttribute(u);else{switch(typeof p){case"undefined":case"function":case"symbol":case"boolean":s.removeAttribute(u);return}s.setAttributeNS(o,u,""+p)}}function Gi(s){switch(typeof s){case"bigint":case"boolean":case"number":case"string":case"undefined":return s;case"object":return s;default:return""}}function rg(s){var o=s.type;return(s=s.nodeName)&&s.toLowerCase()==="input"&&(o==="checkbox"||o==="radio")}function __(s){var o=rg(s)?"checked":"value",u=Object.getOwnPropertyDescriptor(s.constructor.prototype,o),p=""+s[o];if(!s.hasOwnProperty(o)&&typeof u<"u"&&typeof u.get=="function"&&typeof u.set=="function"){var _=u.get,C=u.set;return Object.defineProperty(s,o,{configurable:!0,get:function(){return _.call(this)},set:function(I){p=""+I,C.call(this,I)}}),Object.defineProperty(s,o,{enumerable:u.enumerable}),{getValue:function(){return p},setValue:function(I){p=""+I},stopTracking:function(){s._valueTracker=null,delete s[o]}}}}function Hu(s){s._valueTracker||(s._valueTracker=__(s))}function ag(s){if(!s)return!1;var o=s._valueTracker;if(!o)return!0;var u=o.getValue(),p="";return s&&(p=rg(s)?s.checked?"true":"false":s.value),s=p,s!==u?(o.setValue(s),!0):!1}function Gu(s){if(s=s||(typeof document<"u"?document:void 0),typeof s>"u")return null;try{return s.activeElement||s.body}catch{return s.body}}var A_=/[\n"\\]/g;function Ui(s){return s.replace(A_,function(o){return"\\"+o.charCodeAt(0).toString(16)+" "})}function Gd(s,o,u,p,_,C,I,j){s.name="",I!=null&&typeof I!="function"&&typeof I!="symbol"&&typeof I!="boolean"?s.type=I:s.removeAttribute("type"),o!=null?I==="number"?(o===0&&s.value===""||s.value!=o)&&(s.value=""+Gi(o)):s.value!==""+Gi(o)&&(s.value=""+Gi(o)):I!=="submit"&&I!=="reset"||s.removeAttribute("value"),o!=null?Ud(s,I,Gi(o)):u!=null?Ud(s,I,Gi(u)):p!=null&&s.removeAttribute("value"),_==null&&C!=null&&(s.defaultChecked=!!C),_!=null&&(s.checked=_&&typeof _!="function"&&typeof _!="symbol"),j!=null&&typeof j!="function"&&typeof j!="symbol"&&typeof j!="boolean"?s.name=""+Gi(j):s.removeAttribute("name")}function og(s,o,u,p,_,C,I,j){if(C!=null&&typeof C!="function"&&typeof C!="symbol"&&typeof C!="boolean"&&(s.type=C),o!=null||u!=null){if(!(C!=="submit"&&C!=="reset"||o!=null))return;u=u!=null?""+Gi(u):"",o=o!=null?""+Gi(o):u,j||o===s.value||(s.value=o),s.defaultValue=o}p=p??_,p=typeof p!="function"&&typeof p!="symbol"&&!!p,s.checked=j?s.checked:!!p,s.defaultChecked=!!p,I!=null&&typeof I!="function"&&typeof I!="symbol"&&typeof I!="boolean"&&(s.name=I)}function Ud(s,o,u){o==="number"&&Gu(s.ownerDocument)===s||s.defaultValue===""+u||(s.defaultValue=""+u)}function Co(s,o,u,p){if(s=s.options,o){o={};for(var _=0;_<u.length;_++)o["$"+u[_]]=!0;for(u=0;u<s.length;u++)_=o.hasOwnProperty("$"+s[u].value),s[u].selected!==_&&(s[u].selected=_),_&&p&&(s[u].defaultSelected=!0)}else{for(u=""+Gi(u),o=null,_=0;_<s.length;_++){if(s[_].value===u){s[_].selected=!0,p&&(s[_].defaultSelected=!0);return}o!==null||s[_].disabled||(o=s[_])}o!==null&&(o.selected=!0)}}function lg(s,o,u){if(o!=null&&(o=""+Gi(o),o!==s.value&&(s.value=o),u==null)){s.defaultValue!==o&&(s.defaultValue=o);return}s.defaultValue=u!=null?""+Gi(u):""}function hg(s,o,u,p){if(o==null){if(p!=null){if(u!=null)throw Error(n(92));if(st(p)){if(1<p.length)throw Error(n(93));p=p[0]}u=p}u==null&&(u=""),o=u}u=Gi(o),s.defaultValue=u,p=s.textContent,p===u&&p!==""&&p!==null&&(s.value=p)}function Po(s,o){if(o){var u=s.firstChild;if(u&&u===s.lastChild&&u.nodeType===3){u.nodeValue=o;return}}s.textContent=o}var E_=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function cg(s,o,u){var p=o.indexOf("--")===0;u==null||typeof u=="boolean"||u===""?p?s.setProperty(o,""):o==="float"?s.cssFloat="":s[o]="":p?s.setProperty(o,u):typeof u!="number"||u===0||E_.has(o)?o==="float"?s.cssFloat=u:s[o]=(""+u).trim():s[o]=u+"px"}function ug(s,o,u){if(o!=null&&typeof o!="object")throw Error(n(62));if(s=s.style,u!=null){for(var p in u)!u.hasOwnProperty(p)||o!=null&&o.hasOwnProperty(p)||(p.indexOf("--")===0?s.setProperty(p,""):p==="float"?s.cssFloat="":s[p]="");for(var _ in o)p=o[_],o.hasOwnProperty(_)&&u[_]!==p&&cg(s,_,p)}else for(var C in o)o.hasOwnProperty(C)&&cg(s,C,o[C])}function jd(s){if(s.indexOf("-")===-1)return!1;switch(s){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var x_=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),S_=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Uu(s){return S_.test(""+s)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":s}var qd=null;function $d(s){return s=s.target||s.srcElement||window,s.correspondingUseElement&&(s=s.correspondingUseElement),s.nodeType===3?s.parentNode:s}var Mo=null,Ro=null;function fg(s){var o=So(s);if(o&&(s=o.stateNode)){var u=s[pi]||null;t:switch(s=o.stateNode,o.type){case"input":if(Gd(s,u.value,u.defaultValue,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name),o=u.name,u.type==="radio"&&o!=null){for(u=s;u.parentNode;)u=u.parentNode;for(u=u.querySelectorAll('input[name="'+Ui(""+o)+'"][type="radio"]'),o=0;o<u.length;o++){var p=u[o];if(p!==s&&p.form===s.form){var _=p[pi]||null;if(!_)throw Error(n(90));Gd(p,_.value,_.defaultValue,_.defaultValue,_.checked,_.defaultChecked,_.type,_.name)}}for(o=0;o<u.length;o++)p=u[o],p.form===s.form&&ag(p)}break t;case"textarea":lg(s,u.value,u.defaultValue);break t;case"select":o=u.value,o!=null&&Co(s,!!u.multiple,o,!1)}}}var Xd=!1;function dg(s,o,u){if(Xd)return s(o,u);Xd=!0;try{var p=s(o);return p}finally{if(Xd=!1,(Mo!==null||Ro!==null)&&(Cf(),Mo&&(o=Mo,s=Ro,Ro=Mo=null,fg(o),s)))for(o=0;o<s.length;o++)fg(s[o])}}function mh(s,o){var u=s.stateNode;if(u===null)return null;var p=u[pi]||null;if(p===null)return null;u=p[o];t:switch(o){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(p=!p.disabled)||(s=s.type,p=!(s==="button"||s==="input"||s==="select"||s==="textarea")),s=!p;break t;default:s=!1}if(s)return null;if(u&&typeof u!="function")throw Error(n(231,o,typeof u));return u}var Yd=!1;if(Jn)try{var gh={};Object.defineProperty(gh,"passive",{get:function(){Yd=!0}}),window.addEventListener("test",gh,gh),window.removeEventListener("test",gh,gh)}catch{Yd=!1}var Ks=null,Wd=null,ju=null;function pg(){if(ju)return ju;var s,o=Wd,u=o.length,p,_="value"in Ks?Ks.value:Ks.textContent,C=_.length;for(s=0;s<u&&o[s]===_[s];s++);var I=u-s;for(p=1;p<=I&&o[u-p]===_[C-p];p++);return ju=_.slice(s,1<p?1-p:void 0)}function qu(s){var o=s.keyCode;return"charCode"in s?(s=s.charCode,s===0&&o===13&&(s=13)):s=o,s===10&&(s=13),32<=s||s===13?s:0}function $u(){return!0}function mg(){return!1}function mi(s){function o(u,p,_,C,I){this._reactName=u,this._targetInst=_,this.type=p,this.nativeEvent=C,this.target=I,this.currentTarget=null;for(var j in s)s.hasOwnProperty(j)&&(u=s[j],this[j]=u?u(C):C[j]);return this.isDefaultPrevented=(C.defaultPrevented!=null?C.defaultPrevented:C.returnValue===!1)?$u:mg,this.isPropagationStopped=mg,this}return J(o.prototype,{preventDefault:function(){this.defaultPrevented=!0;var u=this.nativeEvent;u&&(u.preventDefault?u.preventDefault():typeof u.returnValue!="unknown"&&(u.returnValue=!1),this.isDefaultPrevented=$u)},stopPropagation:function(){var u=this.nativeEvent;u&&(u.stopPropagation?u.stopPropagation():typeof u.cancelBubble!="unknown"&&(u.cancelBubble=!0),this.isPropagationStopped=$u)},persist:function(){},isPersistent:$u}),o}var Zr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(s){return s.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Xu=mi(Zr),yh=J({},Zr,{view:0,detail:0}),T_=mi(yh),Kd,Qd,vh,Yu=J({},yh,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Jd,button:0,buttons:0,relatedTarget:function(s){return s.relatedTarget===void 0?s.fromElement===s.srcElement?s.toElement:s.fromElement:s.relatedTarget},movementX:function(s){return"movementX"in s?s.movementX:(s!==vh&&(vh&&s.type==="mousemove"?(Kd=s.screenX-vh.screenX,Qd=s.screenY-vh.screenY):Qd=Kd=0,vh=s),Kd)},movementY:function(s){return"movementY"in s?s.movementY:Qd}}),gg=mi(Yu),w_=J({},Yu,{dataTransfer:0}),C_=mi(w_),P_=J({},yh,{relatedTarget:0}),Zd=mi(P_),M_=J({},Zr,{animationName:0,elapsedTime:0,pseudoElement:0}),R_=mi(M_),k_=J({},Zr,{clipboardData:function(s){return"clipboardData"in s?s.clipboardData:window.clipboardData}}),F_=mi(k_),D_=J({},Zr,{data:0}),yg=mi(D_),L_={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},I_={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},O_={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function N_(s){var o=this.nativeEvent;return o.getModifierState?o.getModifierState(s):(s=O_[s])?!!o[s]:!1}function Jd(){return N_}var B_=J({},yh,{key:function(s){if(s.key){var o=L_[s.key]||s.key;if(o!=="Unidentified")return o}return s.type==="keypress"?(s=qu(s),s===13?"Enter":String.fromCharCode(s)):s.type==="keydown"||s.type==="keyup"?I_[s.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Jd,charCode:function(s){return s.type==="keypress"?qu(s):0},keyCode:function(s){return s.type==="keydown"||s.type==="keyup"?s.keyCode:0},which:function(s){return s.type==="keypress"?qu(s):s.type==="keydown"||s.type==="keyup"?s.keyCode:0}}),V_=mi(B_),z_=J({},Yu,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),vg=mi(z_),H_=J({},yh,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Jd}),G_=mi(H_),U_=J({},Zr,{propertyName:0,elapsedTime:0,pseudoElement:0}),j_=mi(U_),q_=J({},Yu,{deltaX:function(s){return"deltaX"in s?s.deltaX:"wheelDeltaX"in s?-s.wheelDeltaX:0},deltaY:function(s){return"deltaY"in s?s.deltaY:"wheelDeltaY"in s?-s.wheelDeltaY:"wheelDelta"in s?-s.wheelDelta:0},deltaZ:0,deltaMode:0}),$_=mi(q_),X_=J({},Zr,{newState:0,oldState:0}),Y_=mi(X_),W_=[9,13,27,32],tp=Jn&&"CompositionEvent"in window,bh=null;Jn&&"documentMode"in document&&(bh=document.documentMode);var K_=Jn&&"TextEvent"in window&&!bh,bg=Jn&&(!tp||bh&&8<bh&&11>=bh),_g=" ",Ag=!1;function Eg(s,o){switch(s){case"keyup":return W_.indexOf(o.keyCode)!==-1;case"keydown":return o.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function xg(s){return s=s.detail,typeof s=="object"&&"data"in s?s.data:null}var ko=!1;function Q_(s,o){switch(s){case"compositionend":return xg(o);case"keypress":return o.which!==32?null:(Ag=!0,_g);case"textInput":return s=o.data,s===_g&&Ag?null:s;default:return null}}function Z_(s,o){if(ko)return s==="compositionend"||!tp&&Eg(s,o)?(s=pg(),ju=Wd=Ks=null,ko=!1,s):null;switch(s){case"paste":return null;case"keypress":if(!(o.ctrlKey||o.altKey||o.metaKey)||o.ctrlKey&&o.altKey){if(o.char&&1<o.char.length)return o.char;if(o.which)return String.fromCharCode(o.which)}return null;case"compositionend":return bg&&o.locale!=="ko"?null:o.data;default:return null}}var J_={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Sg(s){var o=s&&s.nodeName&&s.nodeName.toLowerCase();return o==="input"?!!J_[s.type]:o==="textarea"}function Tg(s,o,u,p){Mo?Ro?Ro.push(p):Ro=[p]:Mo=p,o=Ff(o,"onChange"),0<o.length&&(u=new Xu("onChange","change",null,u,p),s.push({event:u,listeners:o}))}var _h=null,Ah=null;function tA(s){Qv(s,0)}function Wu(s){var o=ph(s);if(ag(o))return s}function wg(s,o){if(s==="change")return o}var Cg=!1;if(Jn){var ep;if(Jn){var np="oninput"in document;if(!np){var Pg=document.createElement("div");Pg.setAttribute("oninput","return;"),np=typeof Pg.oninput=="function"}ep=np}else ep=!1;Cg=ep&&(!document.documentMode||9<document.documentMode)}function Mg(){_h&&(_h.detachEvent("onpropertychange",Rg),Ah=_h=null)}function Rg(s){if(s.propertyName==="value"&&Wu(Ah)){var o=[];Tg(o,Ah,s,$d(s)),dg(tA,o)}}function eA(s,o,u){s==="focusin"?(Mg(),_h=o,Ah=u,_h.attachEvent("onpropertychange",Rg)):s==="focusout"&&Mg()}function iA(s){if(s==="selectionchange"||s==="keyup"||s==="keydown")return Wu(Ah)}function nA(s,o){if(s==="click")return Wu(o)}function sA(s,o){if(s==="input"||s==="change")return Wu(o)}function rA(s,o){return s===o&&(s!==0||1/s===1/o)||s!==s&&o!==o}var Si=typeof Object.is=="function"?Object.is:rA;function Eh(s,o){if(Si(s,o))return!0;if(typeof s!="object"||s===null||typeof o!="object"||o===null)return!1;var u=Object.keys(s),p=Object.keys(o);if(u.length!==p.length)return!1;for(p=0;p<u.length;p++){var _=u[p];if(!si.call(o,_)||!Si(s[_],o[_]))return!1}return!0}function kg(s){for(;s&&s.firstChild;)s=s.firstChild;return s}function Fg(s,o){var u=kg(s);s=0;for(var p;u;){if(u.nodeType===3){if(p=s+u.textContent.length,s<=o&&p>=o)return{node:u,offset:o-s};s=p}t:{for(;u;){if(u.nextSibling){u=u.nextSibling;break t}u=u.parentNode}u=void 0}u=kg(u)}}function Dg(s,o){return s&&o?s===o?!0:s&&s.nodeType===3?!1:o&&o.nodeType===3?Dg(s,o.parentNode):"contains"in s?s.contains(o):s.compareDocumentPosition?!!(s.compareDocumentPosition(o)&16):!1:!1}function Lg(s){s=s!=null&&s.ownerDocument!=null&&s.ownerDocument.defaultView!=null?s.ownerDocument.defaultView:window;for(var o=Gu(s.document);o instanceof s.HTMLIFrameElement;){try{var u=typeof o.contentWindow.location.href=="string"}catch{u=!1}if(u)s=o.contentWindow;else break;o=Gu(s.document)}return o}function sp(s){var o=s&&s.nodeName&&s.nodeName.toLowerCase();return o&&(o==="input"&&(s.type==="text"||s.type==="search"||s.type==="tel"||s.type==="url"||s.type==="password")||o==="textarea"||s.contentEditable==="true")}function aA(s,o){var u=Lg(o);o=s.focusedElem;var p=s.selectionRange;if(u!==o&&o&&o.ownerDocument&&Dg(o.ownerDocument.documentElement,o)){if(p!==null&&sp(o)){if(s=p.start,u=p.end,u===void 0&&(u=s),"selectionStart"in o)o.selectionStart=s,o.selectionEnd=Math.min(u,o.value.length);else if(u=(s=o.ownerDocument||document)&&s.defaultView||window,u.getSelection){u=u.getSelection();var _=o.textContent.length,C=Math.min(p.start,_);p=p.end===void 0?C:Math.min(p.end,_),!u.extend&&C>p&&(_=p,p=C,C=_),_=Fg(o,C);var I=Fg(o,p);_&&I&&(u.rangeCount!==1||u.anchorNode!==_.node||u.anchorOffset!==_.offset||u.focusNode!==I.node||u.focusOffset!==I.offset)&&(s=s.createRange(),s.setStart(_.node,_.offset),u.removeAllRanges(),C>p?(u.addRange(s),u.extend(I.node,I.offset)):(s.setEnd(I.node,I.offset),u.addRange(s)))}}for(s=[],u=o;u=u.parentNode;)u.nodeType===1&&s.push({element:u,left:u.scrollLeft,top:u.scrollTop});for(typeof o.focus=="function"&&o.focus(),o=0;o<s.length;o++)u=s[o],u.element.scrollLeft=u.left,u.element.scrollTop=u.top}}var oA=Jn&&"documentMode"in document&&11>=document.documentMode,Fo=null,rp=null,xh=null,ap=!1;function Ig(s,o,u){var p=u.window===u?u.document:u.nodeType===9?u:u.ownerDocument;ap||Fo==null||Fo!==Gu(p)||(p=Fo,"selectionStart"in p&&sp(p)?p={start:p.selectionStart,end:p.selectionEnd}:(p=(p.ownerDocument&&p.ownerDocument.defaultView||window).getSelection(),p={anchorNode:p.anchorNode,anchorOffset:p.anchorOffset,focusNode:p.focusNode,focusOffset:p.focusOffset}),xh&&Eh(xh,p)||(xh=p,p=Ff(rp,"onSelect"),0<p.length&&(o=new Xu("onSelect","select",null,o,u),s.push({event:o,listeners:p}),o.target=Fo)))}function Jr(s,o){var u={};return u[s.toLowerCase()]=o.toLowerCase(),u["Webkit"+s]="webkit"+o,u["Moz"+s]="moz"+o,u}var Do={animationend:Jr("Animation","AnimationEnd"),animationiteration:Jr("Animation","AnimationIteration"),animationstart:Jr("Animation","AnimationStart"),transitionrun:Jr("Transition","TransitionRun"),transitionstart:Jr("Transition","TransitionStart"),transitioncancel:Jr("Transition","TransitionCancel"),transitionend:Jr("Transition","TransitionEnd")},lp={},Og={};Jn&&(Og=document.createElement("div").style,"AnimationEvent"in window||(delete Do.animationend.animation,delete Do.animationiteration.animation,delete Do.animationstart.animation),"TransitionEvent"in window||delete Do.transitionend.transition);function ta(s){if(lp[s])return lp[s];if(!Do[s])return s;var o=Do[s],u;for(u in o)if(o.hasOwnProperty(u)&&u in Og)return lp[s]=o[u];return s}var Ng=ta("animationend"),Bg=ta("animationiteration"),Vg=ta("animationstart"),lA=ta("transitionrun"),hA=ta("transitionstart"),cA=ta("transitioncancel"),zg=ta("transitionend"),Hg=new Map,Gg="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll scrollEnd toggle touchMove waiting wheel".split(" ");function un(s,o){Hg.set(s,o),Qr(o,[s])}var ji=[],Lo=0,hp=0;function Ku(){for(var s=Lo,o=hp=Lo=0;o<s;){var u=ji[o];ji[o++]=null;var p=ji[o];ji[o++]=null;var _=ji[o];ji[o++]=null;var C=ji[o];if(ji[o++]=null,p!==null&&_!==null){var I=p.pending;I===null?_.next=_:(_.next=I.next,I.next=_),p.pending=_}C!==0&&Ug(u,_,C)}}function Qu(s,o,u,p){ji[Lo++]=s,ji[Lo++]=o,ji[Lo++]=u,ji[Lo++]=p,hp|=p,s.lanes|=p,s=s.alternate,s!==null&&(s.lanes|=p)}function cp(s,o,u,p){return Qu(s,o,u,p),Zu(s)}function Qs(s,o){return Qu(s,null,null,o),Zu(s)}function Ug(s,o,u){s.lanes|=u;var p=s.alternate;p!==null&&(p.lanes|=u);for(var _=!1,C=s.return;C!==null;)C.childLanes|=u,p=C.alternate,p!==null&&(p.childLanes|=u),C.tag===22&&(s=C.stateNode,s===null||s._visibility&1||(_=!0)),s=C,C=C.return;_&&o!==null&&s.tag===3&&(C=s.stateNode,_=31-xi(u),C=C.hiddenUpdates,s=C[_],s===null?C[_]=[o]:s.push(o),o.lane=u|536870912)}function Zu(s){if(50<Yh)throw Yh=0,ym=null,Error(n(185));for(var o=s.return;o!==null;)s=o,o=s.return;return s.tag===3?s.stateNode:null}var Io={},jg=new WeakMap;function qi(s,o){if(typeof s=="object"&&s!==null){var u=jg.get(s);return u!==void 0?u:(o={value:s,source:o,stack:H(o)},jg.set(s,o),o)}return{value:s,source:o,stack:H(o)}}var Oo=[],No=0,Ju=null,tf=0,$i=[],Xi=0,ea=null,ns=1,ss="";function ia(s,o){Oo[No++]=tf,Oo[No++]=Ju,Ju=s,tf=o}function qg(s,o,u){$i[Xi++]=ns,$i[Xi++]=ss,$i[Xi++]=ea,ea=s;var p=ns;s=ss;var _=32-xi(p)-1;p&=~(1<<_),u+=1;var C=32-xi(o)+_;if(30<C){var I=_-_%5;C=(p&(1<<I)-1).toString(32),p>>=I,_-=I,ns=1<<32-xi(o)+_|u<<_|p,ss=C+s}else ns=1<<C|u<<_|p,ss=s}function up(s){s.return!==null&&(ia(s,1),qg(s,1,0))}function fp(s){for(;s===Ju;)Ju=Oo[--No],Oo[No]=null,tf=Oo[--No],Oo[No]=null;for(;s===ea;)ea=$i[--Xi],$i[Xi]=null,ss=$i[--Xi],$i[Xi]=null,ns=$i[--Xi],$i[Xi]=null}var ai=null,Ge=null,Gt=!1,fn=null,Rn=!1,dp=Error(n(519));function na(s){var o=Error(n(418,""));throw wh(qi(o,s)),dp}function $g(s){var o=s.stateNode,u=s.type,p=s.memoizedProps;switch(o[Qe]=s,o[pi]=p,u){case"dialog":Bt("cancel",o),Bt("close",o);break;case"iframe":case"object":case"embed":Bt("load",o);break;case"video":case"audio":for(u=0;u<Kh.length;u++)Bt(Kh[u],o);break;case"source":Bt("error",o);break;case"img":case"image":case"link":Bt("error",o),Bt("load",o);break;case"details":Bt("toggle",o);break;case"input":Bt("invalid",o),og(o,p.value,p.defaultValue,p.checked,p.defaultChecked,p.type,p.name,!0),Hu(o);break;case"select":Bt("invalid",o);break;case"textarea":Bt("invalid",o),hg(o,p.value,p.defaultValue,p.children),Hu(o)}u=p.children,typeof u!="string"&&typeof u!="number"&&typeof u!="bigint"||o.textContent===""+u||p.suppressHydrationWarning===!0||e1(o.textContent,u)?(p.popover!=null&&(Bt("beforetoggle",o),Bt("toggle",o)),p.onScroll!=null&&Bt("scroll",o),p.onScrollEnd!=null&&Bt("scrollend",o),p.onClick!=null&&(o.onclick=Df),o=!0):o=!1,o||na(s)}function Xg(s){for(ai=s.return;ai;)switch(ai.tag){case 3:case 27:Rn=!0;return;case 5:case 13:Rn=!1;return;default:ai=ai.return}}function Sh(s){if(s!==ai)return!1;if(!Gt)return Xg(s),Gt=!0,!1;var o=!1,u;if((u=s.tag!==3&&s.tag!==27)&&((u=s.tag===5)&&(u=s.type,u=!(u!=="form"&&u!=="button")||Lm(s.type,s.memoizedProps)),u=!u),u&&(o=!0),o&&Ge&&na(s),Xg(s),s.tag===13){if(s=s.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(n(317));t:{for(s=s.nextSibling,o=0;s;){if(s.nodeType===8)if(u=s.data,u==="/$"){if(o===0){Ge=pn(s.nextSibling);break t}o--}else u!=="$"&&u!=="$!"&&u!=="$?"||o++;s=s.nextSibling}Ge=null}}else Ge=ai?pn(s.stateNode.nextSibling):null;return!0}function Th(){Ge=ai=null,Gt=!1}function wh(s){fn===null?fn=[s]:fn.push(s)}var Ch=Error(n(460)),Yg=Error(n(474)),pp={then:function(){}};function Wg(s){return s=s.status,s==="fulfilled"||s==="rejected"}function ef(){}function Kg(s,o,u){switch(u=s[u],u===void 0?s.push(o):u!==o&&(o.then(ef,ef),o=u),o.status){case"fulfilled":return o.value;case"rejected":throw s=o.reason,s===Ch?Error(n(483)):s;default:if(typeof o.status=="string")o.then(ef,ef);else{if(s=te,s!==null&&100<s.shellSuspendCounter)throw Error(n(482));s=o,s.status="pending",s.then(function(p){if(o.status==="pending"){var _=o;_.status="fulfilled",_.value=p}},function(p){if(o.status==="pending"){var _=o;_.status="rejected",_.reason=p}})}switch(o.status){case"fulfilled":return o.value;case"rejected":throw s=o.reason,s===Ch?Error(n(483)):s}throw Ph=o,Ch}}var Ph=null;function Qg(){if(Ph===null)throw Error(n(459));var s=Ph;return Ph=null,s}var Bo=null,Mh=0;function nf(s){var o=Mh;return Mh+=1,Bo===null&&(Bo=[]),Kg(Bo,s,o)}function Rh(s,o){o=o.props.ref,s.ref=o!==void 0?o:null}function sf(s,o){throw o.$$typeof===l?Error(n(525)):(s=Object.prototype.toString.call(o),Error(n(31,s==="[object Object]"?"object with keys {"+Object.keys(o).join(", ")+"}":s)))}function Zg(s){var o=s._init;return o(s._payload)}function Jg(s){function o(nt,K){if(s){var at=nt.deletions;at===null?(nt.deletions=[K],nt.flags|=16):at.push(K)}}function u(nt,K){if(!s)return null;for(;K!==null;)o(nt,K),K=K.sibling;return null}function p(nt){for(var K=new Map;nt!==null;)nt.key!==null?K.set(nt.key,nt):K.set(nt.index,nt),nt=nt.sibling;return K}function _(nt,K){return nt=hr(nt,K),nt.index=0,nt.sibling=null,nt}function C(nt,K,at){return nt.index=at,s?(at=nt.alternate,at!==null?(at=at.index,at<K?(nt.flags|=33554434,K):at):(nt.flags|=33554434,K)):(nt.flags|=1048576,K)}function I(nt){return s&&nt.alternate===null&&(nt.flags|=33554434),nt}function j(nt,K,at,ft){return K===null||K.tag!==6?(K=hm(at,nt.mode,ft),K.return=nt,K):(K=_(K,at),K.return=nt,K)}function Y(nt,K,at,ft){var xt=at.type;return xt===d?ut(nt,K,at.props.children,ft,at.key):K!==null&&(K.elementType===xt||typeof xt=="object"&&xt!==null&&xt.$$typeof===M&&Zg(xt)===K.type)?(K=_(K,at.props),Rh(K,at),K.return=nt,K):(K=Ef(at.type,at.key,at.props,null,nt.mode,ft),Rh(K,at),K.return=nt,K)}function Z(nt,K,at,ft){return K===null||K.tag!==4||K.stateNode.containerInfo!==at.containerInfo||K.stateNode.implementation!==at.implementation?(K=cm(at,nt.mode,ft),K.return=nt,K):(K=_(K,at.children||[]),K.return=nt,K)}function ut(nt,K,at,ft,xt){return K===null||K.tag!==7?(K=da(at,nt.mode,ft,xt),K.return=nt,K):(K=_(K,at),K.return=nt,K)}function dt(nt,K,at){if(typeof K=="string"&&K!==""||typeof K=="number"||typeof K=="bigint")return K=hm(""+K,nt.mode,at),K.return=nt,K;if(typeof K=="object"&&K!==null){switch(K.$$typeof){case c:return at=Ef(K.type,K.key,K.props,null,nt.mode,at),Rh(at,K),at.return=nt,at;case f:return K=cm(K,nt.mode,at),K.return=nt,K;case M:var ft=K._init;return K=ft(K._payload),dt(nt,K,at)}if(st(K)||L(K))return K=da(K,nt.mode,at,null),K.return=nt,K;if(typeof K.then=="function")return dt(nt,nf(K),at);if(K.$$typeof===x)return dt(nt,bf(nt,K),at);sf(nt,K)}return null}function ot(nt,K,at,ft){var xt=K!==null?K.key:null;if(typeof at=="string"&&at!==""||typeof at=="number"||typeof at=="bigint")return xt!==null?null:j(nt,K,""+at,ft);if(typeof at=="object"&&at!==null){switch(at.$$typeof){case c:return at.key===xt?Y(nt,K,at,ft):null;case f:return at.key===xt?Z(nt,K,at,ft):null;case M:return xt=at._init,at=xt(at._payload),ot(nt,K,at,ft)}if(st(at)||L(at))return xt!==null?null:ut(nt,K,at,ft,null);if(typeof at.then=="function")return ot(nt,K,nf(at),ft);if(at.$$typeof===x)return ot(nt,K,bf(nt,at),ft);sf(nt,at)}return null}function ct(nt,K,at,ft,xt){if(typeof ft=="string"&&ft!==""||typeof ft=="number"||typeof ft=="bigint")return nt=nt.get(at)||null,j(K,nt,""+ft,xt);if(typeof ft=="object"&&ft!==null){switch(ft.$$typeof){case c:return nt=nt.get(ft.key===null?at:ft.key)||null,Y(K,nt,ft,xt);case f:return nt=nt.get(ft.key===null?at:ft.key)||null,Z(K,nt,ft,xt);case M:var Lt=ft._init;return ft=Lt(ft._payload),ct(nt,K,at,ft,xt)}if(st(ft)||L(ft))return nt=nt.get(at)||null,ut(K,nt,ft,xt,null);if(typeof ft.then=="function")return ct(nt,K,at,nf(ft),xt);if(ft.$$typeof===x)return ct(nt,K,at,bf(K,ft),xt);sf(K,ft)}return null}function St(nt,K,at,ft){for(var xt=null,Lt=null,Tt=K,Pt=K=0,Ie=null;Tt!==null&&Pt<at.length;Pt++){Tt.index>Pt?(Ie=Tt,Tt=null):Ie=Tt.sibling;var Ut=ot(nt,Tt,at[Pt],ft);if(Ut===null){Tt===null&&(Tt=Ie);break}s&&Tt&&Ut.alternate===null&&o(nt,Tt),K=C(Ut,K,Pt),Lt===null?xt=Ut:Lt.sibling=Ut,Lt=Ut,Tt=Ie}if(Pt===at.length)return u(nt,Tt),Gt&&ia(nt,Pt),xt;if(Tt===null){for(;Pt<at.length;Pt++)Tt=dt(nt,at[Pt],ft),Tt!==null&&(K=C(Tt,K,Pt),Lt===null?xt=Tt:Lt.sibling=Tt,Lt=Tt);return Gt&&ia(nt,Pt),xt}for(Tt=p(Tt);Pt<at.length;Pt++)Ie=ct(Tt,nt,Pt,at[Pt],ft),Ie!==null&&(s&&Ie.alternate!==null&&Tt.delete(Ie.key===null?Pt:Ie.key),K=C(Ie,K,Pt),Lt===null?xt=Ie:Lt.sibling=Ie,Lt=Ie);return s&&Tt.forEach(function(yr){return o(nt,yr)}),Gt&&ia(nt,Pt),xt}function Rt(nt,K,at,ft){if(at==null)throw Error(n(151));for(var xt=null,Lt=null,Tt=K,Pt=K=0,Ie=null,Ut=at.next();Tt!==null&&!Ut.done;Pt++,Ut=at.next()){Tt.index>Pt?(Ie=Tt,Tt=null):Ie=Tt.sibling;var yr=ot(nt,Tt,Ut.value,ft);if(yr===null){Tt===null&&(Tt=Ie);break}s&&Tt&&yr.alternate===null&&o(nt,Tt),K=C(yr,K,Pt),Lt===null?xt=yr:Lt.sibling=yr,Lt=yr,Tt=Ie}if(Ut.done)return u(nt,Tt),Gt&&ia(nt,Pt),xt;if(Tt===null){for(;!Ut.done;Pt++,Ut=at.next())Ut=dt(nt,Ut.value,ft),Ut!==null&&(K=C(Ut,K,Pt),Lt===null?xt=Ut:Lt.sibling=Ut,Lt=Ut);return Gt&&ia(nt,Pt),xt}for(Tt=p(Tt);!Ut.done;Pt++,Ut=at.next())Ut=ct(Tt,nt,Pt,Ut.value,ft),Ut!==null&&(s&&Ut.alternate!==null&&Tt.delete(Ut.key===null?Pt:Ut.key),K=C(Ut,K,Pt),Lt===null?xt=Ut:Lt.sibling=Ut,Lt=Ut);return s&&Tt.forEach(function(SE){return o(nt,SE)}),Gt&&ia(nt,Pt),xt}function pe(nt,K,at,ft){if(typeof at=="object"&&at!==null&&at.type===d&&at.key===null&&(at=at.props.children),typeof at=="object"&&at!==null){switch(at.$$typeof){case c:t:{for(var xt=at.key;K!==null;){if(K.key===xt){if(xt=at.type,xt===d){if(K.tag===7){u(nt,K.sibling),ft=_(K,at.props.children),ft.return=nt,nt=ft;break t}}else if(K.elementType===xt||typeof xt=="object"&&xt!==null&&xt.$$typeof===M&&Zg(xt)===K.type){u(nt,K.sibling),ft=_(K,at.props),Rh(ft,at),ft.return=nt,nt=ft;break t}u(nt,K);break}else o(nt,K);K=K.sibling}at.type===d?(ft=da(at.props.children,nt.mode,ft,at.key),ft.return=nt,nt=ft):(ft=Ef(at.type,at.key,at.props,null,nt.mode,ft),Rh(ft,at),ft.return=nt,nt=ft)}return I(nt);case f:t:{for(xt=at.key;K!==null;){if(K.key===xt)if(K.tag===4&&K.stateNode.containerInfo===at.containerInfo&&K.stateNode.implementation===at.implementation){u(nt,K.sibling),ft=_(K,at.children||[]),ft.return=nt,nt=ft;break t}else{u(nt,K);break}else o(nt,K);K=K.sibling}ft=cm(at,nt.mode,ft),ft.return=nt,nt=ft}return I(nt);case M:return xt=at._init,at=xt(at._payload),pe(nt,K,at,ft)}if(st(at))return St(nt,K,at,ft);if(L(at)){if(xt=L(at),typeof xt!="function")throw Error(n(150));return at=xt.call(at),Rt(nt,K,at,ft)}if(typeof at.then=="function")return pe(nt,K,nf(at),ft);if(at.$$typeof===x)return pe(nt,K,bf(nt,at),ft);sf(nt,at)}return typeof at=="string"&&at!==""||typeof at=="number"||typeof at=="bigint"?(at=""+at,K!==null&&K.tag===6?(u(nt,K.sibling),ft=_(K,at),ft.return=nt,nt=ft):(u(nt,K),ft=hm(at,nt.mode,ft),ft.return=nt,nt=ft),I(nt)):u(nt,K)}return function(nt,K,at,ft){try{Mh=0;var xt=pe(nt,K,at,ft);return Bo=null,xt}catch(Tt){if(Tt===Ch)throw Tt;var Lt=Qi(29,Tt,null,nt.mode);return Lt.lanes=ft,Lt.return=nt,Lt}finally{}}}var sa=Jg(!0),ty=Jg(!1),Vo=At(null),rf=At(0);function ey(s,o){s=ms,_t(rf,s),_t(Vo,o),ms=s|o.baseLanes}function mp(){_t(rf,ms),_t(Vo,Vo.current)}function gp(){ms=rf.current,Ct(Vo),Ct(rf)}var Yi=At(null),kn=null;function Zs(s){var o=s.alternate;_t(we,we.current&1),_t(Yi,s),kn===null&&(o===null||Vo.current!==null||o.memoizedState!==null)&&(kn=s)}function iy(s){if(s.tag===22){if(_t(we,we.current),_t(Yi,s),kn===null){var o=s.alternate;o!==null&&o.memoizedState!==null&&(kn=s)}}else Js()}function Js(){_t(we,we.current),_t(Yi,Yi.current)}function rs(s){Ct(Yi),kn===s&&(kn=null),Ct(we)}var we=At(0);function af(s){for(var o=s;o!==null;){if(o.tag===13){var u=o.memoizedState;if(u!==null&&(u=u.dehydrated,u===null||u.data==="$?"||u.data==="$!"))return o}else if(o.tag===19&&o.memoizedProps.revealOrder!==void 0){if((o.flags&128)!==0)return o}else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===s)break;for(;o.sibling===null;){if(o.return===null||o.return===s)return null;o=o.return}o.sibling.return=o.return,o=o.sibling}return null}var uA=typeof AbortController<"u"?AbortController:function(){var s=[],o=this.signal={aborted:!1,addEventListener:function(u,p){s.push(p)}};this.abort=function(){o.aborted=!0,s.forEach(function(u){return u()})}},fA=i.unstable_scheduleCallback,dA=i.unstable_NormalPriority,Ce={$$typeof:x,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function yp(){return{controller:new uA,data:new Map,refCount:0}}function kh(s){s.refCount--,s.refCount===0&&fA(dA,function(){s.controller.abort()})}var Fh=null,vp=0,zo=0,Ho=null;function pA(s,o){if(Fh===null){var u=Fh=[];vp=0,zo=Tm(),Ho={status:"pending",value:void 0,then:function(p){u.push(p)}}}return vp++,o.then(ny,ny),o}function ny(){if(--vp===0&&Fh!==null){Ho!==null&&(Ho.status="fulfilled");var s=Fh;Fh=null,zo=0,Ho=null;for(var o=0;o<s.length;o++)(0,s[o])()}}function mA(s,o){var u=[],p={status:"pending",value:null,reason:null,then:function(_){u.push(_)}};return s.then(function(){p.status="fulfilled",p.value=o;for(var _=0;_<u.length;_++)(0,u[_])(o)},function(_){for(p.status="rejected",p.reason=_,_=0;_<u.length;_++)(0,u[_])(void 0)}),p}var sy=X.S;X.S=function(s,o){typeof o=="object"&&o!==null&&typeof o.then=="function"&&pA(s,o),sy!==null&&sy(s,o)};var ra=At(null);function bp(){var s=ra.current;return s!==null?s:te.pooledCache}function of(s,o){o===null?_t(ra,ra.current):_t(ra,o.pool)}function ry(){var s=bp();return s===null?null:{parent:Ce._currentValue,pool:s}}var tr=0,Dt=null,Wt=null,Ae=null,lf=!1,Go=!1,aa=!1,hf=0,Dh=0,Uo=null,gA=0;function ve(){throw Error(n(321))}function _p(s,o){if(o===null)return!1;for(var u=0;u<o.length&&u<s.length;u++)if(!Si(s[u],o[u]))return!1;return!0}function Ap(s,o,u,p,_,C){return tr=C,Dt=o,o.memoizedState=null,o.updateQueue=null,o.lanes=0,X.H=s===null||s.memoizedState===null?oa:er,aa=!1,C=u(p,_),aa=!1,Go&&(C=oy(o,u,p,_)),ay(s),C}function ay(s){X.H=Fn;var o=Wt!==null&&Wt.next!==null;if(tr=0,Ae=Wt=Dt=null,lf=!1,Dh=0,Uo=null,o)throw Error(n(300));s===null||De||(s=s.dependencies,s!==null&&vf(s)&&(De=!0))}function oy(s,o,u,p){Dt=s;var _=0;do{if(Go&&(Uo=null),Dh=0,Go=!1,25<=_)throw Error(n(301));if(_+=1,Ae=Wt=null,s.updateQueue!=null){var C=s.updateQueue;C.lastEffect=null,C.events=null,C.stores=null,C.memoCache!=null&&(C.memoCache.index=0)}X.H=la,C=o(u,p)}while(Go);return C}function yA(){var s=X.H,o=s.useState()[0];return o=typeof o.then=="function"?Lh(o):o,s=s.useState()[0],(Wt!==null?Wt.memoizedState:null)!==s&&(Dt.flags|=1024),o}function Ep(){var s=hf!==0;return hf=0,s}function xp(s,o,u){o.updateQueue=s.updateQueue,o.flags&=-2053,s.lanes&=~u}function Sp(s){if(lf){for(s=s.memoizedState;s!==null;){var o=s.queue;o!==null&&(o.pending=null),s=s.next}lf=!1}tr=0,Ae=Wt=Dt=null,Go=!1,Dh=hf=0,Uo=null}function gi(){var s={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ae===null?Dt.memoizedState=Ae=s:Ae=Ae.next=s,Ae}function Ee(){if(Wt===null){var s=Dt.alternate;s=s!==null?s.memoizedState:null}else s=Wt.next;var o=Ae===null?Dt.memoizedState:Ae.next;if(o!==null)Ae=o,Wt=s;else{if(s===null)throw Dt.alternate===null?Error(n(467)):Error(n(310));Wt=s,s={memoizedState:Wt.memoizedState,baseState:Wt.baseState,baseQueue:Wt.baseQueue,queue:Wt.queue,next:null},Ae===null?Dt.memoizedState=Ae=s:Ae=Ae.next=s}return Ae}var cf;cf=function(){return{lastEffect:null,events:null,stores:null,memoCache:null}};function Lh(s){var o=Dh;return Dh+=1,Uo===null&&(Uo=[]),s=Kg(Uo,s,o),o=Dt,(Ae===null?o.memoizedState:Ae.next)===null&&(o=o.alternate,X.H=o===null||o.memoizedState===null?oa:er),s}function uf(s){if(s!==null&&typeof s=="object"){if(typeof s.then=="function")return Lh(s);if(s.$$typeof===x)return Ze(s)}throw Error(n(438,String(s)))}function Tp(s){var o=null,u=Dt.updateQueue;if(u!==null&&(o=u.memoCache),o==null){var p=Dt.alternate;p!==null&&(p=p.updateQueue,p!==null&&(p=p.memoCache,p!=null&&(o={data:p.data.map(function(_){return _.slice()}),index:0})))}if(o==null&&(o={data:[],index:0}),u===null&&(u=cf(),Dt.updateQueue=u),u.memoCache=o,u=o.data[o.index],u===void 0)for(u=o.data[o.index]=Array(s),p=0;p<s;p++)u[p]=R;return o.index++,u}function as(s,o){return typeof o=="function"?o(s):o}function ff(s){var o=Ee();return wp(o,Wt,s)}function wp(s,o,u){var p=s.queue;if(p===null)throw Error(n(311));p.lastRenderedReducer=u;var _=s.baseQueue,C=p.pending;if(C!==null){if(_!==null){var I=_.next;_.next=C.next,C.next=I}o.baseQueue=_=C,p.pending=null}if(C=s.baseState,_===null)s.memoizedState=C;else{o=_.next;var j=I=null,Y=null,Z=o,ut=!1;do{var dt=Z.lane&-536870913;if(dt!==Z.lane?(Ht&dt)===dt:(tr&dt)===dt){var ot=Z.revertLane;if(ot===0)Y!==null&&(Y=Y.next={lane:0,revertLane:0,action:Z.action,hasEagerState:Z.hasEagerState,eagerState:Z.eagerState,next:null}),dt===zo&&(ut=!0);else if((tr&ot)===ot){Z=Z.next,ot===zo&&(ut=!0);continue}else dt={lane:0,revertLane:Z.revertLane,action:Z.action,hasEagerState:Z.hasEagerState,eagerState:Z.eagerState,next:null},Y===null?(j=Y=dt,I=C):Y=Y.next=dt,Dt.lanes|=ot,cr|=ot;dt=Z.action,aa&&u(C,dt),C=Z.hasEagerState?Z.eagerState:u(C,dt)}else ot={lane:dt,revertLane:Z.revertLane,action:Z.action,hasEagerState:Z.hasEagerState,eagerState:Z.eagerState,next:null},Y===null?(j=Y=ot,I=C):Y=Y.next=ot,Dt.lanes|=dt,cr|=dt;Z=Z.next}while(Z!==null&&Z!==o);if(Y===null?I=C:Y.next=j,!Si(C,s.memoizedState)&&(De=!0,ut&&(u=Ho,u!==null)))throw u;s.memoizedState=C,s.baseState=I,s.baseQueue=Y,p.lastRenderedState=C}return _===null&&(p.lanes=0),[s.memoizedState,p.dispatch]}function Cp(s){var o=Ee(),u=o.queue;if(u===null)throw Error(n(311));u.lastRenderedReducer=s;var p=u.dispatch,_=u.pending,C=o.memoizedState;if(_!==null){u.pending=null;var I=_=_.next;do C=s(C,I.action),I=I.next;while(I!==_);Si(C,o.memoizedState)||(De=!0),o.memoizedState=C,o.baseQueue===null&&(o.baseState=C),u.lastRenderedState=C}return[C,p]}function ly(s,o,u){var p=Dt,_=Ee(),C=Gt;if(C){if(u===void 0)throw Error(n(407));u=u()}else u=o();var I=!Si((Wt||_).memoizedState,u);if(I&&(_.memoizedState=u,De=!0),_=_.queue,Rp(uy.bind(null,p,_,s),[s]),_.getSnapshot!==o||I||Ae!==null&&Ae.memoizedState.tag&1){if(p.flags|=2048,jo(9,cy.bind(null,p,_,u,o),{destroy:void 0},null),te===null)throw Error(n(349));C||(tr&60)!==0||hy(p,o,u)}return u}function hy(s,o,u){s.flags|=16384,s={getSnapshot:o,value:u},o=Dt.updateQueue,o===null?(o=cf(),Dt.updateQueue=o,o.stores=[s]):(u=o.stores,u===null?o.stores=[s]:u.push(s))}function cy(s,o,u,p){o.value=u,o.getSnapshot=p,fy(o)&&dy(s)}function uy(s,o,u){return u(function(){fy(o)&&dy(s)})}function fy(s){var o=s.getSnapshot;s=s.value;try{var u=o();return!Si(s,u)}catch{return!0}}function dy(s){var o=Qs(s,2);o!==null&&oi(o,s,2)}function Pp(s){var o=gi();if(typeof s=="function"){var u=s;if(s=u(),aa){Ys(!0);try{u()}finally{Ys(!1)}}}return o.memoizedState=o.baseState=s,o.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:as,lastRenderedState:s},o}function py(s,o,u,p){return s.baseState=u,wp(s,Wt,typeof p=="function"?p:as)}function vA(s,o,u,p,_){if(mf(s))throw Error(n(485));if(s=o.action,s!==null){var C={payload:_,action:s,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(I){C.listeners.push(I)}};X.T!==null?u(!0):C.isTransition=!1,p(C),u=o.pending,u===null?(C.next=o.pending=C,my(o,C)):(C.next=u.next,o.pending=u.next=C)}}function my(s,o){var u=o.action,p=o.payload,_=s.state;if(o.isTransition){var C=X.T,I={};X.T=I;try{var j=u(_,p),Y=X.S;Y!==null&&Y(I,j),gy(s,o,j)}catch(Z){Mp(s,o,Z)}finally{X.T=C}}else try{C=u(_,p),gy(s,o,C)}catch(Z){Mp(s,o,Z)}}function gy(s,o,u){u!==null&&typeof u=="object"&&typeof u.then=="function"?u.then(function(p){yy(s,o,p)},function(p){return Mp(s,o,p)}):yy(s,o,u)}function yy(s,o,u){o.status="fulfilled",o.value=u,vy(o),s.state=u,o=s.pending,o!==null&&(u=o.next,u===o?s.pending=null:(u=u.next,o.next=u,my(s,u)))}function Mp(s,o,u){var p=s.pending;if(s.pending=null,p!==null){p=p.next;do o.status="rejected",o.reason=u,vy(o),o=o.next;while(o!==p)}s.action=null}function vy(s){s=s.listeners;for(var o=0;o<s.length;o++)(0,s[o])()}function by(s,o){return o}function _y(s,o){if(Gt){var u=te.formState;if(u!==null){t:{var p=Dt;if(Gt){if(Ge){e:{for(var _=Ge,C=Rn;_.nodeType!==8;){if(!C){_=null;break e}if(_=pn(_.nextSibling),_===null){_=null;break e}}C=_.data,_=C==="F!"||C==="F"?_:null}if(_){Ge=pn(_.nextSibling),p=_.data==="F!";break t}}na(p)}p=!1}p&&(o=u[0])}}return u=gi(),u.memoizedState=u.baseState=o,p={pending:null,lanes:0,dispatch:null,lastRenderedReducer:by,lastRenderedState:o},u.queue=p,u=By.bind(null,Dt,p),p.dispatch=u,p=Pp(!1),C=Ip.bind(null,Dt,!1,p.queue),p=gi(),_={state:o,dispatch:null,action:s,pending:null},p.queue=_,u=vA.bind(null,Dt,_,C,u),_.dispatch=u,p.memoizedState=s,[o,u,!1]}function Ay(s){var o=Ee();return Ey(o,Wt,s)}function Ey(s,o,u){o=wp(s,o,by)[0],s=ff(as)[0],o=typeof o=="object"&&o!==null&&typeof o.then=="function"?Lh(o):o;var p=Ee(),_=p.queue,C=_.dispatch;return u!==p.memoizedState&&(Dt.flags|=2048,jo(9,bA.bind(null,_,u),{destroy:void 0},null)),[o,C,s]}function bA(s,o){s.action=o}function xy(s){var o=Ee(),u=Wt;if(u!==null)return Ey(o,u,s);Ee(),o=o.memoizedState,u=Ee();var p=u.queue.dispatch;return u.memoizedState=s,[o,p,!1]}function jo(s,o,u,p){return s={tag:s,create:o,inst:u,deps:p,next:null},o=Dt.updateQueue,o===null&&(o=cf(),Dt.updateQueue=o),u=o.lastEffect,u===null?o.lastEffect=s.next=s:(p=u.next,u.next=s,s.next=p,o.lastEffect=s),s}function Sy(){return Ee().memoizedState}function df(s,o,u,p){var _=gi();Dt.flags|=s,_.memoizedState=jo(1|o,u,{destroy:void 0},p===void 0?null:p)}function pf(s,o,u,p){var _=Ee();p=p===void 0?null:p;var C=_.memoizedState.inst;Wt!==null&&p!==null&&_p(p,Wt.memoizedState.deps)?_.memoizedState=jo(o,u,C,p):(Dt.flags|=s,_.memoizedState=jo(1|o,u,C,p))}function Ty(s,o){df(8390656,8,s,o)}function Rp(s,o){pf(2048,8,s,o)}function wy(s,o){return pf(4,2,s,o)}function Cy(s,o){return pf(4,4,s,o)}function Py(s,o){if(typeof o=="function"){s=s();var u=o(s);return function(){typeof u=="function"?u():o(null)}}if(o!=null)return s=s(),o.current=s,function(){o.current=null}}function My(s,o,u){u=u!=null?u.concat([s]):null,pf(4,4,Py.bind(null,o,s),u)}function kp(){}function Ry(s,o){var u=Ee();o=o===void 0?null:o;var p=u.memoizedState;return o!==null&&_p(o,p[1])?p[0]:(u.memoizedState=[s,o],s)}function ky(s,o){var u=Ee();o=o===void 0?null:o;var p=u.memoizedState;if(o!==null&&_p(o,p[1]))return p[0];if(p=s(),aa){Ys(!0);try{s()}finally{Ys(!1)}}return u.memoizedState=[p,o],p}function Fp(s,o,u){return u===void 0||(tr&1073741824)!==0?s.memoizedState=o:(s.memoizedState=u,s=Dv(),Dt.lanes|=s,cr|=s,u)}function Fy(s,o,u,p){return Si(u,o)?u:Vo.current!==null?(s=Fp(s,u,p),Si(s,o)||(De=!0),s):(tr&42)===0?(De=!0,s.memoizedState=u):(s=Dv(),Dt.lanes|=s,cr|=s,o)}function Dy(s,o,u,p,_){var C=rt.p;rt.p=C!==0&&8>C?C:8;var I=X.T,j={};X.T=j,Ip(s,!1,o,u);try{var Y=_(),Z=X.S;if(Z!==null&&Z(j,Y),Y!==null&&typeof Y=="object"&&typeof Y.then=="function"){var ut=mA(Y,p);Ih(s,o,ut,Pi(s))}else Ih(s,o,p,Pi(s))}catch(dt){Ih(s,o,{then:function(){},status:"rejected",reason:dt},Pi())}finally{rt.p=C,X.T=I}}function _A(){}function Dp(s,o,u,p){if(s.tag!==5)throw Error(n(476));var _=Ly(s).queue;Dy(s,_,o,pt,u===null?_A:function(){return Iy(s),u(p)})}function Ly(s){var o=s.memoizedState;if(o!==null)return o;o={memoizedState:pt,baseState:pt,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:as,lastRenderedState:pt},next:null};var u={};return o.next={memoizedState:u,baseState:u,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:as,lastRenderedState:u},next:null},s.memoizedState=o,s=s.alternate,s!==null&&(s.memoizedState=o),o}function Iy(s){var o=Ly(s).next.queue;Ih(s,o,{},Pi())}function Lp(){return Ze(ec)}function Oy(){return Ee().memoizedState}function Ny(){return Ee().memoizedState}function AA(s){for(var o=s.return;o!==null;){switch(o.tag){case 24:case 3:var u=Pi();s=sr(u);var p=rr(o,s,u);p!==null&&(oi(p,o,u),Bh(p,o,u)),o={cache:yp()},s.payload=o;return}o=o.return}}function EA(s,o,u){var p=Pi();u={lane:p,revertLane:0,action:u,hasEagerState:!1,eagerState:null,next:null},mf(s)?Vy(o,u):(u=cp(s,o,u,p),u!==null&&(oi(u,s,p),zy(u,o,p)))}function By(s,o,u){var p=Pi();Ih(s,o,u,p)}function Ih(s,o,u,p){var _={lane:p,revertLane:0,action:u,hasEagerState:!1,eagerState:null,next:null};if(mf(s))Vy(o,_);else{var C=s.alternate;if(s.lanes===0&&(C===null||C.lanes===0)&&(C=o.lastRenderedReducer,C!==null))try{var I=o.lastRenderedState,j=C(I,u);if(_.hasEagerState=!0,_.eagerState=j,Si(j,I))return Qu(s,o,_,0),te===null&&Ku(),!1}catch{}finally{}if(u=cp(s,o,_,p),u!==null)return oi(u,s,p),zy(u,o,p),!0}return!1}function Ip(s,o,u,p){if(p={lane:2,revertLane:Tm(),action:p,hasEagerState:!1,eagerState:null,next:null},mf(s)){if(o)throw Error(n(479))}else o=cp(s,u,p,2),o!==null&&oi(o,s,2)}function mf(s){var o=s.alternate;return s===Dt||o!==null&&o===Dt}function Vy(s,o){Go=lf=!0;var u=s.pending;u===null?o.next=o:(o.next=u.next,u.next=o),s.pending=o}function zy(s,o,u){if((u&4194176)!==0){var p=o.lanes;p&=s.pendingLanes,u|=p,o.lanes=u,Q0(s,u)}}var Fn={readContext:Ze,use:uf,useCallback:ve,useContext:ve,useEffect:ve,useImperativeHandle:ve,useLayoutEffect:ve,useInsertionEffect:ve,useMemo:ve,useReducer:ve,useRef:ve,useState:ve,useDebugValue:ve,useDeferredValue:ve,useTransition:ve,useSyncExternalStore:ve,useId:ve};Fn.useCacheRefresh=ve,Fn.useMemoCache=ve,Fn.useHostTransitionStatus=ve,Fn.useFormState=ve,Fn.useActionState=ve,Fn.useOptimistic=ve;var oa={readContext:Ze,use:uf,useCallback:function(s,o){return gi().memoizedState=[s,o===void 0?null:o],s},useContext:Ze,useEffect:Ty,useImperativeHandle:function(s,o,u){u=u!=null?u.concat([s]):null,df(4194308,4,Py.bind(null,o,s),u)},useLayoutEffect:function(s,o){return df(4194308,4,s,o)},useInsertionEffect:function(s,o){df(4,2,s,o)},useMemo:function(s,o){var u=gi();o=o===void 0?null:o;var p=s();if(aa){Ys(!0);try{s()}finally{Ys(!1)}}return u.memoizedState=[p,o],p},useReducer:function(s,o,u){var p=gi();if(u!==void 0){var _=u(o);if(aa){Ys(!0);try{u(o)}finally{Ys(!1)}}}else _=o;return p.memoizedState=p.baseState=_,s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:s,lastRenderedState:_},p.queue=s,s=s.dispatch=EA.bind(null,Dt,s),[p.memoizedState,s]},useRef:function(s){var o=gi();return s={current:s},o.memoizedState=s},useState:function(s){s=Pp(s);var o=s.queue,u=By.bind(null,Dt,o);return o.dispatch=u,[s.memoizedState,u]},useDebugValue:kp,useDeferredValue:function(s,o){var u=gi();return Fp(u,s,o)},useTransition:function(){var s=Pp(!1);return s=Dy.bind(null,Dt,s.queue,!0,!1),gi().memoizedState=s,[!1,s]},useSyncExternalStore:function(s,o,u){var p=Dt,_=gi();if(Gt){if(u===void 0)throw Error(n(407));u=u()}else{if(u=o(),te===null)throw Error(n(349));(Ht&60)!==0||hy(p,o,u)}_.memoizedState=u;var C={value:u,getSnapshot:o};return _.queue=C,Ty(uy.bind(null,p,C,s),[s]),p.flags|=2048,jo(9,cy.bind(null,p,C,u,o),{destroy:void 0},null),u},useId:function(){var s=gi(),o=te.identifierPrefix;if(Gt){var u=ss,p=ns;u=(p&~(1<<32-xi(p)-1)).toString(32)+u,o=":"+o+"R"+u,u=hf++,0<u&&(o+="H"+u.toString(32)),o+=":"}else u=gA++,o=":"+o+"r"+u.toString(32)+":";return s.memoizedState=o},useCacheRefresh:function(){return gi().memoizedState=AA.bind(null,Dt)}};oa.useMemoCache=Tp,oa.useHostTransitionStatus=Lp,oa.useFormState=_y,oa.useActionState=_y,oa.useOptimistic=function(s){var o=gi();o.memoizedState=o.baseState=s;var u={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return o.queue=u,o=Ip.bind(null,Dt,!0,u),u.dispatch=o,[s,o]};var er={readContext:Ze,use:uf,useCallback:Ry,useContext:Ze,useEffect:Rp,useImperativeHandle:My,useInsertionEffect:wy,useLayoutEffect:Cy,useMemo:ky,useReducer:ff,useRef:Sy,useState:function(){return ff(as)},useDebugValue:kp,useDeferredValue:function(s,o){var u=Ee();return Fy(u,Wt.memoizedState,s,o)},useTransition:function(){var s=ff(as)[0],o=Ee().memoizedState;return[typeof s=="boolean"?s:Lh(s),o]},useSyncExternalStore:ly,useId:Oy};er.useCacheRefresh=Ny,er.useMemoCache=Tp,er.useHostTransitionStatus=Lp,er.useFormState=Ay,er.useActionState=Ay,er.useOptimistic=function(s,o){var u=Ee();return py(u,Wt,s,o)};var la={readContext:Ze,use:uf,useCallback:Ry,useContext:Ze,useEffect:Rp,useImperativeHandle:My,useInsertionEffect:wy,useLayoutEffect:Cy,useMemo:ky,useReducer:Cp,useRef:Sy,useState:function(){return Cp(as)},useDebugValue:kp,useDeferredValue:function(s,o){var u=Ee();return Wt===null?Fp(u,s,o):Fy(u,Wt.memoizedState,s,o)},useTransition:function(){var s=Cp(as)[0],o=Ee().memoizedState;return[typeof s=="boolean"?s:Lh(s),o]},useSyncExternalStore:ly,useId:Oy};la.useCacheRefresh=Ny,la.useMemoCache=Tp,la.useHostTransitionStatus=Lp,la.useFormState=xy,la.useActionState=xy,la.useOptimistic=function(s,o){var u=Ee();return Wt!==null?py(u,Wt,s,o):(u.baseState=s,[s,u.queue.dispatch])};function Op(s,o,u,p){o=s.memoizedState,u=u(p,o),u=u==null?o:J({},o,u),s.memoizedState=u,s.lanes===0&&(s.updateQueue.baseState=u)}var Np={isMounted:function(s){return(s=s._reactInternals)?F(s)===s:!1},enqueueSetState:function(s,o,u){s=s._reactInternals;var p=Pi(),_=sr(p);_.payload=o,u!=null&&(_.callback=u),o=rr(s,_,p),o!==null&&(oi(o,s,p),Bh(o,s,p))},enqueueReplaceState:function(s,o,u){s=s._reactInternals;var p=Pi(),_=sr(p);_.tag=1,_.payload=o,u!=null&&(_.callback=u),o=rr(s,_,p),o!==null&&(oi(o,s,p),Bh(o,s,p))},enqueueForceUpdate:function(s,o){s=s._reactInternals;var u=Pi(),p=sr(u);p.tag=2,o!=null&&(p.callback=o),o=rr(s,p,u),o!==null&&(oi(o,s,u),Bh(o,s,u))}};function Hy(s,o,u,p,_,C,I){return s=s.stateNode,typeof s.shouldComponentUpdate=="function"?s.shouldComponentUpdate(p,C,I):o.prototype&&o.prototype.isPureReactComponent?!Eh(u,p)||!Eh(_,C):!0}function Gy(s,o,u,p){s=o.state,typeof o.componentWillReceiveProps=="function"&&o.componentWillReceiveProps(u,p),typeof o.UNSAFE_componentWillReceiveProps=="function"&&o.UNSAFE_componentWillReceiveProps(u,p),o.state!==s&&Np.enqueueReplaceState(o,o.state,null)}function ha(s,o){var u=o;if("ref"in o){u={};for(var p in o)p!=="ref"&&(u[p]=o[p])}if(s=s.defaultProps){u===o&&(u=J({},u));for(var _ in s)u[_]===void 0&&(u[_]=s[_])}return u}var gf=typeof reportError=="function"?reportError:function(s){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var o=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof s=="object"&&s!==null&&typeof s.message=="string"?String(s.message):String(s),error:s});if(!window.dispatchEvent(o))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",s);return}console.error(s)};function Uy(s){gf(s)}function jy(s){console.error(s)}function qy(s){gf(s)}function yf(s,o){try{var u=s.onUncaughtError;u(o.value,{componentStack:o.stack})}catch(p){setTimeout(function(){throw p})}}function $y(s,o,u){try{var p=s.onCaughtError;p(u.value,{componentStack:u.stack,errorBoundary:o.tag===1?o.stateNode:null})}catch(_){setTimeout(function(){throw _})}}function Bp(s,o,u){return u=sr(u),u.tag=3,u.payload={element:null},u.callback=function(){yf(s,o)},u}function Xy(s){return s=sr(s),s.tag=3,s}function Yy(s,o,u,p){var _=u.type.getDerivedStateFromError;if(typeof _=="function"){var C=p.value;s.payload=function(){return _(C)},s.callback=function(){$y(o,u,p)}}var I=u.stateNode;I!==null&&typeof I.componentDidCatch=="function"&&(s.callback=function(){$y(o,u,p),typeof _!="function"&&(ur===null?ur=new Set([this]):ur.add(this));var j=p.stack;this.componentDidCatch(p.value,{componentStack:j!==null?j:""})})}function xA(s,o,u,p,_){if(u.flags|=32768,p!==null&&typeof p=="object"&&typeof p.then=="function"){if(o=u.alternate,o!==null&&Nh(o,u,_,!0),u=Yi.current,u!==null){switch(u.tag){case 13:return kn===null?_m():u.alternate===null&&de===0&&(de=3),u.flags&=-257,u.flags|=65536,u.lanes=_,p===pp?u.flags|=16384:(o=u.updateQueue,o===null?u.updateQueue=new Set([p]):o.add(p),Em(s,p,_)),!1;case 22:return u.flags|=65536,p===pp?u.flags|=16384:(o=u.updateQueue,o===null?(o={transitions:null,markerInstances:null,retryQueue:new Set([p])},u.updateQueue=o):(u=o.retryQueue,u===null?o.retryQueue=new Set([p]):u.add(p)),Em(s,p,_)),!1}throw Error(n(435,u.tag))}return Em(s,p,_),_m(),!1}if(Gt)return o=Yi.current,o!==null?((o.flags&65536)===0&&(o.flags|=256),o.flags|=65536,o.lanes=_,p!==dp&&(s=Error(n(422),{cause:p}),wh(qi(s,u)))):(p!==dp&&(o=Error(n(423),{cause:p}),wh(qi(o,u))),s=s.current.alternate,s.flags|=65536,_&=-_,s.lanes|=_,p=qi(p,u),_=Bp(s.stateNode,p,_),Jp(s,_),de!==4&&(de=2)),!1;var C=Error(n(520),{cause:p});if(C=qi(C,u),$h===null?$h=[C]:$h.push(C),de!==4&&(de=2),o===null)return!0;p=qi(p,u),u=o;do{switch(u.tag){case 3:return u.flags|=65536,s=_&-_,u.lanes|=s,s=Bp(u.stateNode,p,s),Jp(u,s),!1;case 1:if(o=u.type,C=u.stateNode,(u.flags&128)===0&&(typeof o.getDerivedStateFromError=="function"||C!==null&&typeof C.componentDidCatch=="function"&&(ur===null||!ur.has(C))))return u.flags|=65536,_&=-_,u.lanes|=_,_=Xy(_),Yy(_,s,u,p),Jp(u,_),!1}u=u.return}while(u!==null);return!1}var Wy=Error(n(461)),De=!1;function Ue(s,o,u,p){o.child=s===null?ty(o,null,u,p):sa(o,s.child,u,p)}function Ky(s,o,u,p,_){u=u.render;var C=o.ref;if("ref"in p){var I={};for(var j in p)j!=="ref"&&(I[j]=p[j])}else I=p;return ua(o),p=Ap(s,o,u,I,C,_),j=Ep(),s!==null&&!De?(xp(s,o,_),os(s,o,_)):(Gt&&j&&up(o),o.flags|=1,Ue(s,o,p,_),o.child)}function Qy(s,o,u,p,_){if(s===null){var C=u.type;return typeof C=="function"&&!lm(C)&&C.defaultProps===void 0&&u.compare===null?(o.tag=15,o.type=C,Zy(s,o,C,p,_)):(s=Ef(u.type,null,p,o,o.mode,_),s.ref=o.ref,s.return=o,o.child=s)}if(C=s.child,!Xp(s,_)){var I=C.memoizedProps;if(u=u.compare,u=u!==null?u:Eh,u(I,p)&&s.ref===o.ref)return os(s,o,_)}return o.flags|=1,s=hr(C,p),s.ref=o.ref,s.return=o,o.child=s}function Zy(s,o,u,p,_){if(s!==null){var C=s.memoizedProps;if(Eh(C,p)&&s.ref===o.ref)if(De=!1,o.pendingProps=p=C,Xp(s,_))(s.flags&131072)!==0&&(De=!0);else return o.lanes=s.lanes,os(s,o,_)}return Vp(s,o,u,p,_)}function Jy(s,o,u){var p=o.pendingProps,_=p.children,C=(o.stateNode._pendingVisibility&2)!==0,I=s!==null?s.memoizedState:null;if(Oh(s,o),p.mode==="hidden"||C){if((o.flags&128)!==0){if(p=I!==null?I.baseLanes|u:u,s!==null){for(_=o.child=s.child,C=0;_!==null;)C=C|_.lanes|_.childLanes,_=_.sibling;o.childLanes=C&~p}else o.childLanes=0,o.child=null;return tv(s,o,p,u)}if((u&536870912)!==0)o.memoizedState={baseLanes:0,cachePool:null},s!==null&&of(o,I!==null?I.cachePool:null),I!==null?ey(o,I):mp(),iy(o);else return o.lanes=o.childLanes=536870912,tv(s,o,I!==null?I.baseLanes|u:u,u)}else I!==null?(of(o,I.cachePool),ey(o,I),Js(),o.memoizedState=null):(s!==null&&of(o,null),mp(),Js());return Ue(s,o,_,u),o.child}function tv(s,o,u,p){var _=bp();return _=_===null?null:{parent:Ce._currentValue,pool:_},o.memoizedState={baseLanes:u,cachePool:_},s!==null&&of(o,null),mp(),iy(o),s!==null&&Nh(s,o,p,!0),null}function Oh(s,o){var u=o.ref;if(u===null)s!==null&&s.ref!==null&&(o.flags|=2097664);else{if(typeof u!="function"&&typeof u!="object")throw Error(n(284));(s===null||s.ref!==u)&&(o.flags|=2097664)}}function Vp(s,o,u,p,_){return ua(o),u=Ap(s,o,u,p,void 0,_),p=Ep(),s!==null&&!De?(xp(s,o,_),os(s,o,_)):(Gt&&p&&up(o),o.flags|=1,Ue(s,o,u,_),o.child)}function ev(s,o,u,p,_,C){return ua(o),o.updateQueue=null,u=oy(o,p,u,_),ay(s),p=Ep(),s!==null&&!De?(xp(s,o,C),os(s,o,C)):(Gt&&p&&up(o),o.flags|=1,Ue(s,o,u,C),o.child)}function iv(s,o,u,p,_){if(ua(o),o.stateNode===null){var C=Io,I=u.contextType;typeof I=="object"&&I!==null&&(C=Ze(I)),C=new u(p,C),o.memoizedState=C.state!==null&&C.state!==void 0?C.state:null,C.updater=Np,o.stateNode=C,C._reactInternals=o,C=o.stateNode,C.props=p,C.state=o.memoizedState,C.refs={},Qp(o),I=u.contextType,C.context=typeof I=="object"&&I!==null?Ze(I):Io,C.state=o.memoizedState,I=u.getDerivedStateFromProps,typeof I=="function"&&(Op(o,u,I,p),C.state=o.memoizedState),typeof u.getDerivedStateFromProps=="function"||typeof C.getSnapshotBeforeUpdate=="function"||typeof C.UNSAFE_componentWillMount!="function"&&typeof C.componentWillMount!="function"||(I=C.state,typeof C.componentWillMount=="function"&&C.componentWillMount(),typeof C.UNSAFE_componentWillMount=="function"&&C.UNSAFE_componentWillMount(),I!==C.state&&Np.enqueueReplaceState(C,C.state,null),zh(o,p,C,_),Vh(),C.state=o.memoizedState),typeof C.componentDidMount=="function"&&(o.flags|=4194308),p=!0}else if(s===null){C=o.stateNode;var j=o.memoizedProps,Y=ha(u,j);C.props=Y;var Z=C.context,ut=u.contextType;I=Io,typeof ut=="object"&&ut!==null&&(I=Ze(ut));var dt=u.getDerivedStateFromProps;ut=typeof dt=="function"||typeof C.getSnapshotBeforeUpdate=="function",j=o.pendingProps!==j,ut||typeof C.UNSAFE_componentWillReceiveProps!="function"&&typeof C.componentWillReceiveProps!="function"||(j||Z!==I)&&Gy(o,C,p,I),nr=!1;var ot=o.memoizedState;C.state=ot,zh(o,p,C,_),Vh(),Z=o.memoizedState,j||ot!==Z||nr?(typeof dt=="function"&&(Op(o,u,dt,p),Z=o.memoizedState),(Y=nr||Hy(o,u,Y,p,ot,Z,I))?(ut||typeof C.UNSAFE_componentWillMount!="function"&&typeof C.componentWillMount!="function"||(typeof C.componentWillMount=="function"&&C.componentWillMount(),typeof C.UNSAFE_componentWillMount=="function"&&C.UNSAFE_componentWillMount()),typeof C.componentDidMount=="function"&&(o.flags|=4194308)):(typeof C.componentDidMount=="function"&&(o.flags|=4194308),o.memoizedProps=p,o.memoizedState=Z),C.props=p,C.state=Z,C.context=I,p=Y):(typeof C.componentDidMount=="function"&&(o.flags|=4194308),p=!1)}else{C=o.stateNode,Zp(s,o),I=o.memoizedProps,ut=ha(u,I),C.props=ut,dt=o.pendingProps,ot=C.context,Z=u.contextType,Y=Io,typeof Z=="object"&&Z!==null&&(Y=Ze(Z)),j=u.getDerivedStateFromProps,(Z=typeof j=="function"||typeof C.getSnapshotBeforeUpdate=="function")||typeof C.UNSAFE_componentWillReceiveProps!="function"&&typeof C.componentWillReceiveProps!="function"||(I!==dt||ot!==Y)&&Gy(o,C,p,Y),nr=!1,ot=o.memoizedState,C.state=ot,zh(o,p,C,_),Vh();var ct=o.memoizedState;I!==dt||ot!==ct||nr||s!==null&&s.dependencies!==null&&vf(s.dependencies)?(typeof j=="function"&&(Op(o,u,j,p),ct=o.memoizedState),(ut=nr||Hy(o,u,ut,p,ot,ct,Y)||s!==null&&s.dependencies!==null&&vf(s.dependencies))?(Z||typeof C.UNSAFE_componentWillUpdate!="function"&&typeof C.componentWillUpdate!="function"||(typeof C.componentWillUpdate=="function"&&C.componentWillUpdate(p,ct,Y),typeof C.UNSAFE_componentWillUpdate=="function"&&C.UNSAFE_componentWillUpdate(p,ct,Y)),typeof C.componentDidUpdate=="function"&&(o.flags|=4),typeof C.getSnapshotBeforeUpdate=="function"&&(o.flags|=1024)):(typeof C.componentDidUpdate!="function"||I===s.memoizedProps&&ot===s.memoizedState||(o.flags|=4),typeof C.getSnapshotBeforeUpdate!="function"||I===s.memoizedProps&&ot===s.memoizedState||(o.flags|=1024),o.memoizedProps=p,o.memoizedState=ct),C.props=p,C.state=ct,C.context=Y,p=ut):(typeof C.componentDidUpdate!="function"||I===s.memoizedProps&&ot===s.memoizedState||(o.flags|=4),typeof C.getSnapshotBeforeUpdate!="function"||I===s.memoizedProps&&ot===s.memoizedState||(o.flags|=1024),p=!1)}return C=p,Oh(s,o),p=(o.flags&128)!==0,C||p?(C=o.stateNode,u=p&&typeof u.getDerivedStateFromError!="function"?null:C.render(),o.flags|=1,s!==null&&p?(o.child=sa(o,s.child,null,_),o.child=sa(o,null,u,_)):Ue(s,o,u,_),o.memoizedState=C.state,s=o.child):s=os(s,o,_),s}function nv(s,o,u,p){return Th(),o.flags|=256,Ue(s,o,u,p),o.child}var zp={dehydrated:null,treeContext:null,retryLane:0};function Hp(s){return{baseLanes:s,cachePool:ry()}}function Gp(s,o,u){return s=s!==null?s.childLanes&~u:0,o&&(s|=Zi),s}function sv(s,o,u){var p=o.pendingProps,_=!1,C=(o.flags&128)!==0,I;if((I=C)||(I=s!==null&&s.memoizedState===null?!1:(we.current&2)!==0),I&&(_=!0,o.flags&=-129),I=(o.flags&32)!==0,o.flags&=-33,s===null){if(Gt){if(_?Zs(o):Js(),Gt){var j=Ge,Y;if(Y=j){t:{for(Y=j,j=Rn;Y.nodeType!==8;){if(!j){j=null;break t}if(Y=pn(Y.nextSibling),Y===null){j=null;break t}}j=Y}j!==null?(o.memoizedState={dehydrated:j,treeContext:ea!==null?{id:ns,overflow:ss}:null,retryLane:536870912},Y=Qi(18,null,null,0),Y.stateNode=j,Y.return=o,o.child=Y,ai=o,Ge=null,Y=!0):Y=!1}Y||na(o)}if(j=o.memoizedState,j!==null&&(j=j.dehydrated,j!==null))return j.data==="$!"?o.lanes=16:o.lanes=536870912,null;rs(o)}return j=p.children,p=p.fallback,_?(Js(),_=o.mode,j=jp({mode:"hidden",children:j},_),p=da(p,_,u,null),j.return=o,p.return=o,j.sibling=p,o.child=j,_=o.child,_.memoizedState=Hp(u),_.childLanes=Gp(s,I,u),o.memoizedState=zp,p):(Zs(o),Up(o,j))}if(Y=s.memoizedState,Y!==null&&(j=Y.dehydrated,j!==null)){if(C)o.flags&256?(Zs(o),o.flags&=-257,o=qp(s,o,u)):o.memoizedState!==null?(Js(),o.child=s.child,o.flags|=128,o=null):(Js(),_=p.fallback,j=o.mode,p=jp({mode:"visible",children:p.children},j),_=da(_,j,u,null),_.flags|=2,p.return=o,_.return=o,p.sibling=_,o.child=p,sa(o,s.child,null,u),p=o.child,p.memoizedState=Hp(u),p.childLanes=Gp(s,I,u),o.memoizedState=zp,o=_);else if(Zs(o),j.data==="$!"){if(I=j.nextSibling&&j.nextSibling.dataset,I)var Z=I.dgst;I=Z,p=Error(n(419)),p.stack="",p.digest=I,wh({value:p,source:null,stack:null}),o=qp(s,o,u)}else if(De||Nh(s,o,u,!1),I=(u&s.childLanes)!==0,De||I){if(I=te,I!==null){if(p=u&-u,(p&42)!==0)p=1;else switch(p){case 2:p=1;break;case 8:p=4;break;case 32:p=16;break;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:p=64;break;case 268435456:p=134217728;break;default:p=0}if(p=(p&(I.suspendedLanes|u))!==0?0:p,p!==0&&p!==Y.retryLane)throw Y.retryLane=p,Qs(s,p),oi(I,s,p),Wy}j.data==="$?"||_m(),o=qp(s,o,u)}else j.data==="$?"?(o.flags|=128,o.child=s.child,o=BA.bind(null,s),j._reactRetry=o,o=null):(s=Y.treeContext,Ge=pn(j.nextSibling),ai=o,Gt=!0,fn=null,Rn=!1,s!==null&&($i[Xi++]=ns,$i[Xi++]=ss,$i[Xi++]=ea,ns=s.id,ss=s.overflow,ea=o),o=Up(o,p.children),o.flags|=4096);return o}return _?(Js(),_=p.fallback,j=o.mode,Y=s.child,Z=Y.sibling,p=hr(Y,{mode:"hidden",children:p.children}),p.subtreeFlags=Y.subtreeFlags&31457280,Z!==null?_=hr(Z,_):(_=da(_,j,u,null),_.flags|=2),_.return=o,p.return=o,p.sibling=_,o.child=p,p=_,_=o.child,j=s.child.memoizedState,j===null?j=Hp(u):(Y=j.cachePool,Y!==null?(Z=Ce._currentValue,Y=Y.parent!==Z?{parent:Z,pool:Z}:Y):Y=ry(),j={baseLanes:j.baseLanes|u,cachePool:Y}),_.memoizedState=j,_.childLanes=Gp(s,I,u),o.memoizedState=zp,p):(Zs(o),u=s.child,s=u.sibling,u=hr(u,{mode:"visible",children:p.children}),u.return=o,u.sibling=null,s!==null&&(I=o.deletions,I===null?(o.deletions=[s],o.flags|=16):I.push(s)),o.child=u,o.memoizedState=null,u)}function Up(s,o){return o=jp({mode:"visible",children:o},s.mode),o.return=s,s.child=o}function jp(s,o){return Rv(s,o,0,null)}function qp(s,o,u){return sa(o,s.child,null,u),s=Up(o,o.pendingProps.children),s.flags|=2,o.memoizedState=null,s}function rv(s,o,u){s.lanes|=o;var p=s.alternate;p!==null&&(p.lanes|=o),Wp(s.return,o,u)}function $p(s,o,u,p,_){var C=s.memoizedState;C===null?s.memoizedState={isBackwards:o,rendering:null,renderingStartTime:0,last:p,tail:u,tailMode:_}:(C.isBackwards=o,C.rendering=null,C.renderingStartTime=0,C.last=p,C.tail=u,C.tailMode=_)}function av(s,o,u){var p=o.pendingProps,_=p.revealOrder,C=p.tail;if(Ue(s,o,p.children,u),p=we.current,(p&2)!==0)p=p&1|2,o.flags|=128;else{if(s!==null&&(s.flags&128)!==0)t:for(s=o.child;s!==null;){if(s.tag===13)s.memoizedState!==null&&rv(s,u,o);else if(s.tag===19)rv(s,u,o);else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===o)break t;for(;s.sibling===null;){if(s.return===null||s.return===o)break t;s=s.return}s.sibling.return=s.return,s=s.sibling}p&=1}switch(_t(we,p),_){case"forwards":for(u=o.child,_=null;u!==null;)s=u.alternate,s!==null&&af(s)===null&&(_=u),u=u.sibling;u=_,u===null?(_=o.child,o.child=null):(_=u.sibling,u.sibling=null),$p(o,!1,_,u,C);break;case"backwards":for(u=null,_=o.child,o.child=null;_!==null;){if(s=_.alternate,s!==null&&af(s)===null){o.child=_;break}s=_.sibling,_.sibling=u,u=_,_=s}$p(o,!0,u,null,C);break;case"together":$p(o,!1,null,null,void 0);break;default:o.memoizedState=null}return o.child}function os(s,o,u){if(s!==null&&(o.dependencies=s.dependencies),cr|=o.lanes,(u&o.childLanes)===0)if(s!==null){if(Nh(s,o,u,!1),(u&o.childLanes)===0)return null}else return null;if(s!==null&&o.child!==s.child)throw Error(n(153));if(o.child!==null){for(s=o.child,u=hr(s,s.pendingProps),o.child=u,u.return=o;s.sibling!==null;)s=s.sibling,u=u.sibling=hr(s,s.pendingProps),u.return=o;u.sibling=null}return o.child}function Xp(s,o){return(s.lanes&o)!==0?!0:(s=s.dependencies,!!(s!==null&&vf(s)))}function SA(s,o,u){switch(o.tag){case 3:jt(o,o.stateNode.containerInfo),ir(o,Ce,s.memoizedState.cache),Th();break;case 27:case 5:_e(o);break;case 4:jt(o,o.stateNode.containerInfo);break;case 10:ir(o,o.type,o.memoizedProps.value);break;case 13:var p=o.memoizedState;if(p!==null)return p.dehydrated!==null?(Zs(o),o.flags|=128,null):(u&o.child.childLanes)!==0?sv(s,o,u):(Zs(o),s=os(s,o,u),s!==null?s.sibling:null);Zs(o);break;case 19:var _=(s.flags&128)!==0;if(p=(u&o.childLanes)!==0,p||(Nh(s,o,u,!1),p=(u&o.childLanes)!==0),_){if(p)return av(s,o,u);o.flags|=128}if(_=o.memoizedState,_!==null&&(_.rendering=null,_.tail=null,_.lastEffect=null),_t(we,we.current),p)break;return null;case 22:case 23:return o.lanes=0,Jy(s,o,u);case 24:ir(o,Ce,s.memoizedState.cache)}return os(s,o,u)}function ov(s,o,u){if(s!==null)if(s.memoizedProps!==o.pendingProps)De=!0;else{if(!Xp(s,u)&&(o.flags&128)===0)return De=!1,SA(s,o,u);De=(s.flags&131072)!==0}else De=!1,Gt&&(o.flags&1048576)!==0&&qg(o,tf,o.index);switch(o.lanes=0,o.tag){case 16:t:{s=o.pendingProps;var p=o.elementType,_=p._init;if(p=_(p._payload),o.type=p,typeof p=="function")lm(p)?(s=ha(p,s),o.tag=1,o=iv(null,o,p,s,u)):(o.tag=0,o=Vp(null,o,p,s,u));else{if(p!=null){if(_=p.$$typeof,_===E){o.tag=11,o=Ky(null,o,p,s,u);break t}else if(_===S){o.tag=14,o=Qy(null,o,p,s,u);break t}}throw o=q(p)||p,Error(n(306,o,""))}}return o;case 0:return Vp(s,o,o.type,o.pendingProps,u);case 1:return p=o.type,_=ha(p,o.pendingProps),iv(s,o,p,_,u);case 3:t:{if(jt(o,o.stateNode.containerInfo),s===null)throw Error(n(387));var C=o.pendingProps;_=o.memoizedState,p=_.element,Zp(s,o),zh(o,C,null,u);var I=o.memoizedState;if(C=I.cache,ir(o,Ce,C),C!==_.cache&&Kp(o,[Ce],u,!0),Vh(),C=I.element,_.isDehydrated)if(_={element:C,isDehydrated:!1,cache:I.cache},o.updateQueue.baseState=_,o.memoizedState=_,o.flags&256){o=nv(s,o,C,u);break t}else if(C!==p){p=qi(Error(n(424)),o),wh(p),o=nv(s,o,C,u);break t}else for(Ge=pn(o.stateNode.containerInfo.firstChild),ai=o,Gt=!0,fn=null,Rn=!0,u=ty(o,null,C,u),o.child=u;u;)u.flags=u.flags&-3|4096,u=u.sibling;else{if(Th(),C===p){o=os(s,o,u);break t}Ue(s,o,C,u)}o=o.child}return o;case 26:return Oh(s,o),s===null?(u=u1(o.type,null,o.pendingProps,null))?o.memoizedState=u:Gt||(u=o.type,s=o.pendingProps,p=Lf(Et.current).createElement(u),p[Qe]=o,p[pi]=s,je(p,u,s),Fe(p),o.stateNode=p):o.memoizedState=u1(o.type,s.memoizedProps,o.pendingProps,s.memoizedState),null;case 27:return _e(o),s===null&&Gt&&(p=o.stateNode=o1(o.type,o.pendingProps,Et.current),ai=o,Rn=!0,Ge=pn(p.firstChild)),p=o.pendingProps.children,s!==null||Gt?Ue(s,o,p,u):o.child=sa(o,null,p,u),Oh(s,o),o.child;case 5:return s===null&&Gt&&((_=p=Ge)&&(p=tE(p,o.type,o.pendingProps,Rn),p!==null?(o.stateNode=p,ai=o,Ge=pn(p.firstChild),Rn=!1,_=!0):_=!1),_||na(o)),_e(o),_=o.type,C=o.pendingProps,I=s!==null?s.memoizedProps:null,p=C.children,Lm(_,C)?p=null:I!==null&&Lm(_,I)&&(o.flags|=32),o.memoizedState!==null&&(_=Ap(s,o,yA,null,null,u),ec._currentValue=_),Oh(s,o),Ue(s,o,p,u),o.child;case 6:return s===null&&Gt&&((s=u=Ge)&&(u=eE(u,o.pendingProps,Rn),u!==null?(o.stateNode=u,ai=o,Ge=null,s=!0):s=!1),s||na(o)),null;case 13:return sv(s,o,u);case 4:return jt(o,o.stateNode.containerInfo),p=o.pendingProps,s===null?o.child=sa(o,null,p,u):Ue(s,o,p,u),o.child;case 11:return Ky(s,o,o.type,o.pendingProps,u);case 7:return Ue(s,o,o.pendingProps,u),o.child;case 8:return Ue(s,o,o.pendingProps.children,u),o.child;case 12:return Ue(s,o,o.pendingProps.children,u),o.child;case 10:return p=o.pendingProps,ir(o,o.type,p.value),Ue(s,o,p.children,u),o.child;case 9:return _=o.type._context,p=o.pendingProps.children,ua(o),_=Ze(_),p=p(_),o.flags|=1,Ue(s,o,p,u),o.child;case 14:return Qy(s,o,o.type,o.pendingProps,u);case 15:return Zy(s,o,o.type,o.pendingProps,u);case 19:return av(s,o,u);case 22:return Jy(s,o,u);case 24:return ua(o),p=Ze(Ce),s===null?(_=bp(),_===null&&(_=te,C=yp(),_.pooledCache=C,C.refCount++,C!==null&&(_.pooledCacheLanes|=u),_=C),o.memoizedState={parent:p,cache:_},Qp(o),ir(o,Ce,_)):((s.lanes&u)!==0&&(Zp(s,o),zh(o,null,null,u),Vh()),_=s.memoizedState,C=o.memoizedState,_.parent!==p?(_={parent:p,cache:p},o.memoizedState=_,o.lanes===0&&(o.memoizedState=o.updateQueue.baseState=_),ir(o,Ce,p)):(p=C.cache,ir(o,Ce,p),p!==_.cache&&Kp(o,[Ce],u,!0))),Ue(s,o,o.pendingProps.children,u),o.child;case 29:throw o.pendingProps}throw Error(n(156,o.tag))}var Yp=At(null),ca=null,ls=null;function ir(s,o,u){_t(Yp,o._currentValue),o._currentValue=u}function hs(s){s._currentValue=Yp.current,Ct(Yp)}function Wp(s,o,u){for(;s!==null;){var p=s.alternate;if((s.childLanes&o)!==o?(s.childLanes|=o,p!==null&&(p.childLanes|=o)):p!==null&&(p.childLanes&o)!==o&&(p.childLanes|=o),s===u)break;s=s.return}}function Kp(s,o,u,p){var _=s.child;for(_!==null&&(_.return=s);_!==null;){var C=_.dependencies;if(C!==null){var I=_.child;C=C.firstContext;t:for(;C!==null;){var j=C;C=_;for(var Y=0;Y<o.length;Y++)if(j.context===o[Y]){C.lanes|=u,j=C.alternate,j!==null&&(j.lanes|=u),Wp(C.return,u,s),p||(I=null);break t}C=j.next}}else if(_.tag===18){if(I=_.return,I===null)throw Error(n(341));I.lanes|=u,C=I.alternate,C!==null&&(C.lanes|=u),Wp(I,u,s),I=null}else I=_.child;if(I!==null)I.return=_;else for(I=_;I!==null;){if(I===s){I=null;break}if(_=I.sibling,_!==null){_.return=I.return,I=_;break}I=I.return}_=I}}function Nh(s,o,u,p){s=null;for(var _=o,C=!1;_!==null;){if(!C){if((_.flags&524288)!==0)C=!0;else if((_.flags&262144)!==0)break}if(_.tag===10){var I=_.alternate;if(I===null)throw Error(n(387));if(I=I.memoizedProps,I!==null){var j=_.type;Si(_.pendingProps.value,I.value)||(s!==null?s.push(j):s=[j])}}else if(_===gt.current){if(I=_.alternate,I===null)throw Error(n(387));I.memoizedState.memoizedState!==_.memoizedState.memoizedState&&(s!==null?s.push(ec):s=[ec])}_=_.return}s!==null&&Kp(o,s,u,p),o.flags|=262144}function vf(s){for(s=s.firstContext;s!==null;){if(!Si(s.context._currentValue,s.memoizedValue))return!0;s=s.next}return!1}function ua(s){ca=s,ls=null,s=s.dependencies,s!==null&&(s.firstContext=null)}function Ze(s){return lv(ca,s)}function bf(s,o){return ca===null&&ua(s),lv(s,o)}function lv(s,o){var u=o._currentValue;if(o={context:o,memoizedValue:u,next:null},ls===null){if(s===null)throw Error(n(308));ls=o,s.dependencies={lanes:0,firstContext:o},s.flags|=524288}else ls=ls.next=o;return u}var nr=!1;function Qp(s){s.updateQueue={baseState:s.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Zp(s,o){s=s.updateQueue,o.updateQueue===s&&(o.updateQueue={baseState:s.baseState,firstBaseUpdate:s.firstBaseUpdate,lastBaseUpdate:s.lastBaseUpdate,shared:s.shared,callbacks:null})}function sr(s){return{lane:s,tag:0,payload:null,callback:null,next:null}}function rr(s,o,u){var p=s.updateQueue;if(p===null)return null;if(p=p.shared,(le&2)!==0){var _=p.pending;return _===null?o.next=o:(o.next=_.next,_.next=o),p.pending=o,o=Zu(s),Ug(s,null,u),o}return Qu(s,p,o,u),Zu(s)}function Bh(s,o,u){if(o=o.updateQueue,o!==null&&(o=o.shared,(u&4194176)!==0)){var p=o.lanes;p&=s.pendingLanes,u|=p,o.lanes=u,Q0(s,u)}}function Jp(s,o){var u=s.updateQueue,p=s.alternate;if(p!==null&&(p=p.updateQueue,u===p)){var _=null,C=null;if(u=u.firstBaseUpdate,u!==null){do{var I={lane:u.lane,tag:u.tag,payload:u.payload,callback:null,next:null};C===null?_=C=I:C=C.next=I,u=u.next}while(u!==null);C===null?_=C=o:C=C.next=o}else _=C=o;u={baseState:p.baseState,firstBaseUpdate:_,lastBaseUpdate:C,shared:p.shared,callbacks:p.callbacks},s.updateQueue=u;return}s=u.lastBaseUpdate,s===null?u.firstBaseUpdate=o:s.next=o,u.lastBaseUpdate=o}var tm=!1;function Vh(){if(tm){var s=Ho;if(s!==null)throw s}}function zh(s,o,u,p){tm=!1;var _=s.updateQueue;nr=!1;var C=_.firstBaseUpdate,I=_.lastBaseUpdate,j=_.shared.pending;if(j!==null){_.shared.pending=null;var Y=j,Z=Y.next;Y.next=null,I===null?C=Z:I.next=Z,I=Y;var ut=s.alternate;ut!==null&&(ut=ut.updateQueue,j=ut.lastBaseUpdate,j!==I&&(j===null?ut.firstBaseUpdate=Z:j.next=Z,ut.lastBaseUpdate=Y))}if(C!==null){var dt=_.baseState;I=0,ut=Z=Y=null,j=C;do{var ot=j.lane&-536870913,ct=ot!==j.lane;if(ct?(Ht&ot)===ot:(p&ot)===ot){ot!==0&&ot===zo&&(tm=!0),ut!==null&&(ut=ut.next={lane:0,tag:j.tag,payload:j.payload,callback:null,next:null});t:{var St=s,Rt=j;ot=o;var pe=u;switch(Rt.tag){case 1:if(St=Rt.payload,typeof St=="function"){dt=St.call(pe,dt,ot);break t}dt=St;break t;case 3:St.flags=St.flags&-65537|128;case 0:if(St=Rt.payload,ot=typeof St=="function"?St.call(pe,dt,ot):St,ot==null)break t;dt=J({},dt,ot);break t;case 2:nr=!0}}ot=j.callback,ot!==null&&(s.flags|=64,ct&&(s.flags|=8192),ct=_.callbacks,ct===null?_.callbacks=[ot]:ct.push(ot))}else ct={lane:ot,tag:j.tag,payload:j.payload,callback:j.callback,next:null},ut===null?(Z=ut=ct,Y=dt):ut=ut.next=ct,I|=ot;if(j=j.next,j===null){if(j=_.shared.pending,j===null)break;ct=j,j=ct.next,ct.next=null,_.lastBaseUpdate=ct,_.shared.pending=null}}while(!0);ut===null&&(Y=dt),_.baseState=Y,_.firstBaseUpdate=Z,_.lastBaseUpdate=ut,C===null&&(_.shared.lanes=0),cr|=I,s.lanes=I,s.memoizedState=dt}}function hv(s,o){if(typeof s!="function")throw Error(n(191,s));s.call(o)}function cv(s,o){var u=s.callbacks;if(u!==null)for(s.callbacks=null,s=0;s<u.length;s++)hv(u[s],o)}function Hh(s,o){try{var u=o.updateQueue,p=u!==null?u.lastEffect:null;if(p!==null){var _=p.next;u=_;do{if((u.tag&s)===s){p=void 0;var C=u.create,I=u.inst;p=C(),I.destroy=p}u=u.next}while(u!==_)}}catch(j){Jt(o,o.return,j)}}function ar(s,o,u){try{var p=o.updateQueue,_=p!==null?p.lastEffect:null;if(_!==null){var C=_.next;p=C;do{if((p.tag&s)===s){var I=p.inst,j=I.destroy;if(j!==void 0){I.destroy=void 0,_=o;var Y=u;try{j()}catch(Z){Jt(_,Y,Z)}}}p=p.next}while(p!==C)}}catch(Z){Jt(o,o.return,Z)}}function uv(s){var o=s.updateQueue;if(o!==null){var u=s.stateNode;try{cv(o,u)}catch(p){Jt(s,s.return,p)}}}function fv(s,o,u){u.props=ha(s.type,s.memoizedProps),u.state=s.memoizedState;try{u.componentWillUnmount()}catch(p){Jt(s,o,p)}}function fa(s,o){try{var u=s.ref;if(u!==null){var p=s.stateNode;switch(s.tag){case 26:case 27:case 5:var _=p;break;default:_=p}typeof u=="function"?s.refCleanup=u(_):u.current=_}}catch(C){Jt(s,o,C)}}function Ti(s,o){var u=s.ref,p=s.refCleanup;if(u!==null)if(typeof p=="function")try{p()}catch(_){Jt(s,o,_)}finally{s.refCleanup=null,s=s.alternate,s!=null&&(s.refCleanup=null)}else if(typeof u=="function")try{u(null)}catch(_){Jt(s,o,_)}else u.current=null}function dv(s){var o=s.type,u=s.memoizedProps,p=s.stateNode;try{t:switch(o){case"button":case"input":case"select":case"textarea":u.autoFocus&&p.focus();break t;case"img":u.src?p.src=u.src:u.srcSet&&(p.srcset=u.srcSet)}}catch(_){Jt(s,s.return,_)}}function pv(s,o,u){try{var p=s.stateNode;WA(p,s.type,u,o),p[pi]=o}catch(_){Jt(s,s.return,_)}}function mv(s){return s.tag===5||s.tag===3||s.tag===26||s.tag===27||s.tag===4}function em(s){t:for(;;){for(;s.sibling===null;){if(s.return===null||mv(s.return))return null;s=s.return}for(s.sibling.return=s.return,s=s.sibling;s.tag!==5&&s.tag!==6&&s.tag!==27&&s.tag!==18;){if(s.flags&2||s.child===null||s.tag===4)continue t;s.child.return=s,s=s.child}if(!(s.flags&2))return s.stateNode}}function im(s,o,u){var p=s.tag;if(p===5||p===6)s=s.stateNode,o?u.nodeType===8?u.parentNode.insertBefore(s,o):u.insertBefore(s,o):(u.nodeType===8?(o=u.parentNode,o.insertBefore(s,u)):(o=u,o.appendChild(s)),u=u._reactRootContainer,u!=null||o.onclick!==null||(o.onclick=Df));else if(p!==4&&p!==27&&(s=s.child,s!==null))for(im(s,o,u),s=s.sibling;s!==null;)im(s,o,u),s=s.sibling}function _f(s,o,u){var p=s.tag;if(p===5||p===6)s=s.stateNode,o?u.insertBefore(s,o):u.appendChild(s);else if(p!==4&&p!==27&&(s=s.child,s!==null))for(_f(s,o,u),s=s.sibling;s!==null;)_f(s,o,u),s=s.sibling}var cs=!1,fe=!1,sm=!1,gv=typeof WeakSet=="function"?WeakSet:Set,Le=null,yv=!1;function TA(s,o){if(s=s.containerInfo,Fm=zf,s=Lg(s),sp(s)){if("selectionStart"in s)var u={start:s.selectionStart,end:s.selectionEnd};else t:{u=(u=s.ownerDocument)&&u.defaultView||window;var p=u.getSelection&&u.getSelection();if(p&&p.rangeCount!==0){u=p.anchorNode;var _=p.anchorOffset,C=p.focusNode;p=p.focusOffset;try{u.nodeType,C.nodeType}catch{u=null;break t}var I=0,j=-1,Y=-1,Z=0,ut=0,dt=s,ot=null;e:for(;;){for(var ct;dt!==u||_!==0&&dt.nodeType!==3||(j=I+_),dt!==C||p!==0&&dt.nodeType!==3||(Y=I+p),dt.nodeType===3&&(I+=dt.nodeValue.length),(ct=dt.firstChild)!==null;)ot=dt,dt=ct;for(;;){if(dt===s)break e;if(ot===u&&++Z===_&&(j=I),ot===C&&++ut===p&&(Y=I),(ct=dt.nextSibling)!==null)break;dt=ot,ot=dt.parentNode}dt=ct}u=j===-1||Y===-1?null:{start:j,end:Y}}else u=null}u=u||{start:0,end:0}}else u=null;for(Dm={focusedElem:s,selectionRange:u},zf=!1,Le=o;Le!==null;)if(o=Le,s=o.child,(o.subtreeFlags&1028)!==0&&s!==null)s.return=o,Le=s;else for(;Le!==null;){switch(o=Le,C=o.alternate,s=o.flags,o.tag){case 0:break;case 11:case 15:break;case 1:if((s&1024)!==0&&C!==null){s=void 0,u=o,_=C.memoizedProps,C=C.memoizedState,p=u.stateNode;try{var St=ha(u.type,_,u.elementType===u.type);s=p.getSnapshotBeforeUpdate(St,C),p.__reactInternalSnapshotBeforeUpdate=s}catch(Rt){Jt(u,u.return,Rt)}}break;case 3:if((s&1024)!==0){if(s=o.stateNode.containerInfo,u=s.nodeType,u===9)Nm(s);else if(u===1)switch(s.nodeName){case"HEAD":case"HTML":case"BODY":Nm(s);break;default:s.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((s&1024)!==0)throw Error(n(163))}if(s=o.sibling,s!==null){s.return=o.return,Le=s;break}Le=o.return}return St=yv,yv=!1,St}function vv(s,o,u){var p=u.flags;switch(u.tag){case 0:case 11:case 15:fs(s,u),p&4&&Hh(5,u);break;case 1:if(fs(s,u),p&4)if(s=u.stateNode,o===null)try{s.componentDidMount()}catch(j){Jt(u,u.return,j)}else{var _=ha(u.type,o.memoizedProps);o=o.memoizedState;try{s.componentDidUpdate(_,o,s.__reactInternalSnapshotBeforeUpdate)}catch(j){Jt(u,u.return,j)}}p&64&&uv(u),p&512&&fa(u,u.return);break;case 3:if(fs(s,u),p&64&&(p=u.updateQueue,p!==null)){if(s=null,u.child!==null)switch(u.child.tag){case 27:case 5:s=u.child.stateNode;break;case 1:s=u.child.stateNode}try{cv(p,s)}catch(j){Jt(u,u.return,j)}}break;case 26:fs(s,u),p&512&&fa(u,u.return);break;case 27:case 5:fs(s,u),o===null&&p&4&&dv(u),p&512&&fa(u,u.return);break;case 12:fs(s,u);break;case 13:fs(s,u),p&4&&Av(s,u);break;case 22:if(_=u.memoizedState!==null||cs,!_){o=o!==null&&o.memoizedState!==null||fe;var C=cs,I=fe;cs=_,(fe=o)&&!I?or(s,u,(u.subtreeFlags&8772)!==0):fs(s,u),cs=C,fe=I}p&512&&(u.memoizedProps.mode==="manual"?fa(u,u.return):Ti(u,u.return));break;default:fs(s,u)}}function bv(s){var o=s.alternate;o!==null&&(s.alternate=null,bv(o)),s.child=null,s.deletions=null,s.sibling=null,s.tag===5&&(o=s.stateNode,o!==null&&Hd(o)),s.stateNode=null,s.return=null,s.dependencies=null,s.memoizedProps=null,s.memoizedState=null,s.pendingProps=null,s.stateNode=null,s.updateQueue=null}var xe=null,wi=!1;function us(s,o,u){for(u=u.child;u!==null;)_v(s,o,u),u=u.sibling}function _v(s,o,u){if(Ei&&typeof Ei.onCommitFiberUnmount=="function")try{Ei.onCommitFiberUnmount(ch,u)}catch{}switch(u.tag){case 26:fe||Ti(u,o),us(s,o,u),u.memoizedState?u.memoizedState.count--:u.stateNode&&(u=u.stateNode,u.parentNode.removeChild(u));break;case 27:fe||Ti(u,o);var p=xe,_=wi;for(xe=u.stateNode,us(s,o,u),u=u.stateNode,o=u.attributes;o.length;)u.removeAttributeNode(o[0]);Hd(u),xe=p,wi=_;break;case 5:fe||Ti(u,o);case 6:_=xe;var C=wi;if(xe=null,us(s,o,u),xe=_,wi=C,xe!==null)if(wi)try{s=xe,p=u.stateNode,s.nodeType===8?s.parentNode.removeChild(p):s.removeChild(p)}catch(I){Jt(u,o,I)}else try{xe.removeChild(u.stateNode)}catch(I){Jt(u,o,I)}break;case 18:xe!==null&&(wi?(o=xe,u=u.stateNode,o.nodeType===8?Om(o.parentNode,u):o.nodeType===1&&Om(o,u),rc(o)):Om(xe,u.stateNode));break;case 4:p=xe,_=wi,xe=u.stateNode.containerInfo,wi=!0,us(s,o,u),xe=p,wi=_;break;case 0:case 11:case 14:case 15:fe||ar(2,u,o),fe||ar(4,u,o),us(s,o,u);break;case 1:fe||(Ti(u,o),p=u.stateNode,typeof p.componentWillUnmount=="function"&&fv(u,o,p)),us(s,o,u);break;case 21:us(s,o,u);break;case 22:fe||Ti(u,o),fe=(p=fe)||u.memoizedState!==null,us(s,o,u),fe=p;break;default:us(s,o,u)}}function Av(s,o){if(o.memoizedState===null&&(s=o.alternate,s!==null&&(s=s.memoizedState,s!==null&&(s=s.dehydrated,s!==null))))try{rc(s)}catch(u){Jt(o,o.return,u)}}function wA(s){switch(s.tag){case 13:case 19:var o=s.stateNode;return o===null&&(o=s.stateNode=new gv),o;case 22:return s=s.stateNode,o=s._retryCache,o===null&&(o=s._retryCache=new gv),o;default:throw Error(n(435,s.tag))}}function rm(s,o){var u=wA(s);o.forEach(function(p){var _=VA.bind(null,s,p);u.has(p)||(u.add(p),p.then(_,_))})}function Wi(s,o){var u=o.deletions;if(u!==null)for(var p=0;p<u.length;p++){var _=u[p],C=s,I=o,j=I;t:for(;j!==null;){switch(j.tag){case 27:case 5:xe=j.stateNode,wi=!1;break t;case 3:xe=j.stateNode.containerInfo,wi=!0;break t;case 4:xe=j.stateNode.containerInfo,wi=!0;break t}j=j.return}if(xe===null)throw Error(n(160));_v(C,I,_),xe=null,wi=!1,C=_.alternate,C!==null&&(C.return=null),_.return=null}if(o.subtreeFlags&13878)for(o=o.child;o!==null;)Ev(o,s),o=o.sibling}var dn=null;function Ev(s,o){var u=s.alternate,p=s.flags;switch(s.tag){case 0:case 11:case 14:case 15:Wi(o,s),Ki(s),p&4&&(ar(3,s,s.return),Hh(3,s),ar(5,s,s.return));break;case 1:Wi(o,s),Ki(s),p&512&&(fe||u===null||Ti(u,u.return)),p&64&&cs&&(s=s.updateQueue,s!==null&&(p=s.callbacks,p!==null&&(u=s.shared.hiddenCallbacks,s.shared.hiddenCallbacks=u===null?p:u.concat(p))));break;case 26:var _=dn;if(Wi(o,s),Ki(s),p&512&&(fe||u===null||Ti(u,u.return)),p&4){var C=u!==null?u.memoizedState:null;if(p=s.memoizedState,u===null)if(p===null)if(s.stateNode===null){t:{p=s.type,u=s.memoizedProps,_=_.ownerDocument||_;e:switch(p){case"title":C=_.getElementsByTagName("title")[0],(!C||C[dh]||C[Qe]||C.namespaceURI==="http://www.w3.org/2000/svg"||C.hasAttribute("itemprop"))&&(C=_.createElement(p),_.head.insertBefore(C,_.querySelector("head > title"))),je(C,p,u),C[Qe]=s,Fe(C),p=C;break t;case"link":var I=p1("link","href",_).get(p+(u.href||""));if(I){for(var j=0;j<I.length;j++)if(C=I[j],C.getAttribute("href")===(u.href==null?null:u.href)&&C.getAttribute("rel")===(u.rel==null?null:u.rel)&&C.getAttribute("title")===(u.title==null?null:u.title)&&C.getAttribute("crossorigin")===(u.crossOrigin==null?null:u.crossOrigin)){I.splice(j,1);break e}}C=_.createElement(p),je(C,p,u),_.head.appendChild(C);break;case"meta":if(I=p1("meta","content",_).get(p+(u.content||""))){for(j=0;j<I.length;j++)if(C=I[j],C.getAttribute("content")===(u.content==null?null:""+u.content)&&C.getAttribute("name")===(u.name==null?null:u.name)&&C.getAttribute("property")===(u.property==null?null:u.property)&&C.getAttribute("http-equiv")===(u.httpEquiv==null?null:u.httpEquiv)&&C.getAttribute("charset")===(u.charSet==null?null:u.charSet)){I.splice(j,1);break e}}C=_.createElement(p),je(C,p,u),_.head.appendChild(C);break;default:throw Error(n(468,p))}C[Qe]=s,Fe(C),p=C}s.stateNode=p}else m1(_,s.type,s.stateNode);else s.stateNode=d1(_,p,s.memoizedProps);else C!==p?(C===null?u.stateNode!==null&&(u=u.stateNode,u.parentNode.removeChild(u)):C.count--,p===null?m1(_,s.type,s.stateNode):d1(_,p,s.memoizedProps)):p===null&&s.stateNode!==null&&pv(s,s.memoizedProps,u.memoizedProps)}break;case 27:if(p&4&&s.alternate===null){_=s.stateNode,C=s.memoizedProps;try{for(var Y=_.firstChild;Y;){var Z=Y.nextSibling,ut=Y.nodeName;Y[dh]||ut==="HEAD"||ut==="BODY"||ut==="SCRIPT"||ut==="STYLE"||ut==="LINK"&&Y.rel.toLowerCase()==="stylesheet"||_.removeChild(Y),Y=Z}for(var dt=s.type,ot=_.attributes;ot.length;)_.removeAttributeNode(ot[0]);je(_,dt,C),_[Qe]=s,_[pi]=C}catch(St){Jt(s,s.return,St)}}case 5:if(Wi(o,s),Ki(s),p&512&&(fe||u===null||Ti(u,u.return)),s.flags&32){_=s.stateNode;try{Po(_,"")}catch(St){Jt(s,s.return,St)}}p&4&&s.stateNode!=null&&(_=s.memoizedProps,pv(s,_,u!==null?u.memoizedProps:_)),p&1024&&(sm=!0);break;case 6:if(Wi(o,s),Ki(s),p&4){if(s.stateNode===null)throw Error(n(162));p=s.memoizedProps,u=s.stateNode;try{u.nodeValue=p}catch(St){Jt(s,s.return,St)}}break;case 3:if(Nf=null,_=dn,dn=If(o.containerInfo),Wi(o,s),dn=_,Ki(s),p&4&&u!==null&&u.memoizedState.isDehydrated)try{rc(o.containerInfo)}catch(St){Jt(s,s.return,St)}sm&&(sm=!1,xv(s));break;case 4:p=dn,dn=If(s.stateNode.containerInfo),Wi(o,s),Ki(s),dn=p;break;case 12:Wi(o,s),Ki(s);break;case 13:Wi(o,s),Ki(s),s.child.flags&8192&&s.memoizedState!==null!=(u!==null&&u.memoizedState!==null)&&(pm=se()),p&4&&(p=s.updateQueue,p!==null&&(s.updateQueue=null,rm(s,p)));break;case 22:if(p&512&&(fe||u===null||Ti(u,u.return)),Y=s.memoizedState!==null,Z=u!==null&&u.memoizedState!==null,ut=cs,dt=fe,cs=ut||Y,fe=dt||Z,Wi(o,s),fe=dt,cs=ut,Ki(s),o=s.stateNode,o._current=s,o._visibility&=-3,o._visibility|=o._pendingVisibility&2,p&8192&&(o._visibility=Y?o._visibility&-2:o._visibility|1,Y&&(o=cs||fe,u===null||Z||o||qo(s)),s.memoizedProps===null||s.memoizedProps.mode!=="manual"))t:for(u=null,o=s;;){if(o.tag===5||o.tag===26||o.tag===27){if(u===null){Z=u=o;try{if(_=Z.stateNode,Y)C=_.style,typeof C.setProperty=="function"?C.setProperty("display","none","important"):C.display="none";else{I=Z.stateNode,j=Z.memoizedProps.style;var ct=j!=null&&j.hasOwnProperty("display")?j.display:null;I.style.display=ct==null||typeof ct=="boolean"?"":(""+ct).trim()}}catch(St){Jt(Z,Z.return,St)}}}else if(o.tag===6){if(u===null){Z=o;try{Z.stateNode.nodeValue=Y?"":Z.memoizedProps}catch(St){Jt(Z,Z.return,St)}}}else if((o.tag!==22&&o.tag!==23||o.memoizedState===null||o===s)&&o.child!==null){o.child.return=o,o=o.child;continue}if(o===s)break t;for(;o.sibling===null;){if(o.return===null||o.return===s)break t;u===o&&(u=null),o=o.return}u===o&&(u=null),o.sibling.return=o.return,o=o.sibling}p&4&&(p=s.updateQueue,p!==null&&(u=p.retryQueue,u!==null&&(p.retryQueue=null,rm(s,u))));break;case 19:Wi(o,s),Ki(s),p&4&&(p=s.updateQueue,p!==null&&(s.updateQueue=null,rm(s,p)));break;case 21:break;default:Wi(o,s),Ki(s)}}function Ki(s){var o=s.flags;if(o&2){try{if(s.tag!==27){t:{for(var u=s.return;u!==null;){if(mv(u)){var p=u;break t}u=u.return}throw Error(n(160))}switch(p.tag){case 27:var _=p.stateNode,C=em(s);_f(s,C,_);break;case 5:var I=p.stateNode;p.flags&32&&(Po(I,""),p.flags&=-33);var j=em(s);_f(s,j,I);break;case 3:case 4:var Y=p.stateNode.containerInfo,Z=em(s);im(s,Z,Y);break;default:throw Error(n(161))}}}catch(ut){Jt(s,s.return,ut)}s.flags&=-3}o&4096&&(s.flags&=-4097)}function xv(s){if(s.subtreeFlags&1024)for(s=s.child;s!==null;){var o=s;xv(o),o.tag===5&&o.flags&1024&&o.stateNode.reset(),s=s.sibling}}function fs(s,o){if(o.subtreeFlags&8772)for(o=o.child;o!==null;)vv(s,o.alternate,o),o=o.sibling}function qo(s){for(s=s.child;s!==null;){var o=s;switch(o.tag){case 0:case 11:case 14:case 15:ar(4,o,o.return),qo(o);break;case 1:Ti(o,o.return);var u=o.stateNode;typeof u.componentWillUnmount=="function"&&fv(o,o.return,u),qo(o);break;case 26:case 27:case 5:Ti(o,o.return),qo(o);break;case 22:Ti(o,o.return),o.memoizedState===null&&qo(o);break;default:qo(o)}s=s.sibling}}function or(s,o,u){for(u=u&&(o.subtreeFlags&8772)!==0,o=o.child;o!==null;){var p=o.alternate,_=s,C=o,I=C.flags;switch(C.tag){case 0:case 11:case 15:or(_,C,u),Hh(4,C);break;case 1:if(or(_,C,u),p=C,_=p.stateNode,typeof _.componentDidMount=="function")try{_.componentDidMount()}catch(Z){Jt(p,p.return,Z)}if(p=C,_=p.updateQueue,_!==null){var j=p.stateNode;try{var Y=_.shared.hiddenCallbacks;if(Y!==null)for(_.shared.hiddenCallbacks=null,_=0;_<Y.length;_++)hv(Y[_],j)}catch(Z){Jt(p,p.return,Z)}}u&&I&64&&uv(C),fa(C,C.return);break;case 26:case 27:case 5:or(_,C,u),u&&p===null&&I&4&&dv(C),fa(C,C.return);break;case 12:or(_,C,u);break;case 13:or(_,C,u),u&&I&4&&Av(_,C);break;case 22:C.memoizedState===null&&or(_,C,u),fa(C,C.return);break;default:or(_,C,u)}o=o.sibling}}function am(s,o){var u=null;s!==null&&s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(u=s.memoizedState.cachePool.pool),s=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(s=o.memoizedState.cachePool.pool),s!==u&&(s!=null&&s.refCount++,u!=null&&kh(u))}function om(s,o){s=null,o.alternate!==null&&(s=o.alternate.memoizedState.cache),o=o.memoizedState.cache,o!==s&&(o.refCount++,s!=null&&kh(s))}function lr(s,o,u,p){if(o.subtreeFlags&10256)for(o=o.child;o!==null;)Sv(s,o,u,p),o=o.sibling}function Sv(s,o,u,p){var _=o.flags;switch(o.tag){case 0:case 11:case 15:lr(s,o,u,p),_&2048&&Hh(9,o);break;case 3:lr(s,o,u,p),_&2048&&(s=null,o.alternate!==null&&(s=o.alternate.memoizedState.cache),o=o.memoizedState.cache,o!==s&&(o.refCount++,s!=null&&kh(s)));break;case 12:if(_&2048){lr(s,o,u,p),s=o.stateNode;try{var C=o.memoizedProps,I=C.id,j=C.onPostCommit;typeof j=="function"&&j(I,o.alternate===null?"mount":"update",s.passiveEffectDuration,-0)}catch(Y){Jt(o,o.return,Y)}}else lr(s,o,u,p);break;case 23:break;case 22:C=o.stateNode,o.memoizedState!==null?C._visibility&4?lr(s,o,u,p):Gh(s,o):C._visibility&4?lr(s,o,u,p):(C._visibility|=4,$o(s,o,u,p,(o.subtreeFlags&10256)!==0)),_&2048&&am(o.alternate,o);break;case 24:lr(s,o,u,p),_&2048&&om(o.alternate,o);break;default:lr(s,o,u,p)}}function $o(s,o,u,p,_){for(_=_&&(o.subtreeFlags&10256)!==0,o=o.child;o!==null;){var C=s,I=o,j=u,Y=p,Z=I.flags;switch(I.tag){case 0:case 11:case 15:$o(C,I,j,Y,_),Hh(8,I);break;case 23:break;case 22:var ut=I.stateNode;I.memoizedState!==null?ut._visibility&4?$o(C,I,j,Y,_):Gh(C,I):(ut._visibility|=4,$o(C,I,j,Y,_)),_&&Z&2048&&am(I.alternate,I);break;case 24:$o(C,I,j,Y,_),_&&Z&2048&&om(I.alternate,I);break;default:$o(C,I,j,Y,_)}o=o.sibling}}function Gh(s,o){if(o.subtreeFlags&10256)for(o=o.child;o!==null;){var u=s,p=o,_=p.flags;switch(p.tag){case 22:Gh(u,p),_&2048&&am(p.alternate,p);break;case 24:Gh(u,p),_&2048&&om(p.alternate,p);break;default:Gh(u,p)}o=o.sibling}}var Uh=8192;function Xo(s){if(s.subtreeFlags&Uh)for(s=s.child;s!==null;)Tv(s),s=s.sibling}function Tv(s){switch(s.tag){case 26:Xo(s),s.flags&Uh&&s.memoizedState!==null&&pE(dn,s.memoizedState,s.memoizedProps);break;case 5:Xo(s);break;case 3:case 4:var o=dn;dn=If(s.stateNode.containerInfo),Xo(s),dn=o;break;case 22:s.memoizedState===null&&(o=s.alternate,o!==null&&o.memoizedState!==null?(o=Uh,Uh=16777216,Xo(s),Uh=o):Xo(s));break;default:Xo(s)}}function wv(s){var o=s.alternate;if(o!==null&&(s=o.child,s!==null)){o.child=null;do o=s.sibling,s.sibling=null,s=o;while(s!==null)}}function jh(s){var o=s.deletions;if((s.flags&16)!==0){if(o!==null)for(var u=0;u<o.length;u++){var p=o[u];Le=p,Pv(p,s)}wv(s)}if(s.subtreeFlags&10256)for(s=s.child;s!==null;)Cv(s),s=s.sibling}function Cv(s){switch(s.tag){case 0:case 11:case 15:jh(s),s.flags&2048&&ar(9,s,s.return);break;case 3:jh(s);break;case 12:jh(s);break;case 22:var o=s.stateNode;s.memoizedState!==null&&o._visibility&4&&(s.return===null||s.return.tag!==13)?(o._visibility&=-5,Af(s)):jh(s);break;default:jh(s)}}function Af(s){var o=s.deletions;if((s.flags&16)!==0){if(o!==null)for(var u=0;u<o.length;u++){var p=o[u];Le=p,Pv(p,s)}wv(s)}for(s=s.child;s!==null;){switch(o=s,o.tag){case 0:case 11:case 15:ar(8,o,o.return),Af(o);break;case 22:u=o.stateNode,u._visibility&4&&(u._visibility&=-5,Af(o));break;default:Af(o)}s=s.sibling}}function Pv(s,o){for(;Le!==null;){var u=Le;switch(u.tag){case 0:case 11:case 15:ar(8,u,o);break;case 23:case 22:if(u.memoizedState!==null&&u.memoizedState.cachePool!==null){var p=u.memoizedState.cachePool.pool;p!=null&&p.refCount++}break;case 24:kh(u.memoizedState.cache)}if(p=u.child,p!==null)p.return=u,Le=p;else t:for(u=s;Le!==null;){p=Le;var _=p.sibling,C=p.return;if(bv(p),p===u){Le=null;break t}if(_!==null){_.return=C,Le=_;break t}Le=C}}}function CA(s,o,u,p){this.tag=s,this.key=u,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=o,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=p,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Qi(s,o,u,p){return new CA(s,o,u,p)}function lm(s){return s=s.prototype,!(!s||!s.isReactComponent)}function hr(s,o){var u=s.alternate;return u===null?(u=Qi(s.tag,o,s.key,s.mode),u.elementType=s.elementType,u.type=s.type,u.stateNode=s.stateNode,u.alternate=s,s.alternate=u):(u.pendingProps=o,u.type=s.type,u.flags=0,u.subtreeFlags=0,u.deletions=null),u.flags=s.flags&31457280,u.childLanes=s.childLanes,u.lanes=s.lanes,u.child=s.child,u.memoizedProps=s.memoizedProps,u.memoizedState=s.memoizedState,u.updateQueue=s.updateQueue,o=s.dependencies,u.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext},u.sibling=s.sibling,u.index=s.index,u.ref=s.ref,u.refCleanup=s.refCleanup,u}function Mv(s,o){s.flags&=31457282;var u=s.alternate;return u===null?(s.childLanes=0,s.lanes=o,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=u.childLanes,s.lanes=u.lanes,s.child=u.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=u.memoizedProps,s.memoizedState=u.memoizedState,s.updateQueue=u.updateQueue,s.type=u.type,o=u.dependencies,s.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext}),s}function Ef(s,o,u,p,_,C){var I=0;if(p=s,typeof s=="function")lm(s)&&(I=1);else if(typeof s=="string")I=fE(s,u,Vt.current)?26:s==="html"||s==="head"||s==="body"?27:5;else t:switch(s){case d:return da(u.children,_,C,o);case m:I=8,_|=24;break;case y:return s=Qi(12,u,o,_|2),s.elementType=y,s.lanes=C,s;case T:return s=Qi(13,u,o,_),s.elementType=T,s.lanes=C,s;case k:return s=Qi(19,u,o,_),s.elementType=k,s.lanes=C,s;case P:return Rv(u,_,C,o);default:if(typeof s=="object"&&s!==null)switch(s.$$typeof){case A:case x:I=10;break t;case b:I=9;break t;case E:I=11;break t;case S:I=14;break t;case M:I=16,p=null;break t}I=29,u=Error(n(130,s===null?"null":typeof s,"")),p=null}return o=Qi(I,u,o,_),o.elementType=s,o.type=p,o.lanes=C,o}function da(s,o,u,p){return s=Qi(7,s,p,o),s.lanes=u,s}function Rv(s,o,u,p){s=Qi(22,s,p,o),s.elementType=P,s.lanes=u;var _={_visibility:1,_pendingVisibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null,_current:null,detach:function(){var C=_._current;if(C===null)throw Error(n(456));if((_._pendingVisibility&2)===0){var I=Qs(C,2);I!==null&&(_._pendingVisibility|=2,oi(I,C,2))}},attach:function(){var C=_._current;if(C===null)throw Error(n(456));if((_._pendingVisibility&2)!==0){var I=Qs(C,2);I!==null&&(_._pendingVisibility&=-3,oi(I,C,2))}}};return s.stateNode=_,s}function hm(s,o,u){return s=Qi(6,s,null,o),s.lanes=u,s}function cm(s,o,u){return o=Qi(4,s.children!==null?s.children:[],s.key,o),o.lanes=u,o.stateNode={containerInfo:s.containerInfo,pendingChildren:null,implementation:s.implementation},o}function ds(s){s.flags|=4}function kv(s,o){if(o.type!=="stylesheet"||(o.state.loading&4)!==0)s.flags&=-16777217;else if(s.flags|=16777216,!g1(o)){if(o=Yi.current,o!==null&&((Ht&4194176)===Ht?kn!==null:(Ht&62914560)!==Ht&&(Ht&536870912)===0||o!==kn))throw Ph=pp,Yg;s.flags|=8192}}function xf(s,o){o!==null&&(s.flags|=4),s.flags&16384&&(o=s.tag!==22?W0():536870912,s.lanes|=o,Wo|=o)}function qh(s,o){if(!Gt)switch(s.tailMode){case"hidden":o=s.tail;for(var u=null;o!==null;)o.alternate!==null&&(u=o),o=o.sibling;u===null?s.tail=null:u.sibling=null;break;case"collapsed":u=s.tail;for(var p=null;u!==null;)u.alternate!==null&&(p=u),u=u.sibling;p===null?o||s.tail===null?s.tail=null:s.tail.sibling=null:p.sibling=null}}function oe(s){var o=s.alternate!==null&&s.alternate.child===s.child,u=0,p=0;if(o)for(var _=s.child;_!==null;)u|=_.lanes|_.childLanes,p|=_.subtreeFlags&31457280,p|=_.flags&31457280,_.return=s,_=_.sibling;else for(_=s.child;_!==null;)u|=_.lanes|_.childLanes,p|=_.subtreeFlags,p|=_.flags,_.return=s,_=_.sibling;return s.subtreeFlags|=p,s.childLanes=u,o}function PA(s,o,u){var p=o.pendingProps;switch(fp(o),o.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return oe(o),null;case 1:return oe(o),null;case 3:return u=o.stateNode,p=null,s!==null&&(p=s.memoizedState.cache),o.memoizedState.cache!==p&&(o.flags|=2048),hs(Ce),zt(),u.pendingContext&&(u.context=u.pendingContext,u.pendingContext=null),(s===null||s.child===null)&&(Sh(o)?ds(o):s===null||s.memoizedState.isDehydrated&&(o.flags&256)===0||(o.flags|=1024,fn!==null&&(vm(fn),fn=null))),oe(o),null;case 26:return u=o.memoizedState,s===null?(ds(o),u!==null?(oe(o),kv(o,u)):(oe(o),o.flags&=-16777217)):u?u!==s.memoizedState?(ds(o),oe(o),kv(o,u)):(oe(o),o.flags&=-16777217):(s.memoizedProps!==p&&ds(o),oe(o),o.flags&=-16777217),null;case 27:ye(o),u=Et.current;var _=o.type;if(s!==null&&o.stateNode!=null)s.memoizedProps!==p&&ds(o);else{if(!p){if(o.stateNode===null)throw Error(n(166));return oe(o),null}s=Vt.current,Sh(o)?$g(o):(s=o1(_,p,u),o.stateNode=s,ds(o))}return oe(o),null;case 5:if(ye(o),u=o.type,s!==null&&o.stateNode!=null)s.memoizedProps!==p&&ds(o);else{if(!p){if(o.stateNode===null)throw Error(n(166));return oe(o),null}if(s=Vt.current,Sh(o))$g(o);else{switch(_=Lf(Et.current),s){case 1:s=_.createElementNS("http://www.w3.org/2000/svg",u);break;case 2:s=_.createElementNS("http://www.w3.org/1998/Math/MathML",u);break;default:switch(u){case"svg":s=_.createElementNS("http://www.w3.org/2000/svg",u);break;case"math":s=_.createElementNS("http://www.w3.org/1998/Math/MathML",u);break;case"script":s=_.createElement("div"),s.innerHTML="<script><\/script>",s=s.removeChild(s.firstChild);break;case"select":s=typeof p.is=="string"?_.createElement("select",{is:p.is}):_.createElement("select"),p.multiple?s.multiple=!0:p.size&&(s.size=p.size);break;default:s=typeof p.is=="string"?_.createElement(u,{is:p.is}):_.createElement(u)}}s[Qe]=o,s[pi]=p;t:for(_=o.child;_!==null;){if(_.tag===5||_.tag===6)s.appendChild(_.stateNode);else if(_.tag!==4&&_.tag!==27&&_.child!==null){_.child.return=_,_=_.child;continue}if(_===o)break t;for(;_.sibling===null;){if(_.return===null||_.return===o)break t;_=_.return}_.sibling.return=_.return,_=_.sibling}o.stateNode=s;t:switch(je(s,u,p),u){case"button":case"input":case"select":case"textarea":s=!!p.autoFocus;break t;case"img":s=!0;break t;default:s=!1}s&&ds(o)}}return oe(o),o.flags&=-16777217,null;case 6:if(s&&o.stateNode!=null)s.memoizedProps!==p&&ds(o);else{if(typeof p!="string"&&o.stateNode===null)throw Error(n(166));if(s=Et.current,Sh(o)){if(s=o.stateNode,u=o.memoizedProps,p=null,_=ai,_!==null)switch(_.tag){case 27:case 5:p=_.memoizedProps}s[Qe]=o,s=!!(s.nodeValue===u||p!==null&&p.suppressHydrationWarning===!0||e1(s.nodeValue,u)),s||na(o)}else s=Lf(s).createTextNode(p),s[Qe]=o,o.stateNode=s}return oe(o),null;case 13:if(p=o.memoizedState,s===null||s.memoizedState!==null&&s.memoizedState.dehydrated!==null){if(_=Sh(o),p!==null&&p.dehydrated!==null){if(s===null){if(!_)throw Error(n(318));if(_=o.memoizedState,_=_!==null?_.dehydrated:null,!_)throw Error(n(317));_[Qe]=o}else Th(),(o.flags&128)===0&&(o.memoizedState=null),o.flags|=4;oe(o),_=!1}else fn!==null&&(vm(fn),fn=null),_=!0;if(!_)return o.flags&256?(rs(o),o):(rs(o),null)}if(rs(o),(o.flags&128)!==0)return o.lanes=u,o;if(u=p!==null,s=s!==null&&s.memoizedState!==null,u){p=o.child,_=null,p.alternate!==null&&p.alternate.memoizedState!==null&&p.alternate.memoizedState.cachePool!==null&&(_=p.alternate.memoizedState.cachePool.pool);var C=null;p.memoizedState!==null&&p.memoizedState.cachePool!==null&&(C=p.memoizedState.cachePool.pool),C!==_&&(p.flags|=2048)}return u!==s&&u&&(o.child.flags|=8192),xf(o,o.updateQueue),oe(o),null;case 4:return zt(),s===null&&Mm(o.stateNode.containerInfo),oe(o),null;case 10:return hs(o.type),oe(o),null;case 19:if(Ct(we),_=o.memoizedState,_===null)return oe(o),null;if(p=(o.flags&128)!==0,C=_.rendering,C===null)if(p)qh(_,!1);else{if(de!==0||s!==null&&(s.flags&128)!==0)for(s=o.child;s!==null;){if(C=af(s),C!==null){for(o.flags|=128,qh(_,!1),s=C.updateQueue,o.updateQueue=s,xf(o,s),o.subtreeFlags=0,s=u,u=o.child;u!==null;)Mv(u,s),u=u.sibling;return _t(we,we.current&1|2),o.child}s=s.sibling}_.tail!==null&&se()>Sf&&(o.flags|=128,p=!0,qh(_,!1),o.lanes=4194304)}else{if(!p)if(s=af(C),s!==null){if(o.flags|=128,p=!0,s=s.updateQueue,o.updateQueue=s,xf(o,s),qh(_,!0),_.tail===null&&_.tailMode==="hidden"&&!C.alternate&&!Gt)return oe(o),null}else 2*se()-_.renderingStartTime>Sf&&u!==536870912&&(o.flags|=128,p=!0,qh(_,!1),o.lanes=4194304);_.isBackwards?(C.sibling=o.child,o.child=C):(s=_.last,s!==null?s.sibling=C:o.child=C,_.last=C)}return _.tail!==null?(o=_.tail,_.rendering=o,_.tail=o.sibling,_.renderingStartTime=se(),o.sibling=null,s=we.current,_t(we,p?s&1|2:s&1),o):(oe(o),null);case 22:case 23:return rs(o),gp(),p=o.memoizedState!==null,s!==null?s.memoizedState!==null!==p&&(o.flags|=8192):p&&(o.flags|=8192),p?(u&536870912)!==0&&(o.flags&128)===0&&(oe(o),o.subtreeFlags&6&&(o.flags|=8192)):oe(o),u=o.updateQueue,u!==null&&xf(o,u.retryQueue),u=null,s!==null&&s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(u=s.memoizedState.cachePool.pool),p=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(p=o.memoizedState.cachePool.pool),p!==u&&(o.flags|=2048),s!==null&&Ct(ra),null;case 24:return u=null,s!==null&&(u=s.memoizedState.cache),o.memoizedState.cache!==u&&(o.flags|=2048),hs(Ce),oe(o),null;case 25:return null}throw Error(n(156,o.tag))}function MA(s,o){switch(fp(o),o.tag){case 1:return s=o.flags,s&65536?(o.flags=s&-65537|128,o):null;case 3:return hs(Ce),zt(),s=o.flags,(s&65536)!==0&&(s&128)===0?(o.flags=s&-65537|128,o):null;case 26:case 27:case 5:return ye(o),null;case 13:if(rs(o),s=o.memoizedState,s!==null&&s.dehydrated!==null){if(o.alternate===null)throw Error(n(340));Th()}return s=o.flags,s&65536?(o.flags=s&-65537|128,o):null;case 19:return Ct(we),null;case 4:return zt(),null;case 10:return hs(o.type),null;case 22:case 23:return rs(o),gp(),s!==null&&Ct(ra),s=o.flags,s&65536?(o.flags=s&-65537|128,o):null;case 24:return hs(Ce),null;case 25:return null;default:return null}}function Fv(s,o){switch(fp(o),o.tag){case 3:hs(Ce),zt();break;case 26:case 27:case 5:ye(o);break;case 4:zt();break;case 13:rs(o);break;case 19:Ct(we);break;case 10:hs(o.type);break;case 22:case 23:rs(o),gp(),s!==null&&Ct(ra);break;case 24:hs(Ce)}}var RA={getCacheForType:function(s){var o=Ze(Ce),u=o.data.get(s);return u===void 0&&(u=s(),o.data.set(s,u)),u}},kA=typeof WeakMap=="function"?WeakMap:Map,le=0,te=null,Ot=null,Ht=0,ee=0,Ci=null,ps=!1,Yo=!1,um=!1,ms=0,de=0,cr=0,pa=0,fm=0,Zi=0,Wo=0,$h=null,Dn=null,dm=!1,pm=0,Sf=1/0,Tf=null,ur=null,wf=!1,ma=null,Xh=0,mm=0,gm=null,Yh=0,ym=null;function Pi(){if((le&2)!==0&&Ht!==0)return Ht&-Ht;if(X.T!==null){var s=zo;return s!==0?s:Tm()}return J0()}function Dv(){Zi===0&&(Zi=(Ht&536870912)===0||Gt?Y0():536870912);var s=Yi.current;return s!==null&&(s.flags|=32),Zi}function oi(s,o,u){(s===te&&ee===2||s.cancelPendingCommit!==null)&&(Ko(s,0),gs(s,Ht,Zi,!1)),fh(s,u),((le&2)===0||s!==te)&&(s===te&&((le&2)===0&&(pa|=u),de===4&&gs(s,Ht,Zi,!1)),Ln(s))}function Lv(s,o,u){if((le&6)!==0)throw Error(n(327));var p=!u&&(o&60)===0&&(o&s.expiredLanes)===0||uh(s,o),_=p?LA(s,o):Am(s,o,!0),C=p;do{if(_===0){Yo&&!p&&gs(s,o,0,!1);break}else if(_===6)gs(s,o,0,!ps);else{if(u=s.current.alternate,C&&!FA(u)){_=Am(s,o,!1),C=!1;continue}if(_===2){if(C=o,s.errorRecoveryDisabledLanes&C)var I=0;else I=s.pendingLanes&-536870913,I=I!==0?I:I&536870912?536870912:0;if(I!==0){o=I;t:{var j=s;_=$h;var Y=j.current.memoizedState.isDehydrated;if(Y&&(Ko(j,I).flags|=256),I=Am(j,I,!1),I!==2){if(um&&!Y){j.errorRecoveryDisabledLanes|=C,pa|=C,_=4;break t}C=Dn,Dn=_,C!==null&&vm(C)}_=I}if(C=!1,_!==2)continue}}if(_===1){Ko(s,0),gs(s,o,0,!0);break}t:{switch(p=s,_){case 0:case 1:throw Error(n(345));case 4:if((o&4194176)===o){gs(p,o,Zi,!ps);break t}break;case 2:Dn=null;break;case 3:case 5:break;default:throw Error(n(329))}if(p.finishedWork=u,p.finishedLanes=o,(o&62914560)===o&&(C=pm+300-se(),10<C)){if(gs(p,o,Zi,!ps),Bu(p,0)!==0)break t;p.timeoutHandle=s1(Iv.bind(null,p,u,Dn,Tf,dm,o,Zi,pa,Wo,ps,2,-0,0),C);break t}Iv(p,u,Dn,Tf,dm,o,Zi,pa,Wo,ps,0,-0,0)}}break}while(!0);Ln(s)}function vm(s){Dn===null?Dn=s:Dn.push.apply(Dn,s)}function Iv(s,o,u,p,_,C,I,j,Y,Z,ut,dt,ot){var ct=o.subtreeFlags;if((ct&8192||(ct&16785408)===16785408)&&(tc={stylesheets:null,count:0,unsuspend:dE},Tv(o),o=mE(),o!==null)){s.cancelPendingCommit=o(Gv.bind(null,s,u,p,_,I,j,Y,1,dt,ot)),gs(s,C,I,!Z);return}Gv(s,u,p,_,I,j,Y,ut,dt,ot)}function FA(s){for(var o=s;;){var u=o.tag;if((u===0||u===11||u===15)&&o.flags&16384&&(u=o.updateQueue,u!==null&&(u=u.stores,u!==null)))for(var p=0;p<u.length;p++){var _=u[p],C=_.getSnapshot;_=_.value;try{if(!Si(C(),_))return!1}catch{return!1}}if(u=o.child,o.subtreeFlags&16384&&u!==null)u.return=o,o=u;else{if(o===s)break;for(;o.sibling===null;){if(o.return===null||o.return===s)return!0;o=o.return}o.sibling.return=o.return,o=o.sibling}}return!0}function gs(s,o,u,p){o&=~fm,o&=~pa,s.suspendedLanes|=o,s.pingedLanes&=~o,p&&(s.warmLanes|=o),p=s.expirationTimes;for(var _=o;0<_;){var C=31-xi(_),I=1<<C;p[C]=-1,_&=~I}u!==0&&K0(s,u,o)}function Cf(){return(le&6)===0?(Wh(0),!1):!0}function bm(){if(Ot!==null){if(ee===0)var s=Ot.return;else s=Ot,ls=ca=null,Sp(s),Bo=null,Mh=0,s=Ot;for(;s!==null;)Fv(s.alternate,s),s=s.return;Ot=null}}function Ko(s,o){s.finishedWork=null,s.finishedLanes=0;var u=s.timeoutHandle;u!==-1&&(s.timeoutHandle=-1,QA(u)),u=s.cancelPendingCommit,u!==null&&(s.cancelPendingCommit=null,u()),bm(),te=s,Ot=u=hr(s.current,null),Ht=o,ee=0,Ci=null,ps=!1,Yo=uh(s,o),um=!1,Wo=Zi=fm=pa=cr=de=0,Dn=$h=null,dm=!1,(o&8)!==0&&(o|=o&32);var p=s.entangledLanes;if(p!==0)for(s=s.entanglements,p&=o;0<p;){var _=31-xi(p),C=1<<_;o|=s[_],p&=~C}return ms=o,Ku(),u}function Ov(s,o){Dt=null,X.H=Fn,o===Ch?(o=Qg(),ee=3):o===Yg?(o=Qg(),ee=4):ee=o===Wy?8:o!==null&&typeof o=="object"&&typeof o.then=="function"?6:1,Ci=o,Ot===null&&(de=1,yf(s,qi(o,s.current)))}function Nv(){var s=X.H;return X.H=Fn,s===null?Fn:s}function Bv(){var s=X.A;return X.A=RA,s}function _m(){de=4,ps||(Ht&4194176)!==Ht&&Yi.current!==null||(Yo=!0),(cr&134217727)===0&&(pa&134217727)===0||te===null||gs(te,Ht,Zi,!1)}function Am(s,o,u){var p=le;le|=2;var _=Nv(),C=Bv();(te!==s||Ht!==o)&&(Tf=null,Ko(s,o)),o=!1;var I=de;t:do try{if(ee!==0&&Ot!==null){var j=Ot,Y=Ci;switch(ee){case 8:bm(),I=6;break t;case 3:case 2:case 6:Yi.current===null&&(o=!0);var Z=ee;if(ee=0,Ci=null,Qo(s,j,Y,Z),u&&Yo){I=0;break t}break;default:Z=ee,ee=0,Ci=null,Qo(s,j,Y,Z)}}DA(),I=de;break}catch(ut){Ov(s,ut)}while(!0);return o&&s.shellSuspendCounter++,ls=ca=null,le=p,X.H=_,X.A=C,Ot===null&&(te=null,Ht=0,Ku()),I}function DA(){for(;Ot!==null;)Vv(Ot)}function LA(s,o){var u=le;le|=2;var p=Nv(),_=Bv();te!==s||Ht!==o?(Tf=null,Sf=se()+500,Ko(s,o)):Yo=uh(s,o);t:do try{if(ee!==0&&Ot!==null){o=Ot;var C=Ci;e:switch(ee){case 1:ee=0,Ci=null,Qo(s,o,C,1);break;case 2:if(Wg(C)){ee=0,Ci=null,zv(o);break}o=function(){ee===2&&te===s&&(ee=7),Ln(s)},C.then(o,o);break t;case 3:ee=7;break t;case 4:ee=5;break t;case 7:Wg(C)?(ee=0,Ci=null,zv(o)):(ee=0,Ci=null,Qo(s,o,C,7));break;case 5:var I=null;switch(Ot.tag){case 26:I=Ot.memoizedState;case 5:case 27:var j=Ot;if(!I||g1(I)){ee=0,Ci=null;var Y=j.sibling;if(Y!==null)Ot=Y;else{var Z=j.return;Z!==null?(Ot=Z,Pf(Z)):Ot=null}break e}}ee=0,Ci=null,Qo(s,o,C,5);break;case 6:ee=0,Ci=null,Qo(s,o,C,6);break;case 8:bm(),de=6;break t;default:throw Error(n(462))}}IA();break}catch(ut){Ov(s,ut)}while(!0);return ls=ca=null,X.H=p,X.A=_,le=u,Ot!==null?0:(te=null,Ht=0,Ku(),de)}function IA(){for(;Ot!==null&&!Vi();)Vv(Ot)}function Vv(s){var o=ov(s.alternate,s,ms);s.memoizedProps=s.pendingProps,o===null?Pf(s):Ot=o}function zv(s){var o=s,u=o.alternate;switch(o.tag){case 15:case 0:o=ev(u,o,o.pendingProps,o.type,void 0,Ht);break;case 11:o=ev(u,o,o.pendingProps,o.type.render,o.ref,Ht);break;case 5:Sp(o);default:Fv(u,o),o=Ot=Mv(o,ms),o=ov(u,o,ms)}s.memoizedProps=s.pendingProps,o===null?Pf(s):Ot=o}function Qo(s,o,u,p){ls=ca=null,Sp(o),Bo=null,Mh=0;var _=o.return;try{if(xA(s,_,o,u,Ht)){de=1,yf(s,qi(u,s.current)),Ot=null;return}}catch(C){if(_!==null)throw Ot=_,C;de=1,yf(s,qi(u,s.current)),Ot=null;return}o.flags&32768?(Gt||p===1?s=!0:Yo||(Ht&536870912)!==0?s=!1:(ps=s=!0,(p===2||p===3||p===6)&&(p=Yi.current,p!==null&&p.tag===13&&(p.flags|=16384))),Hv(o,s)):Pf(o)}function Pf(s){var o=s;do{if((o.flags&32768)!==0){Hv(o,ps);return}s=o.return;var u=PA(o.alternate,o,ms);if(u!==null){Ot=u;return}if(o=o.sibling,o!==null){Ot=o;return}Ot=o=s}while(o!==null);de===0&&(de=5)}function Hv(s,o){do{var u=MA(s.alternate,s);if(u!==null){u.flags&=32767,Ot=u;return}if(u=s.return,u!==null&&(u.flags|=32768,u.subtreeFlags=0,u.deletions=null),!o&&(s=s.sibling,s!==null)){Ot=s;return}Ot=s=u}while(s!==null);de=6,Ot=null}function Gv(s,o,u,p,_,C,I,j,Y,Z){var ut=X.T,dt=rt.p;try{rt.p=2,X.T=null,OA(s,o,u,p,dt,_,C,I,j,Y,Z)}finally{X.T=ut,rt.p=dt}}function OA(s,o,u,p,_,C,I,j){do Zo();while(ma!==null);if((le&6)!==0)throw Error(n(327));var Y=s.finishedWork;if(p=s.finishedLanes,Y===null)return null;if(s.finishedWork=null,s.finishedLanes=0,Y===s.current)throw Error(n(177));s.callbackNode=null,s.callbackPriority=0,s.cancelPendingCommit=null;var Z=Y.lanes|Y.childLanes;if(Z|=hp,p_(s,p,Z,C,I,j),s===te&&(Ot=te=null,Ht=0),(Y.subtreeFlags&10256)===0&&(Y.flags&10256)===0||wf||(wf=!0,mm=Z,gm=u,zA(di,function(){return Zo(),null})),u=(Y.flags&15990)!==0,(Y.subtreeFlags&15990)!==0||u?(u=X.T,X.T=null,C=rt.p,rt.p=2,I=le,le|=4,TA(s,Y),Ev(Y,s),aA(Dm,s.containerInfo),zf=!!Fm,Dm=Fm=null,s.current=Y,vv(s,Y.alternate,Y),zi(),le=I,rt.p=C,X.T=u):s.current=Y,wf?(wf=!1,ma=s,Xh=p):Uv(s,Z),Z=s.pendingLanes,Z===0&&(ur=null),h_(Y.stateNode),Ln(s),o!==null)for(_=s.onRecoverableError,Y=0;Y<o.length;Y++)Z=o[Y],_(Z.value,{componentStack:Z.stack});return(Xh&3)!==0&&Zo(),Z=s.pendingLanes,(p&4194218)!==0&&(Z&42)!==0?s===ym?Yh++:(Yh=0,ym=s):Yh=0,Wh(0),null}function Uv(s,o){(s.pooledCacheLanes&=o)===0&&(o=s.pooledCache,o!=null&&(s.pooledCache=null,kh(o)))}function Zo(){if(ma!==null){var s=ma,o=mm;mm=0;var u=Z0(Xh),p=X.T,_=rt.p;try{if(rt.p=32>u?32:u,X.T=null,ma===null)var C=!1;else{u=gm,gm=null;var I=ma,j=Xh;if(ma=null,Xh=0,(le&6)!==0)throw Error(n(331));var Y=le;if(le|=4,Cv(I.current),Sv(I,I.current,j,u),le=Y,Wh(0,!1),Ei&&typeof Ei.onPostCommitFiberRoot=="function")try{Ei.onPostCommitFiberRoot(ch,I)}catch{}C=!0}return C}finally{rt.p=_,X.T=p,Uv(s,o)}}return!1}function jv(s,o,u){o=qi(u,o),o=Bp(s.stateNode,o,2),s=rr(s,o,2),s!==null&&(fh(s,2),Ln(s))}function Jt(s,o,u){if(s.tag===3)jv(s,s,u);else for(;o!==null;){if(o.tag===3){jv(o,s,u);break}else if(o.tag===1){var p=o.stateNode;if(typeof o.type.getDerivedStateFromError=="function"||typeof p.componentDidCatch=="function"&&(ur===null||!ur.has(p))){s=qi(u,s),u=Xy(2),p=rr(o,u,2),p!==null&&(Yy(u,p,o,s),fh(p,2),Ln(p));break}}o=o.return}}function Em(s,o,u){var p=s.pingCache;if(p===null){p=s.pingCache=new kA;var _=new Set;p.set(o,_)}else _=p.get(o),_===void 0&&(_=new Set,p.set(o,_));_.has(u)||(um=!0,_.add(u),s=NA.bind(null,s,o,u),o.then(s,s))}function NA(s,o,u){var p=s.pingCache;p!==null&&p.delete(o),s.pingedLanes|=s.suspendedLanes&u,s.warmLanes&=~u,te===s&&(Ht&u)===u&&(de===4||de===3&&(Ht&62914560)===Ht&&300>se()-pm?(le&2)===0&&Ko(s,0):fm|=u,Wo===Ht&&(Wo=0)),Ln(s)}function qv(s,o){o===0&&(o=W0()),s=Qs(s,o),s!==null&&(fh(s,o),Ln(s))}function BA(s){var o=s.memoizedState,u=0;o!==null&&(u=o.retryLane),qv(s,u)}function VA(s,o){var u=0;switch(s.tag){case 13:var p=s.stateNode,_=s.memoizedState;_!==null&&(u=_.retryLane);break;case 19:p=s.stateNode;break;case 22:p=s.stateNode._retryCache;break;default:throw Error(n(314))}p!==null&&p.delete(o),qv(s,u)}function zA(s,o){return ri(s,o)}var Mf=null,Jo=null,xm=!1,Rf=!1,Sm=!1,ga=0;function Ln(s){s!==Jo&&s.next===null&&(Jo===null?Mf=Jo=s:Jo=Jo.next=s),Rf=!0,xm||(xm=!0,GA(HA))}function Wh(s,o){if(!Sm&&Rf){Sm=!0;do for(var u=!1,p=Mf;p!==null;){if(s!==0){var _=p.pendingLanes;if(_===0)var C=0;else{var I=p.suspendedLanes,j=p.pingedLanes;C=(1<<31-xi(42|s)+1)-1,C&=_&~(I&~j),C=C&201326677?C&201326677|1:C?C|2:0}C!==0&&(u=!0,Yv(p,C))}else C=Ht,C=Bu(p,p===te?C:0),(C&3)===0||uh(p,C)||(u=!0,Yv(p,C));p=p.next}while(u);Sm=!1}}function HA(){Rf=xm=!1;var s=0;ga!==0&&(KA()&&(s=ga),ga=0);for(var o=se(),u=null,p=Mf;p!==null;){var _=p.next,C=$v(p,o);C===0?(p.next=null,u===null?Mf=_:u.next=_,_===null&&(Jo=u)):(u=p,(s!==0||(C&3)!==0)&&(Rf=!0)),p=_}Wh(s)}function $v(s,o){for(var u=s.suspendedLanes,p=s.pingedLanes,_=s.expirationTimes,C=s.pendingLanes&-62914561;0<C;){var I=31-xi(C),j=1<<I,Y=_[I];Y===-1?((j&u)===0||(j&p)!==0)&&(_[I]=d_(j,o)):Y<=o&&(s.expiredLanes|=j),C&=~j}if(o=te,u=Ht,u=Bu(s,s===o?u:0),p=s.callbackNode,u===0||s===o&&ee===2||s.cancelPendingCommit!==null)return p!==null&&p!==null&&ae(p),s.callbackNode=null,s.callbackPriority=0;if((u&3)===0||uh(s,u)){if(o=u&-u,o===s.callbackPriority)return o;switch(p!==null&&ae(p),Z0(u)){case 2:case 8:u=He;break;case 32:u=di;break;case 268435456:u=cn;break;default:u=di}return p=Xv.bind(null,s),u=ri(u,p),s.callbackPriority=o,s.callbackNode=u,o}return p!==null&&p!==null&&ae(p),s.callbackPriority=2,s.callbackNode=null,2}function Xv(s,o){var u=s.callbackNode;if(Zo()&&s.callbackNode!==u)return null;var p=Ht;return p=Bu(s,s===te?p:0),p===0?null:(Lv(s,p,o),$v(s,se()),s.callbackNode!=null&&s.callbackNode===u?Xv.bind(null,s):null)}function Yv(s,o){if(Zo())return null;Lv(s,o,!0)}function GA(s){ZA(function(){(le&6)!==0?ri(Ke,s):s()})}function Tm(){return ga===0&&(ga=Y0()),ga}function Wv(s){return s==null||typeof s=="symbol"||typeof s=="boolean"?null:typeof s=="function"?s:Uu(""+s)}function Kv(s,o){var u=o.ownerDocument.createElement("input");return u.name=o.name,u.value=o.value,s.id&&u.setAttribute("form",s.id),o.parentNode.insertBefore(u,o),s=new FormData(s),u.parentNode.removeChild(u),s}function UA(s,o,u,p,_){if(o==="submit"&&u&&u.stateNode===_){var C=Wv((_[pi]||null).action),I=p.submitter;I&&(o=(o=I[pi]||null)?Wv(o.formAction):I.getAttribute("formAction"),o!==null&&(C=o,I=null));var j=new Xu("action","action",null,p,_);s.push({event:j,listeners:[{instance:null,listener:function(){if(p.defaultPrevented){if(ga!==0){var Y=I?Kv(_,I):new FormData(_);Dp(u,{pending:!0,data:Y,method:_.method,action:C},null,Y)}}else typeof C=="function"&&(j.preventDefault(),Y=I?Kv(_,I):new FormData(_),Dp(u,{pending:!0,data:Y,method:_.method,action:C},C,Y))},currentTarget:_}]})}}for(var wm=0;wm<Gg.length;wm++){var Cm=Gg[wm],jA=Cm.toLowerCase(),qA=Cm[0].toUpperCase()+Cm.slice(1);un(jA,"on"+qA)}un(Ng,"onAnimationEnd"),un(Bg,"onAnimationIteration"),un(Vg,"onAnimationStart"),un("dblclick","onDoubleClick"),un("focusin","onFocus"),un("focusout","onBlur"),un(lA,"onTransitionRun"),un(hA,"onTransitionStart"),un(cA,"onTransitionCancel"),un(zg,"onTransitionEnd"),wo("onMouseEnter",["mouseout","mouseover"]),wo("onMouseLeave",["mouseout","mouseover"]),wo("onPointerEnter",["pointerout","pointerover"]),wo("onPointerLeave",["pointerout","pointerover"]),Qr("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Qr("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Qr("onBeforeInput",["compositionend","keypress","textInput","paste"]),Qr("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Qr("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Qr("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Kh="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),$A=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Kh));function Qv(s,o){o=(o&4)!==0;for(var u=0;u<s.length;u++){var p=s[u],_=p.event;p=p.listeners;t:{var C=void 0;if(o)for(var I=p.length-1;0<=I;I--){var j=p[I],Y=j.instance,Z=j.currentTarget;if(j=j.listener,Y!==C&&_.isPropagationStopped())break t;C=j,_.currentTarget=Z;try{C(_)}catch(ut){gf(ut)}_.currentTarget=null,C=Y}else for(I=0;I<p.length;I++){if(j=p[I],Y=j.instance,Z=j.currentTarget,j=j.listener,Y!==C&&_.isPropagationStopped())break t;C=j,_.currentTarget=Z;try{C(_)}catch(ut){gf(ut)}_.currentTarget=null,C=Y}}}}function Bt(s,o){var u=o[zd];u===void 0&&(u=o[zd]=new Set);var p=s+"__bubble";u.has(p)||(Zv(o,s,2,!1),u.add(p))}function Pm(s,o,u){var p=0;o&&(p|=4),Zv(u,s,p,o)}var kf="_reactListening"+Math.random().toString(36).slice(2);function Mm(s){if(!s[kf]){s[kf]=!0,eg.forEach(function(u){u!=="selectionchange"&&($A.has(u)||Pm(u,!1,s),Pm(u,!0,s))});var o=s.nodeType===9?s:s.ownerDocument;o===null||o[kf]||(o[kf]=!0,Pm("selectionchange",!1,o))}}function Zv(s,o,u,p){switch(E1(o)){case 2:var _=vE;break;case 8:_=bE;break;default:_=Gm}u=_.bind(null,o,u,s),_=void 0,!Yd||o!=="touchstart"&&o!=="touchmove"&&o!=="wheel"||(_=!0),p?_!==void 0?s.addEventListener(o,u,{capture:!0,passive:_}):s.addEventListener(o,u,!0):_!==void 0?s.addEventListener(o,u,{passive:_}):s.addEventListener(o,u,!1)}function Rm(s,o,u,p,_){var C=p;if((o&1)===0&&(o&2)===0&&p!==null)t:for(;;){if(p===null)return;var I=p.tag;if(I===3||I===4){var j=p.stateNode.containerInfo;if(j===_||j.nodeType===8&&j.parentNode===_)break;if(I===4)for(I=p.return;I!==null;){var Y=I.tag;if((Y===3||Y===4)&&(Y=I.stateNode.containerInfo,Y===_||Y.nodeType===8&&Y.parentNode===_))return;I=I.return}for(;j!==null;){if(I=Kr(j),I===null)return;if(Y=I.tag,Y===5||Y===6||Y===26||Y===27){p=C=I;continue t}j=j.parentNode}}p=p.return}dg(function(){var Z=C,ut=$d(u),dt=[];t:{var ot=Hg.get(s);if(ot!==void 0){var ct=Xu,St=s;switch(s){case"keypress":if(qu(u)===0)break t;case"keydown":case"keyup":ct=V_;break;case"focusin":St="focus",ct=Zd;break;case"focusout":St="blur",ct=Zd;break;case"beforeblur":case"afterblur":ct=Zd;break;case"click":if(u.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ct=gg;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ct=C_;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ct=G_;break;case Ng:case Bg:case Vg:ct=R_;break;case zg:ct=j_;break;case"scroll":case"scrollend":ct=T_;break;case"wheel":ct=$_;break;case"copy":case"cut":case"paste":ct=F_;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ct=vg;break;case"toggle":case"beforetoggle":ct=Y_}var Rt=(o&4)!==0,pe=!Rt&&(s==="scroll"||s==="scrollend"),nt=Rt?ot!==null?ot+"Capture":null:ot;Rt=[];for(var K=Z,at;K!==null;){var ft=K;if(at=ft.stateNode,ft=ft.tag,ft!==5&&ft!==26&&ft!==27||at===null||nt===null||(ft=mh(K,nt),ft!=null&&Rt.push(Qh(K,ft,at))),pe)break;K=K.return}0<Rt.length&&(ot=new ct(ot,St,null,u,ut),dt.push({event:ot,listeners:Rt}))}}if((o&7)===0){t:{if(ot=s==="mouseover"||s==="pointerover",ct=s==="mouseout"||s==="pointerout",ot&&u!==qd&&(St=u.relatedTarget||u.fromElement)&&(Kr(St)||St[xo]))break t;if((ct||ot)&&(ot=ut.window===ut?ut:(ot=ut.ownerDocument)?ot.defaultView||ot.parentWindow:window,ct?(St=u.relatedTarget||u.toElement,ct=Z,St=St?Kr(St):null,St!==null&&(pe=F(St),Rt=St.tag,St!==pe||Rt!==5&&Rt!==27&&Rt!==6)&&(St=null)):(ct=null,St=Z),ct!==St)){if(Rt=gg,ft="onMouseLeave",nt="onMouseEnter",K="mouse",(s==="pointerout"||s==="pointerover")&&(Rt=vg,ft="onPointerLeave",nt="onPointerEnter",K="pointer"),pe=ct==null?ot:ph(ct),at=St==null?ot:ph(St),ot=new Rt(ft,K+"leave",ct,u,ut),ot.target=pe,ot.relatedTarget=at,ft=null,Kr(ut)===Z&&(Rt=new Rt(nt,K+"enter",St,u,ut),Rt.target=at,Rt.relatedTarget=pe,ft=Rt),pe=ft,ct&&St)e:{for(Rt=ct,nt=St,K=0,at=Rt;at;at=tl(at))K++;for(at=0,ft=nt;ft;ft=tl(ft))at++;for(;0<K-at;)Rt=tl(Rt),K--;for(;0<at-K;)nt=tl(nt),at--;for(;K--;){if(Rt===nt||nt!==null&&Rt===nt.alternate)break e;Rt=tl(Rt),nt=tl(nt)}Rt=null}else Rt=null;ct!==null&&Jv(dt,ot,ct,Rt,!1),St!==null&&pe!==null&&Jv(dt,pe,St,Rt,!0)}}t:{if(ot=Z?ph(Z):window,ct=ot.nodeName&&ot.nodeName.toLowerCase(),ct==="select"||ct==="input"&&ot.type==="file")var xt=wg;else if(Sg(ot))if(Cg)xt=sA;else{xt=iA;var Lt=eA}else ct=ot.nodeName,!ct||ct.toLowerCase()!=="input"||ot.type!=="checkbox"&&ot.type!=="radio"?Z&&jd(Z.elementType)&&(xt=wg):xt=nA;if(xt&&(xt=xt(s,Z))){Tg(dt,xt,u,ut);break t}Lt&&Lt(s,ot,Z),s==="focusout"&&Z&&ot.type==="number"&&Z.memoizedProps.value!=null&&Ud(ot,"number",ot.value)}switch(Lt=Z?ph(Z):window,s){case"focusin":(Sg(Lt)||Lt.contentEditable==="true")&&(Fo=Lt,rp=Z,xh=null);break;case"focusout":xh=rp=Fo=null;break;case"mousedown":ap=!0;break;case"contextmenu":case"mouseup":case"dragend":ap=!1,Ig(dt,u,ut);break;case"selectionchange":if(oA)break;case"keydown":case"keyup":Ig(dt,u,ut)}var Tt;if(tp)t:{switch(s){case"compositionstart":var Pt="onCompositionStart";break t;case"compositionend":Pt="onCompositionEnd";break t;case"compositionupdate":Pt="onCompositionUpdate";break t}Pt=void 0}else ko?Eg(s,u)&&(Pt="onCompositionEnd"):s==="keydown"&&u.keyCode===229&&(Pt="onCompositionStart");Pt&&(bg&&u.locale!=="ko"&&(ko||Pt!=="onCompositionStart"?Pt==="onCompositionEnd"&&ko&&(Tt=pg()):(Ks=ut,Wd="value"in Ks?Ks.value:Ks.textContent,ko=!0)),Lt=Ff(Z,Pt),0<Lt.length&&(Pt=new yg(Pt,s,null,u,ut),dt.push({event:Pt,listeners:Lt}),Tt?Pt.data=Tt:(Tt=xg(u),Tt!==null&&(Pt.data=Tt)))),(Tt=K_?Q_(s,u):Z_(s,u))&&(Pt=Ff(Z,"onBeforeInput"),0<Pt.length&&(Lt=new yg("onBeforeInput","beforeinput",null,u,ut),dt.push({event:Lt,listeners:Pt}),Lt.data=Tt)),UA(dt,s,Z,u,ut)}Qv(dt,o)})}function Qh(s,o,u){return{instance:s,listener:o,currentTarget:u}}function Ff(s,o){for(var u=o+"Capture",p=[];s!==null;){var _=s,C=_.stateNode;_=_.tag,_!==5&&_!==26&&_!==27||C===null||(_=mh(s,u),_!=null&&p.unshift(Qh(s,_,C)),_=mh(s,o),_!=null&&p.push(Qh(s,_,C))),s=s.return}return p}function tl(s){if(s===null)return null;do s=s.return;while(s&&s.tag!==5&&s.tag!==27);return s||null}function Jv(s,o,u,p,_){for(var C=o._reactName,I=[];u!==null&&u!==p;){var j=u,Y=j.alternate,Z=j.stateNode;if(j=j.tag,Y!==null&&Y===p)break;j!==5&&j!==26&&j!==27||Z===null||(Y=Z,_?(Z=mh(u,C),Z!=null&&I.unshift(Qh(u,Z,Y))):_||(Z=mh(u,C),Z!=null&&I.push(Qh(u,Z,Y)))),u=u.return}I.length!==0&&s.push({event:o,listeners:I})}var XA=/\r\n?/g,YA=/\u0000|\uFFFD/g;function t1(s){return(typeof s=="string"?s:""+s).replace(XA,`
`).replace(YA,"")}function e1(s,o){return o=t1(o),t1(s)===o}function Df(){}function Kt(s,o,u,p,_,C){switch(u){case"children":typeof p=="string"?o==="body"||o==="textarea"&&p===""||Po(s,p):(typeof p=="number"||typeof p=="bigint")&&o!=="body"&&Po(s,""+p);break;case"className":zu(s,"class",p);break;case"tabIndex":zu(s,"tabindex",p);break;case"dir":case"role":case"viewBox":case"width":case"height":zu(s,u,p);break;case"style":ug(s,p,C);break;case"data":if(o!=="object"){zu(s,"data",p);break}case"src":case"href":if(p===""&&(o!=="a"||u!=="href")){s.removeAttribute(u);break}if(p==null||typeof p=="function"||typeof p=="symbol"||typeof p=="boolean"){s.removeAttribute(u);break}p=Uu(""+p),s.setAttribute(u,p);break;case"action":case"formAction":if(typeof p=="function"){s.setAttribute(u,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof C=="function"&&(u==="formAction"?(o!=="input"&&Kt(s,o,"name",_.name,_,null),Kt(s,o,"formEncType",_.formEncType,_,null),Kt(s,o,"formMethod",_.formMethod,_,null),Kt(s,o,"formTarget",_.formTarget,_,null)):(Kt(s,o,"encType",_.encType,_,null),Kt(s,o,"method",_.method,_,null),Kt(s,o,"target",_.target,_,null)));if(p==null||typeof p=="symbol"||typeof p=="boolean"){s.removeAttribute(u);break}p=Uu(""+p),s.setAttribute(u,p);break;case"onClick":p!=null&&(s.onclick=Df);break;case"onScroll":p!=null&&Bt("scroll",s);break;case"onScrollEnd":p!=null&&Bt("scrollend",s);break;case"dangerouslySetInnerHTML":if(p!=null){if(typeof p!="object"||!("__html"in p))throw Error(n(61));if(u=p.__html,u!=null){if(_.children!=null)throw Error(n(60));s.innerHTML=u}}break;case"multiple":s.multiple=p&&typeof p!="function"&&typeof p!="symbol";break;case"muted":s.muted=p&&typeof p!="function"&&typeof p!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(p==null||typeof p=="function"||typeof p=="boolean"||typeof p=="symbol"){s.removeAttribute("xlink:href");break}u=Uu(""+p),s.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",u);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":p!=null&&typeof p!="function"&&typeof p!="symbol"?s.setAttribute(u,""+p):s.removeAttribute(u);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":p&&typeof p!="function"&&typeof p!="symbol"?s.setAttribute(u,""):s.removeAttribute(u);break;case"capture":case"download":p===!0?s.setAttribute(u,""):p!==!1&&p!=null&&typeof p!="function"&&typeof p!="symbol"?s.setAttribute(u,p):s.removeAttribute(u);break;case"cols":case"rows":case"size":case"span":p!=null&&typeof p!="function"&&typeof p!="symbol"&&!isNaN(p)&&1<=p?s.setAttribute(u,p):s.removeAttribute(u);break;case"rowSpan":case"start":p==null||typeof p=="function"||typeof p=="symbol"||isNaN(p)?s.removeAttribute(u):s.setAttribute(u,p);break;case"popover":Bt("beforetoggle",s),Bt("toggle",s),Vu(s,"popover",p);break;case"xlinkActuate":es(s,"http://www.w3.org/1999/xlink","xlink:actuate",p);break;case"xlinkArcrole":es(s,"http://www.w3.org/1999/xlink","xlink:arcrole",p);break;case"xlinkRole":es(s,"http://www.w3.org/1999/xlink","xlink:role",p);break;case"xlinkShow":es(s,"http://www.w3.org/1999/xlink","xlink:show",p);break;case"xlinkTitle":es(s,"http://www.w3.org/1999/xlink","xlink:title",p);break;case"xlinkType":es(s,"http://www.w3.org/1999/xlink","xlink:type",p);break;case"xmlBase":es(s,"http://www.w3.org/XML/1998/namespace","xml:base",p);break;case"xmlLang":es(s,"http://www.w3.org/XML/1998/namespace","xml:lang",p);break;case"xmlSpace":es(s,"http://www.w3.org/XML/1998/namespace","xml:space",p);break;case"is":Vu(s,"is",p);break;case"innerText":case"textContent":break;default:(!(2<u.length)||u[0]!=="o"&&u[0]!=="O"||u[1]!=="n"&&u[1]!=="N")&&(u=x_.get(u)||u,Vu(s,u,p))}}function km(s,o,u,p,_,C){switch(u){case"style":ug(s,p,C);break;case"dangerouslySetInnerHTML":if(p!=null){if(typeof p!="object"||!("__html"in p))throw Error(n(61));if(u=p.__html,u!=null){if(_.children!=null)throw Error(n(60));s.innerHTML=u}}break;case"children":typeof p=="string"?Po(s,p):(typeof p=="number"||typeof p=="bigint")&&Po(s,""+p);break;case"onScroll":p!=null&&Bt("scroll",s);break;case"onScrollEnd":p!=null&&Bt("scrollend",s);break;case"onClick":p!=null&&(s.onclick=Df);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!ig.hasOwnProperty(u))t:{if(u[0]==="o"&&u[1]==="n"&&(_=u.endsWith("Capture"),o=u.slice(2,_?u.length-7:void 0),C=s[pi]||null,C=C!=null?C[u]:null,typeof C=="function"&&s.removeEventListener(o,C,_),typeof p=="function")){typeof C!="function"&&C!==null&&(u in s?s[u]=null:s.hasAttribute(u)&&s.removeAttribute(u)),s.addEventListener(o,p,_);break t}u in s?s[u]=p:p===!0?s.setAttribute(u,""):Vu(s,u,p)}}}function je(s,o,u){switch(o){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Bt("error",s),Bt("load",s);var p=!1,_=!1,C;for(C in u)if(u.hasOwnProperty(C)){var I=u[C];if(I!=null)switch(C){case"src":p=!0;break;case"srcSet":_=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(n(137,o));default:Kt(s,o,C,I,u,null)}}_&&Kt(s,o,"srcSet",u.srcSet,u,null),p&&Kt(s,o,"src",u.src,u,null);return;case"input":Bt("invalid",s);var j=C=I=_=null,Y=null,Z=null;for(p in u)if(u.hasOwnProperty(p)){var ut=u[p];if(ut!=null)switch(p){case"name":_=ut;break;case"type":I=ut;break;case"checked":Y=ut;break;case"defaultChecked":Z=ut;break;case"value":C=ut;break;case"defaultValue":j=ut;break;case"children":case"dangerouslySetInnerHTML":if(ut!=null)throw Error(n(137,o));break;default:Kt(s,o,p,ut,u,null)}}og(s,C,j,Y,Z,I,_,!1),Hu(s);return;case"select":Bt("invalid",s),p=I=C=null;for(_ in u)if(u.hasOwnProperty(_)&&(j=u[_],j!=null))switch(_){case"value":C=j;break;case"defaultValue":I=j;break;case"multiple":p=j;default:Kt(s,o,_,j,u,null)}o=C,u=I,s.multiple=!!p,o!=null?Co(s,!!p,o,!1):u!=null&&Co(s,!!p,u,!0);return;case"textarea":Bt("invalid",s),C=_=p=null;for(I in u)if(u.hasOwnProperty(I)&&(j=u[I],j!=null))switch(I){case"value":p=j;break;case"defaultValue":_=j;break;case"children":C=j;break;case"dangerouslySetInnerHTML":if(j!=null)throw Error(n(91));break;default:Kt(s,o,I,j,u,null)}hg(s,p,_,C),Hu(s);return;case"option":for(Y in u)if(u.hasOwnProperty(Y)&&(p=u[Y],p!=null))switch(Y){case"selected":s.selected=p&&typeof p!="function"&&typeof p!="symbol";break;default:Kt(s,o,Y,p,u,null)}return;case"dialog":Bt("cancel",s),Bt("close",s);break;case"iframe":case"object":Bt("load",s);break;case"video":case"audio":for(p=0;p<Kh.length;p++)Bt(Kh[p],s);break;case"image":Bt("error",s),Bt("load",s);break;case"details":Bt("toggle",s);break;case"embed":case"source":case"link":Bt("error",s),Bt("load",s);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(Z in u)if(u.hasOwnProperty(Z)&&(p=u[Z],p!=null))switch(Z){case"children":case"dangerouslySetInnerHTML":throw Error(n(137,o));default:Kt(s,o,Z,p,u,null)}return;default:if(jd(o)){for(ut in u)u.hasOwnProperty(ut)&&(p=u[ut],p!==void 0&&km(s,o,ut,p,u,void 0));return}}for(j in u)u.hasOwnProperty(j)&&(p=u[j],p!=null&&Kt(s,o,j,p,u,null))}function WA(s,o,u,p){switch(o){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var _=null,C=null,I=null,j=null,Y=null,Z=null,ut=null;for(ct in u){var dt=u[ct];if(u.hasOwnProperty(ct)&&dt!=null)switch(ct){case"checked":break;case"value":break;case"defaultValue":Y=dt;default:p.hasOwnProperty(ct)||Kt(s,o,ct,null,p,dt)}}for(var ot in p){var ct=p[ot];if(dt=u[ot],p.hasOwnProperty(ot)&&(ct!=null||dt!=null))switch(ot){case"type":C=ct;break;case"name":_=ct;break;case"checked":Z=ct;break;case"defaultChecked":ut=ct;break;case"value":I=ct;break;case"defaultValue":j=ct;break;case"children":case"dangerouslySetInnerHTML":if(ct!=null)throw Error(n(137,o));break;default:ct!==dt&&Kt(s,o,ot,ct,p,dt)}}Gd(s,I,j,Y,Z,ut,C,_);return;case"select":ct=I=j=ot=null;for(C in u)if(Y=u[C],u.hasOwnProperty(C)&&Y!=null)switch(C){case"value":break;case"multiple":ct=Y;default:p.hasOwnProperty(C)||Kt(s,o,C,null,p,Y)}for(_ in p)if(C=p[_],Y=u[_],p.hasOwnProperty(_)&&(C!=null||Y!=null))switch(_){case"value":ot=C;break;case"defaultValue":j=C;break;case"multiple":I=C;default:C!==Y&&Kt(s,o,_,C,p,Y)}o=j,u=I,p=ct,ot!=null?Co(s,!!u,ot,!1):!!p!=!!u&&(o!=null?Co(s,!!u,o,!0):Co(s,!!u,u?[]:"",!1));return;case"textarea":ct=ot=null;for(j in u)if(_=u[j],u.hasOwnProperty(j)&&_!=null&&!p.hasOwnProperty(j))switch(j){case"value":break;case"children":break;default:Kt(s,o,j,null,p,_)}for(I in p)if(_=p[I],C=u[I],p.hasOwnProperty(I)&&(_!=null||C!=null))switch(I){case"value":ot=_;break;case"defaultValue":ct=_;break;case"children":break;case"dangerouslySetInnerHTML":if(_!=null)throw Error(n(91));break;default:_!==C&&Kt(s,o,I,_,p,C)}lg(s,ot,ct);return;case"option":for(var St in u)if(ot=u[St],u.hasOwnProperty(St)&&ot!=null&&!p.hasOwnProperty(St))switch(St){case"selected":s.selected=!1;break;default:Kt(s,o,St,null,p,ot)}for(Y in p)if(ot=p[Y],ct=u[Y],p.hasOwnProperty(Y)&&ot!==ct&&(ot!=null||ct!=null))switch(Y){case"selected":s.selected=ot&&typeof ot!="function"&&typeof ot!="symbol";break;default:Kt(s,o,Y,ot,p,ct)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Rt in u)ot=u[Rt],u.hasOwnProperty(Rt)&&ot!=null&&!p.hasOwnProperty(Rt)&&Kt(s,o,Rt,null,p,ot);for(Z in p)if(ot=p[Z],ct=u[Z],p.hasOwnProperty(Z)&&ot!==ct&&(ot!=null||ct!=null))switch(Z){case"children":case"dangerouslySetInnerHTML":if(ot!=null)throw Error(n(137,o));break;default:Kt(s,o,Z,ot,p,ct)}return;default:if(jd(o)){for(var pe in u)ot=u[pe],u.hasOwnProperty(pe)&&ot!==void 0&&!p.hasOwnProperty(pe)&&km(s,o,pe,void 0,p,ot);for(ut in p)ot=p[ut],ct=u[ut],!p.hasOwnProperty(ut)||ot===ct||ot===void 0&&ct===void 0||km(s,o,ut,ot,p,ct);return}}for(var nt in u)ot=u[nt],u.hasOwnProperty(nt)&&ot!=null&&!p.hasOwnProperty(nt)&&Kt(s,o,nt,null,p,ot);for(dt in p)ot=p[dt],ct=u[dt],!p.hasOwnProperty(dt)||ot===ct||ot==null&&ct==null||Kt(s,o,dt,ot,p,ct)}var Fm=null,Dm=null;function Lf(s){return s.nodeType===9?s:s.ownerDocument}function i1(s){switch(s){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function n1(s,o){if(s===0)switch(o){case"svg":return 1;case"math":return 2;default:return 0}return s===1&&o==="foreignObject"?0:s}function Lm(s,o){return s==="textarea"||s==="noscript"||typeof o.children=="string"||typeof o.children=="number"||typeof o.children=="bigint"||typeof o.dangerouslySetInnerHTML=="object"&&o.dangerouslySetInnerHTML!==null&&o.dangerouslySetInnerHTML.__html!=null}var Im=null;function KA(){var s=window.event;return s&&s.type==="popstate"?s===Im?!1:(Im=s,!0):(Im=null,!1)}var s1=typeof setTimeout=="function"?setTimeout:void 0,QA=typeof clearTimeout=="function"?clearTimeout:void 0,r1=typeof Promise=="function"?Promise:void 0,ZA=typeof queueMicrotask=="function"?queueMicrotask:typeof r1<"u"?function(s){return r1.resolve(null).then(s).catch(JA)}:s1;function JA(s){setTimeout(function(){throw s})}function Om(s,o){var u=o,p=0;do{var _=u.nextSibling;if(s.removeChild(u),_&&_.nodeType===8)if(u=_.data,u==="/$"){if(p===0){s.removeChild(_),rc(o);return}p--}else u!=="$"&&u!=="$?"&&u!=="$!"||p++;u=_}while(u);rc(o)}function Nm(s){var o=s.firstChild;for(o&&o.nodeType===10&&(o=o.nextSibling);o;){var u=o;switch(o=o.nextSibling,u.nodeName){case"HTML":case"HEAD":case"BODY":Nm(u),Hd(u);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(u.rel.toLowerCase()==="stylesheet")continue}s.removeChild(u)}}function tE(s,o,u,p){for(;s.nodeType===1;){var _=u;if(s.nodeName.toLowerCase()!==o.toLowerCase()){if(!p&&(s.nodeName!=="INPUT"||s.type!=="hidden"))break}else if(p){if(!s[dh])switch(o){case"meta":if(!s.hasAttribute("itemprop"))break;return s;case"link":if(C=s.getAttribute("rel"),C==="stylesheet"&&s.hasAttribute("data-precedence"))break;if(C!==_.rel||s.getAttribute("href")!==(_.href==null?null:_.href)||s.getAttribute("crossorigin")!==(_.crossOrigin==null?null:_.crossOrigin)||s.getAttribute("title")!==(_.title==null?null:_.title))break;return s;case"style":if(s.hasAttribute("data-precedence"))break;return s;case"script":if(C=s.getAttribute("src"),(C!==(_.src==null?null:_.src)||s.getAttribute("type")!==(_.type==null?null:_.type)||s.getAttribute("crossorigin")!==(_.crossOrigin==null?null:_.crossOrigin))&&C&&s.hasAttribute("async")&&!s.hasAttribute("itemprop"))break;return s;default:return s}}else if(o==="input"&&s.type==="hidden"){var C=_.name==null?null:""+_.name;if(_.type==="hidden"&&s.getAttribute("name")===C)return s}else return s;if(s=pn(s.nextSibling),s===null)break}return null}function eE(s,o,u){if(o==="")return null;for(;s.nodeType!==3;)if((s.nodeType!==1||s.nodeName!=="INPUT"||s.type!=="hidden")&&!u||(s=pn(s.nextSibling),s===null))return null;return s}function pn(s){for(;s!=null;s=s.nextSibling){var o=s.nodeType;if(o===1||o===3)break;if(o===8){if(o=s.data,o==="$"||o==="$!"||o==="$?"||o==="F!"||o==="F")break;if(o==="/$")return null}}return s}function a1(s){s=s.previousSibling;for(var o=0;s;){if(s.nodeType===8){var u=s.data;if(u==="$"||u==="$!"||u==="$?"){if(o===0)return s;o--}else u==="/$"&&o++}s=s.previousSibling}return null}function o1(s,o,u){switch(o=Lf(u),s){case"html":if(s=o.documentElement,!s)throw Error(n(452));return s;case"head":if(s=o.head,!s)throw Error(n(453));return s;case"body":if(s=o.body,!s)throw Error(n(454));return s;default:throw Error(n(451))}}var Ji=new Map,l1=new Set;function If(s){return typeof s.getRootNode=="function"?s.getRootNode():s.ownerDocument}var ys=rt.d;rt.d={f:iE,r:nE,D:sE,C:rE,L:aE,m:oE,X:hE,S:lE,M:cE};function iE(){var s=ys.f(),o=Cf();return s||o}function nE(s){var o=So(s);o!==null&&o.tag===5&&o.type==="form"?Iy(o):ys.r(s)}var el=typeof document>"u"?null:document;function h1(s,o,u){var p=el;if(p&&typeof o=="string"&&o){var _=Ui(o);_='link[rel="'+s+'"][href="'+_+'"]',typeof u=="string"&&(_+='[crossorigin="'+u+'"]'),l1.has(_)||(l1.add(_),s={rel:s,crossOrigin:u,href:o},p.querySelector(_)===null&&(o=p.createElement("link"),je(o,"link",s),Fe(o),p.head.appendChild(o)))}}function sE(s){ys.D(s),h1("dns-prefetch",s,null)}function rE(s,o){ys.C(s,o),h1("preconnect",s,o)}function aE(s,o,u){ys.L(s,o,u);var p=el;if(p&&s&&o){var _='link[rel="preload"][as="'+Ui(o)+'"]';o==="image"&&u&&u.imageSrcSet?(_+='[imagesrcset="'+Ui(u.imageSrcSet)+'"]',typeof u.imageSizes=="string"&&(_+='[imagesizes="'+Ui(u.imageSizes)+'"]')):_+='[href="'+Ui(s)+'"]';var C=_;switch(o){case"style":C=il(s);break;case"script":C=nl(s)}Ji.has(C)||(s=J({rel:"preload",href:o==="image"&&u&&u.imageSrcSet?void 0:s,as:o},u),Ji.set(C,s),p.querySelector(_)!==null||o==="style"&&p.querySelector(Zh(C))||o==="script"&&p.querySelector(Jh(C))||(o=p.createElement("link"),je(o,"link",s),Fe(o),p.head.appendChild(o)))}}function oE(s,o){ys.m(s,o);var u=el;if(u&&s){var p=o&&typeof o.as=="string"?o.as:"script",_='link[rel="modulepreload"][as="'+Ui(p)+'"][href="'+Ui(s)+'"]',C=_;switch(p){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":C=nl(s)}if(!Ji.has(C)&&(s=J({rel:"modulepreload",href:s},o),Ji.set(C,s),u.querySelector(_)===null)){switch(p){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(u.querySelector(Jh(C)))return}p=u.createElement("link"),je(p,"link",s),Fe(p),u.head.appendChild(p)}}}function lE(s,o,u){ys.S(s,o,u);var p=el;if(p&&s){var _=To(p).hoistableStyles,C=il(s);o=o||"default";var I=_.get(C);if(!I){var j={loading:0,preload:null};if(I=p.querySelector(Zh(C)))j.loading=5;else{s=J({rel:"stylesheet",href:s,"data-precedence":o},u),(u=Ji.get(C))&&Bm(s,u);var Y=I=p.createElement("link");Fe(Y),je(Y,"link",s),Y._p=new Promise(function(Z,ut){Y.onload=Z,Y.onerror=ut}),Y.addEventListener("load",function(){j.loading|=1}),Y.addEventListener("error",function(){j.loading|=2}),j.loading|=4,Of(I,o,p)}I={type:"stylesheet",instance:I,count:1,state:j},_.set(C,I)}}}function hE(s,o){ys.X(s,o);var u=el;if(u&&s){var p=To(u).hoistableScripts,_=nl(s),C=p.get(_);C||(C=u.querySelector(Jh(_)),C||(s=J({src:s,async:!0},o),(o=Ji.get(_))&&Vm(s,o),C=u.createElement("script"),Fe(C),je(C,"link",s),u.head.appendChild(C)),C={type:"script",instance:C,count:1,state:null},p.set(_,C))}}function cE(s,o){ys.M(s,o);var u=el;if(u&&s){var p=To(u).hoistableScripts,_=nl(s),C=p.get(_);C||(C=u.querySelector(Jh(_)),C||(s=J({src:s,async:!0,type:"module"},o),(o=Ji.get(_))&&Vm(s,o),C=u.createElement("script"),Fe(C),je(C,"link",s),u.head.appendChild(C)),C={type:"script",instance:C,count:1,state:null},p.set(_,C))}}function u1(s,o,u,p){var _=(_=Et.current)?If(_):null;if(!_)throw Error(n(446));switch(s){case"meta":case"title":return null;case"style":return typeof u.precedence=="string"&&typeof u.href=="string"?(o=il(u.href),u=To(_).hoistableStyles,p=u.get(o),p||(p={type:"style",instance:null,count:0,state:null},u.set(o,p)),p):{type:"void",instance:null,count:0,state:null};case"link":if(u.rel==="stylesheet"&&typeof u.href=="string"&&typeof u.precedence=="string"){s=il(u.href);var C=To(_).hoistableStyles,I=C.get(s);if(I||(_=_.ownerDocument||_,I={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},C.set(s,I),(C=_.querySelector(Zh(s)))&&!C._p&&(I.instance=C,I.state.loading=5),Ji.has(s)||(u={rel:"preload",as:"style",href:u.href,crossOrigin:u.crossOrigin,integrity:u.integrity,media:u.media,hrefLang:u.hrefLang,referrerPolicy:u.referrerPolicy},Ji.set(s,u),C||uE(_,s,u,I.state))),o&&p===null)throw Error(n(528,""));return I}if(o&&p!==null)throw Error(n(529,""));return null;case"script":return o=u.async,u=u.src,typeof u=="string"&&o&&typeof o!="function"&&typeof o!="symbol"?(o=nl(u),u=To(_).hoistableScripts,p=u.get(o),p||(p={type:"script",instance:null,count:0,state:null},u.set(o,p)),p):{type:"void",instance:null,count:0,state:null};default:throw Error(n(444,s))}}function il(s){return'href="'+Ui(s)+'"'}function Zh(s){return'link[rel="stylesheet"]['+s+"]"}function f1(s){return J({},s,{"data-precedence":s.precedence,precedence:null})}function uE(s,o,u,p){s.querySelector('link[rel="preload"][as="style"]['+o+"]")?p.loading=1:(o=s.createElement("link"),p.preload=o,o.addEventListener("load",function(){return p.loading|=1}),o.addEventListener("error",function(){return p.loading|=2}),je(o,"link",u),Fe(o),s.head.appendChild(o))}function nl(s){return'[src="'+Ui(s)+'"]'}function Jh(s){return"script[async]"+s}function d1(s,o,u){if(o.count++,o.instance===null)switch(o.type){case"style":var p=s.querySelector('style[data-href~="'+Ui(u.href)+'"]');if(p)return o.instance=p,Fe(p),p;var _=J({},u,{"data-href":u.href,"data-precedence":u.precedence,href:null,precedence:null});return p=(s.ownerDocument||s).createElement("style"),Fe(p),je(p,"style",_),Of(p,u.precedence,s),o.instance=p;case"stylesheet":_=il(u.href);var C=s.querySelector(Zh(_));if(C)return o.state.loading|=4,o.instance=C,Fe(C),C;p=f1(u),(_=Ji.get(_))&&Bm(p,_),C=(s.ownerDocument||s).createElement("link"),Fe(C);var I=C;return I._p=new Promise(function(j,Y){I.onload=j,I.onerror=Y}),je(C,"link",p),o.state.loading|=4,Of(C,u.precedence,s),o.instance=C;case"script":return C=nl(u.src),(_=s.querySelector(Jh(C)))?(o.instance=_,Fe(_),_):(p=u,(_=Ji.get(C))&&(p=J({},u),Vm(p,_)),s=s.ownerDocument||s,_=s.createElement("script"),Fe(_),je(_,"link",p),s.head.appendChild(_),o.instance=_);case"void":return null;default:throw Error(n(443,o.type))}else o.type==="stylesheet"&&(o.state.loading&4)===0&&(p=o.instance,o.state.loading|=4,Of(p,u.precedence,s));return o.instance}function Of(s,o,u){for(var p=u.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),_=p.length?p[p.length-1]:null,C=_,I=0;I<p.length;I++){var j=p[I];if(j.dataset.precedence===o)C=j;else if(C!==_)break}C?C.parentNode.insertBefore(s,C.nextSibling):(o=u.nodeType===9?u.head:u,o.insertBefore(s,o.firstChild))}function Bm(s,o){s.crossOrigin==null&&(s.crossOrigin=o.crossOrigin),s.referrerPolicy==null&&(s.referrerPolicy=o.referrerPolicy),s.title==null&&(s.title=o.title)}function Vm(s,o){s.crossOrigin==null&&(s.crossOrigin=o.crossOrigin),s.referrerPolicy==null&&(s.referrerPolicy=o.referrerPolicy),s.integrity==null&&(s.integrity=o.integrity)}var Nf=null;function p1(s,o,u){if(Nf===null){var p=new Map,_=Nf=new Map;_.set(u,p)}else _=Nf,p=_.get(u),p||(p=new Map,_.set(u,p));if(p.has(s))return p;for(p.set(s,null),u=u.getElementsByTagName(s),_=0;_<u.length;_++){var C=u[_];if(!(C[dh]||C[Qe]||s==="link"&&C.getAttribute("rel")==="stylesheet")&&C.namespaceURI!=="http://www.w3.org/2000/svg"){var I=C.getAttribute(o)||"";I=s+I;var j=p.get(I);j?j.push(C):p.set(I,[C])}}return p}function m1(s,o,u){s=s.ownerDocument||s,s.head.insertBefore(u,o==="title"?s.querySelector("head > title"):null)}function fE(s,o,u){if(u===1||o.itemProp!=null)return!1;switch(s){case"meta":case"title":return!0;case"style":if(typeof o.precedence!="string"||typeof o.href!="string"||o.href==="")break;return!0;case"link":if(typeof o.rel!="string"||typeof o.href!="string"||o.href===""||o.onLoad||o.onError)break;switch(o.rel){case"stylesheet":return s=o.disabled,typeof o.precedence=="string"&&s==null;default:return!0}case"script":if(o.async&&typeof o.async!="function"&&typeof o.async!="symbol"&&!o.onLoad&&!o.onError&&o.src&&typeof o.src=="string")return!0}return!1}function g1(s){return!(s.type==="stylesheet"&&(s.state.loading&3)===0)}var tc=null;function dE(){}function pE(s,o,u){if(tc===null)throw Error(n(475));var p=tc;if(o.type==="stylesheet"&&(typeof u.media!="string"||matchMedia(u.media).matches!==!1)&&(o.state.loading&4)===0){if(o.instance===null){var _=il(u.href),C=s.querySelector(Zh(_));if(C){s=C._p,s!==null&&typeof s=="object"&&typeof s.then=="function"&&(p.count++,p=Bf.bind(p),s.then(p,p)),o.state.loading|=4,o.instance=C,Fe(C);return}C=s.ownerDocument||s,u=f1(u),(_=Ji.get(_))&&Bm(u,_),C=C.createElement("link"),Fe(C);var I=C;I._p=new Promise(function(j,Y){I.onload=j,I.onerror=Y}),je(C,"link",u),o.instance=C}p.stylesheets===null&&(p.stylesheets=new Map),p.stylesheets.set(o,s),(s=o.state.preload)&&(o.state.loading&3)===0&&(p.count++,o=Bf.bind(p),s.addEventListener("load",o),s.addEventListener("error",o))}}function mE(){if(tc===null)throw Error(n(475));var s=tc;return s.stylesheets&&s.count===0&&zm(s,s.stylesheets),0<s.count?function(o){var u=setTimeout(function(){if(s.stylesheets&&zm(s,s.stylesheets),s.unsuspend){var p=s.unsuspend;s.unsuspend=null,p()}},6e4);return s.unsuspend=o,function(){s.unsuspend=null,clearTimeout(u)}}:null}function Bf(){if(this.count--,this.count===0){if(this.stylesheets)zm(this,this.stylesheets);else if(this.unsuspend){var s=this.unsuspend;this.unsuspend=null,s()}}}var Vf=null;function zm(s,o){s.stylesheets=null,s.unsuspend!==null&&(s.count++,Vf=new Map,o.forEach(gE,s),Vf=null,Bf.call(s))}function gE(s,o){if(!(o.state.loading&4)){var u=Vf.get(s);if(u)var p=u.get(null);else{u=new Map,Vf.set(s,u);for(var _=s.querySelectorAll("link[data-precedence],style[data-precedence]"),C=0;C<_.length;C++){var I=_[C];(I.nodeName==="LINK"||I.getAttribute("media")!=="not all")&&(u.set(I.dataset.precedence,I),p=I)}p&&u.set(null,p)}_=o.instance,I=_.getAttribute("data-precedence"),C=u.get(I)||p,C===p&&u.set(null,_),u.set(I,_),this.count++,p=Bf.bind(this),_.addEventListener("load",p),_.addEventListener("error",p),C?C.parentNode.insertBefore(_,C.nextSibling):(s=s.nodeType===9?s.head:s,s.insertBefore(_,s.firstChild)),o.state.loading|=4}}var ec={$$typeof:x,Provider:null,Consumer:null,_currentValue:pt,_currentValue2:pt,_threadCount:0};function yE(s,o,u,p,_,C,I,j){this.tag=1,this.containerInfo=s,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Vd(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.finishedLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Vd(0),this.hiddenUpdates=Vd(null),this.identifierPrefix=p,this.onUncaughtError=_,this.onCaughtError=C,this.onRecoverableError=I,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=j,this.incompleteTransitions=new Map}function y1(s,o,u,p,_,C,I,j,Y,Z,ut,dt){return s=new yE(s,o,u,I,j,Y,Z,dt),o=1,C===!0&&(o|=24),C=Qi(3,null,null,o),s.current=C,C.stateNode=s,o=yp(),o.refCount++,s.pooledCache=o,o.refCount++,C.memoizedState={element:p,isDehydrated:u,cache:o},Qp(C),s}function v1(s){return s?(s=Io,s):Io}function b1(s,o,u,p,_,C){_=v1(_),p.context===null?p.context=_:p.pendingContext=_,p=sr(o),p.payload={element:u},C=C===void 0?null:C,C!==null&&(p.callback=C),u=rr(s,p,o),u!==null&&(oi(u,s,o),Bh(u,s,o))}function _1(s,o){if(s=s.memoizedState,s!==null&&s.dehydrated!==null){var u=s.retryLane;s.retryLane=u!==0&&u<o?u:o}}function Hm(s,o){_1(s,o),(s=s.alternate)&&_1(s,o)}function A1(s){if(s.tag===13){var o=Qs(s,67108864);o!==null&&oi(o,s,67108864),Hm(s,67108864)}}var zf=!0;function vE(s,o,u,p){var _=X.T;X.T=null;var C=rt.p;try{rt.p=2,Gm(s,o,u,p)}finally{rt.p=C,X.T=_}}function bE(s,o,u,p){var _=X.T;X.T=null;var C=rt.p;try{rt.p=8,Gm(s,o,u,p)}finally{rt.p=C,X.T=_}}function Gm(s,o,u,p){if(zf){var _=Um(p);if(_===null)Rm(s,o,p,Hf,u),x1(s,p);else if(AE(_,s,o,u,p))p.stopPropagation();else if(x1(s,p),o&4&&-1<_E.indexOf(s)){for(;_!==null;){var C=So(_);if(C!==null)switch(C.tag){case 3:if(C=C.stateNode,C.current.memoizedState.isDehydrated){var I=Wr(C.pendingLanes);if(I!==0){var j=C;for(j.pendingLanes|=2,j.entangledLanes|=2;I;){var Y=1<<31-xi(I);j.entanglements[1]|=Y,I&=~Y}Ln(C),(le&6)===0&&(Sf=se()+500,Wh(0))}}break;case 13:j=Qs(C,2),j!==null&&oi(j,C,2),Cf(),Hm(C,2)}if(C=Um(p),C===null&&Rm(s,o,p,Hf,u),C===_)break;_=C}_!==null&&p.stopPropagation()}else Rm(s,o,p,null,u)}}function Um(s){return s=$d(s),jm(s)}var Hf=null;function jm(s){if(Hf=null,s=Kr(s),s!==null){var o=F(s);if(o===null)s=null;else{var u=o.tag;if(u===13){if(s=N(o),s!==null)return s;s=null}else if(u===3){if(o.stateNode.current.memoizedState.isDehydrated)return o.tag===3?o.stateNode.containerInfo:null;s=null}else o!==s&&(s=null)}}return Hf=s,null}function E1(s){switch(s){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Hi()){case Ke:return 2;case He:return 8;case di:case hn:return 32;case cn:return 268435456;default:return 32}default:return 32}}var qm=!1,dr=null,pr=null,mr=null,ic=new Map,nc=new Map,gr=[],_E="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function x1(s,o){switch(s){case"focusin":case"focusout":dr=null;break;case"dragenter":case"dragleave":pr=null;break;case"mouseover":case"mouseout":mr=null;break;case"pointerover":case"pointerout":ic.delete(o.pointerId);break;case"gotpointercapture":case"lostpointercapture":nc.delete(o.pointerId)}}function sc(s,o,u,p,_,C){return s===null||s.nativeEvent!==C?(s={blockedOn:o,domEventName:u,eventSystemFlags:p,nativeEvent:C,targetContainers:[_]},o!==null&&(o=So(o),o!==null&&A1(o)),s):(s.eventSystemFlags|=p,o=s.targetContainers,_!==null&&o.indexOf(_)===-1&&o.push(_),s)}function AE(s,o,u,p,_){switch(o){case"focusin":return dr=sc(dr,s,o,u,p,_),!0;case"dragenter":return pr=sc(pr,s,o,u,p,_),!0;case"mouseover":return mr=sc(mr,s,o,u,p,_),!0;case"pointerover":var C=_.pointerId;return ic.set(C,sc(ic.get(C)||null,s,o,u,p,_)),!0;case"gotpointercapture":return C=_.pointerId,nc.set(C,sc(nc.get(C)||null,s,o,u,p,_)),!0}return!1}function S1(s){var o=Kr(s.target);if(o!==null){var u=F(o);if(u!==null){if(o=u.tag,o===13){if(o=N(u),o!==null){s.blockedOn=o,m_(s.priority,function(){if(u.tag===13){var p=Pi(),_=Qs(u,p);_!==null&&oi(_,u,p),Hm(u,p)}});return}}else if(o===3&&u.stateNode.current.memoizedState.isDehydrated){s.blockedOn=u.tag===3?u.stateNode.containerInfo:null;return}}}s.blockedOn=null}function Gf(s){if(s.blockedOn!==null)return!1;for(var o=s.targetContainers;0<o.length;){var u=Um(s.nativeEvent);if(u===null){u=s.nativeEvent;var p=new u.constructor(u.type,u);qd=p,u.target.dispatchEvent(p),qd=null}else return o=So(u),o!==null&&A1(o),s.blockedOn=u,!1;o.shift()}return!0}function T1(s,o,u){Gf(s)&&u.delete(o)}function EE(){qm=!1,dr!==null&&Gf(dr)&&(dr=null),pr!==null&&Gf(pr)&&(pr=null),mr!==null&&Gf(mr)&&(mr=null),ic.forEach(T1),nc.forEach(T1)}function Uf(s,o){s.blockedOn===o&&(s.blockedOn=null,qm||(qm=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,EE)))}var jf=null;function w1(s){jf!==s&&(jf=s,i.unstable_scheduleCallback(i.unstable_NormalPriority,function(){jf===s&&(jf=null);for(var o=0;o<s.length;o+=3){var u=s[o],p=s[o+1],_=s[o+2];if(typeof p!="function"){if(jm(p||u)===null)continue;break}var C=So(u);C!==null&&(s.splice(o,3),o-=3,Dp(C,{pending:!0,data:_,method:u.method,action:p},p,_))}}))}function rc(s){function o(Y){return Uf(Y,s)}dr!==null&&Uf(dr,s),pr!==null&&Uf(pr,s),mr!==null&&Uf(mr,s),ic.forEach(o),nc.forEach(o);for(var u=0;u<gr.length;u++){var p=gr[u];p.blockedOn===s&&(p.blockedOn=null)}for(;0<gr.length&&(u=gr[0],u.blockedOn===null);)S1(u),u.blockedOn===null&&gr.shift();if(u=(s.ownerDocument||s).$$reactFormReplay,u!=null)for(p=0;p<u.length;p+=3){var _=u[p],C=u[p+1],I=_[pi]||null;if(typeof C=="function")I||w1(u);else if(I){var j=null;if(C&&C.hasAttribute("formAction")){if(_=C,I=C[pi]||null)j=I.formAction;else if(jm(_)!==null)continue}else j=I.action;typeof j=="function"?u[p+1]=j:(u.splice(p,3),p-=3),w1(u)}}}function $m(s){this._internalRoot=s}qf.prototype.render=$m.prototype.render=function(s){var o=this._internalRoot;if(o===null)throw Error(n(409));var u=o.current,p=Pi();b1(u,p,s,o,null,null)},qf.prototype.unmount=$m.prototype.unmount=function(){var s=this._internalRoot;if(s!==null){this._internalRoot=null;var o=s.containerInfo;s.tag===0&&Zo(),b1(s.current,2,null,s,null,null),Cf(),o[xo]=null}};function qf(s){this._internalRoot=s}qf.prototype.unstable_scheduleHydration=function(s){if(s){var o=J0();s={blockedOn:null,target:s,priority:o};for(var u=0;u<gr.length&&o!==0&&o<gr[u].priority;u++);gr.splice(u,0,s),u===0&&S1(s)}};var C1=t.version;if(C1!=="19.0.0")throw Error(n(527,C1,"19.0.0"));rt.findDOMNode=function(s){var o=s._reactInternals;if(o===void 0)throw typeof s.render=="function"?Error(n(188)):(s=Object.keys(s).join(","),Error(n(268,s)));return s=$(o),s=s!==null?Q(s):null,s=s===null?null:s.stateNode,s};var xE={bundleType:0,version:"19.0.0",rendererPackageName:"react-dom",currentDispatcherRef:X,findFiberByHostInstance:Kr,reconcilerVersion:"19.0.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var $f=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!$f.isDisabled&&$f.supportsFiber)try{ch=$f.inject(xE),Ei=$f}catch{}}return reactDomClient_production.createRoot=function(s,o){if(!a(s))throw Error(n(299));var u=!1,p="",_=Uy,C=jy,I=qy,j=null;return o!=null&&(o.unstable_strictMode===!0&&(u=!0),o.identifierPrefix!==void 0&&(p=o.identifierPrefix),o.onUncaughtError!==void 0&&(_=o.onUncaughtError),o.onCaughtError!==void 0&&(C=o.onCaughtError),o.onRecoverableError!==void 0&&(I=o.onRecoverableError),o.unstable_transitionCallbacks!==void 0&&(j=o.unstable_transitionCallbacks)),o=y1(s,1,!1,null,null,u,p,_,C,I,j,null),s[xo]=o.current,Mm(s.nodeType===8?s.parentNode:s),new $m(o)},reactDomClient_production.hydrateRoot=function(s,o,u){if(!a(s))throw Error(n(299));var p=!1,_="",C=Uy,I=jy,j=qy,Y=null,Z=null;return u!=null&&(u.unstable_strictMode===!0&&(p=!0),u.identifierPrefix!==void 0&&(_=u.identifierPrefix),u.onUncaughtError!==void 0&&(C=u.onUncaughtError),u.onCaughtError!==void 0&&(I=u.onCaughtError),u.onRecoverableError!==void 0&&(j=u.onRecoverableError),u.unstable_transitionCallbacks!==void 0&&(Y=u.unstable_transitionCallbacks),u.formState!==void 0&&(Z=u.formState)),o=y1(s,1,!0,o,u??null,p,_,C,I,j,Y,Z),o.context=v1(null),u=o.current,p=Pi(),_=sr(p),_.callback=null,rr(u,_,p),o.current.lanes=p,fh(o,p),Ln(o),s[xo]=o.current,Mm(s),new qf(o)},reactDomClient_production.version="19.0.0",reactDomClient_production}var hasRequiredClient;function requireClient(){if(hasRequiredClient)return client.exports;hasRequiredClient=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(t){console.error(t)}}return i(),client.exports=requireReactDomClient_production(),client.exports}var clientExports=requireClient();const ReactDOM=getDefaultExportFromCjs(clientExports),StartScreen=({onStart:i,participantCount:t})=>{const[e,n]=reactExports.useState(!1);return jsxRuntimeExports.jsxs("div",{className:"container",children:[jsxRuntimeExports.jsx("button",{className:"participant-count",onClick:()=>n(!e),children:e?`Participants: ${t}`:"..."}),jsxRuntimeExports.jsx("img",{className:"logo",alt:"logo",src:"/BeTheJudge/logo.svg"}),jsxRuntimeExports.jsx("h1",{children:"Be The Judge"}),jsxRuntimeExports.jsx("p",{children:"Teste deine Effizienz und dein Wissen über Verträge und digitale Identitätsprüfung und entdecke das Potenzial der KI."}),jsxRuntimeExports.jsx("button",{className:"start-next-restart",onClick:i,children:"Los"})]})};let updateQueue=makeQueue();const raf=i=>schedule(i,updateQueue);let writeQueue=makeQueue();raf.write=i=>schedule(i,writeQueue);let onStartQueue=makeQueue();raf.onStart=i=>schedule(i,onStartQueue);let onFrameQueue=makeQueue();raf.onFrame=i=>schedule(i,onFrameQueue);let onFinishQueue=makeQueue();raf.onFinish=i=>schedule(i,onFinishQueue);let timeouts=[];raf.setTimeout=(i,t)=>{let e=raf.now()+t,n=()=>{let l=timeouts.findIndex(c=>c.cancel==n);~l&&timeouts.splice(l,1),pendingCount-=~l?1:0},a={time:e,handler:i,cancel:n};return timeouts.splice(findTimeout(e),0,a),pendingCount+=1,start(),a};let findTimeout=i=>~(~timeouts.findIndex(t=>t.time>i)||~timeouts.length);raf.cancel=i=>{onStartQueue.delete(i),onFrameQueue.delete(i),onFinishQueue.delete(i),updateQueue.delete(i),writeQueue.delete(i)};raf.sync=i=>{sync=!0,raf.batchedUpdates(i),sync=!1};raf.throttle=i=>{let t;function e(){try{i(...t)}finally{t=null}}function n(...a){t=a,raf.onStart(e)}return n.handler=i,n.cancel=()=>{onStartQueue.delete(e),t=null},n};let nativeRaf=typeof window<"u"?window.requestAnimationFrame:()=>{};raf.use=i=>nativeRaf=i;raf.now=typeof performance<"u"?()=>performance.now():Date.now;raf.batchedUpdates=i=>i();raf.catch=console.error;raf.frameLoop="always";raf.advance=()=>{raf.frameLoop!=="demand"?console.warn("Cannot call the manual advancement of rafz whilst frameLoop is not set as demand"):update$1()};let ts=-1,pendingCount=0,sync=!1;function schedule(i,t){sync?(t.delete(i),i(0)):(t.add(i),start())}function start(){ts<0&&(ts=0,raf.frameLoop!=="demand"&&nativeRaf(loop))}function stop(){ts=-1}function loop(){~ts&&(nativeRaf(loop),raf.batchedUpdates(update$1))}function update$1(){let i=ts;ts=raf.now();let t=findTimeout(ts);if(t&&(eachSafely(timeouts.splice(0,t),e=>e.handler()),pendingCount-=t),!pendingCount){stop();return}onStartQueue.flush(),updateQueue.flush(i?Math.min(64,ts-i):16.667),onFrameQueue.flush(),writeQueue.flush(),onFinishQueue.flush()}function makeQueue(){let i=new Set,t=i;return{add(e){pendingCount+=t==i&&!i.has(e)?1:0,i.add(e)},delete(e){return pendingCount-=t==i&&i.has(e)?1:0,i.delete(e)},flush(e){t.size&&(i=new Set,pendingCount-=t.size,eachSafely(t,n=>n(e)&&i.add(n)),pendingCount+=i.size,t=i)}}}function eachSafely(i,t){i.forEach(e=>{try{t(e)}catch(n){raf.catch(n)}})}function noop(){}const defineHidden=(i,t,e)=>Object.defineProperty(i,t,{value:e,writable:!0,configurable:!0}),is={arr:Array.isArray,obj:i=>!!i&&i.constructor.name==="Object",fun:i=>typeof i=="function",str:i=>typeof i=="string",num:i=>typeof i=="number",und:i=>i===void 0};function isEqual(i,t){if(is.arr(i)){if(!is.arr(t)||i.length!==t.length)return!1;for(let e=0;e<i.length;e++)if(i[e]!==t[e])return!1;return!0}return i===t}const each=(i,t)=>i.forEach(t);function eachProp(i,t,e){if(is.arr(i)){for(let n=0;n<i.length;n++)t.call(e,i[n],`${n}`);return}for(const n in i)i.hasOwnProperty(n)&&t.call(e,i[n],n)}const toArray=i=>is.und(i)?[]:is.arr(i)?i:[i];function flush(i,t){if(i.size){const e=Array.from(i);i.clear(),each(e,t)}}const flushCalls=(i,...t)=>flush(i,e=>e(...t)),isSSR=()=>typeof window>"u"||!window.navigator||/ServerSideRendering|^Deno\//.test(window.navigator.userAgent);let createStringInterpolator$1,to$1,colors$1=null,skipAnimation=!1,willAdvance=noop;const assign=i=>{i.to&&(to$1=i.to),i.now&&(raf.now=i.now),i.colors!==void 0&&(colors$1=i.colors),i.skipAnimation!=null&&(skipAnimation=i.skipAnimation),i.createStringInterpolator&&(createStringInterpolator$1=i.createStringInterpolator),i.requestAnimationFrame&&raf.use(i.requestAnimationFrame),i.batchedUpdates&&(raf.batchedUpdates=i.batchedUpdates),i.willAdvance&&(willAdvance=i.willAdvance),i.frameLoop&&(raf.frameLoop=i.frameLoop)};var globals=Object.freeze({__proto__:null,get createStringInterpolator(){return createStringInterpolator$1},get to(){return to$1},get colors(){return colors$1},get skipAnimation(){return skipAnimation},get willAdvance(){return willAdvance},assign});const startQueue=new Set;let currentFrame=[],prevFrame=[],priority=0;const frameLoop={get idle(){return!startQueue.size&&!currentFrame.length},start(i){priority>i.priority?(startQueue.add(i),raf.onStart(flushStartQueue)):(startSafely(i),raf(advance))},advance,sort(i){if(priority)raf.onFrame(()=>frameLoop.sort(i));else{const t=currentFrame.indexOf(i);~t&&(currentFrame.splice(t,1),startUnsafely(i))}},clear(){currentFrame=[],startQueue.clear()}};function flushStartQueue(){startQueue.forEach(startSafely),startQueue.clear(),raf(advance)}function startSafely(i){currentFrame.includes(i)||startUnsafely(i)}function startUnsafely(i){currentFrame.splice(findIndex(currentFrame,t=>t.priority>i.priority),0,i)}function advance(i){const t=prevFrame;for(let e=0;e<currentFrame.length;e++){const n=currentFrame[e];priority=n.priority,n.idle||(willAdvance(n),n.advance(i),n.idle||t.push(n))}return priority=0,prevFrame=currentFrame,prevFrame.length=0,currentFrame=t,currentFrame.length>0}function findIndex(i,t){const e=i.findIndex(t);return e<0?i.length:e}const colors={transparent:0,aliceblue:4042850303,antiquewhite:4209760255,aqua:16777215,aquamarine:2147472639,azure:4043309055,beige:4126530815,bisque:4293182719,black:255,blanchedalmond:4293643775,blue:65535,blueviolet:2318131967,brown:2771004159,burlywood:3736635391,burntsienna:3934150143,cadetblue:1604231423,chartreuse:2147418367,chocolate:3530104575,coral:4286533887,cornflowerblue:1687547391,cornsilk:4294499583,crimson:3692313855,cyan:16777215,darkblue:35839,darkcyan:9145343,darkgoldenrod:3095792639,darkgray:2846468607,darkgreen:6553855,darkgrey:2846468607,darkkhaki:3182914559,darkmagenta:2332068863,darkolivegreen:1433087999,darkorange:4287365375,darkorchid:2570243327,darkred:2332033279,darksalmon:3918953215,darkseagreen:2411499519,darkslateblue:1211993087,darkslategray:793726975,darkslategrey:793726975,darkturquoise:13554175,darkviolet:2483082239,deeppink:4279538687,deepskyblue:12582911,dimgray:1768516095,dimgrey:1768516095,dodgerblue:512819199,firebrick:2988581631,floralwhite:4294635775,forestgreen:579543807,fuchsia:4278255615,gainsboro:3705462015,ghostwhite:4177068031,gold:4292280575,goldenrod:3668254975,gray:2155905279,green:8388863,greenyellow:2919182335,grey:2155905279,honeydew:4043305215,hotpink:4285117695,indianred:3445382399,indigo:1258324735,ivory:4294963455,khaki:4041641215,lavender:3873897215,lavenderblush:4293981695,lawngreen:2096890111,lemonchiffon:4294626815,lightblue:2916673279,lightcoral:4034953471,lightcyan:3774873599,lightgoldenrodyellow:4210742015,lightgray:3553874943,lightgreen:2431553791,lightgrey:3553874943,lightpink:4290167295,lightsalmon:4288707327,lightseagreen:548580095,lightskyblue:2278488831,lightslategray:2005441023,lightslategrey:2005441023,lightsteelblue:2965692159,lightyellow:4294959359,lime:16711935,limegreen:852308735,linen:4210091775,magenta:4278255615,maroon:2147483903,mediumaquamarine:1724754687,mediumblue:52735,mediumorchid:3126187007,mediumpurple:2473647103,mediumseagreen:1018393087,mediumslateblue:2070474495,mediumspringgreen:16423679,mediumturquoise:1221709055,mediumvioletred:3340076543,midnightblue:421097727,mintcream:4127193855,mistyrose:4293190143,moccasin:4293178879,navajowhite:4292783615,navy:33023,oldlace:4260751103,olive:2155872511,olivedrab:1804477439,orange:4289003775,orangered:4282712319,orchid:3664828159,palegoldenrod:4008225535,palegreen:2566625535,paleturquoise:2951671551,palevioletred:3681588223,papayawhip:4293907967,peachpuff:4292524543,peru:3448061951,pink:4290825215,plum:3718307327,powderblue:2967529215,purple:2147516671,rebeccapurple:1714657791,red:4278190335,rosybrown:3163525119,royalblue:1097458175,saddlebrown:2336560127,salmon:4202722047,sandybrown:4104413439,seagreen:780883967,seashell:4294307583,sienna:2689740287,silver:3233857791,skyblue:2278484991,slateblue:1784335871,slategray:1887473919,slategrey:1887473919,snow:4294638335,springgreen:16744447,steelblue:1182971135,tan:3535047935,teal:8421631,thistle:3636451583,tomato:4284696575,turquoise:1088475391,violet:4001558271,wheat:4125012991,white:4294967295,whitesmoke:4126537215,yellow:4294902015,yellowgreen:2597139199},NUMBER="[-+]?\\d*\\.?\\d+",PERCENTAGE=NUMBER+"%";function call(...i){return"\\(\\s*("+i.join(")\\s*,\\s*(")+")\\s*\\)"}const rgb=new RegExp("rgb"+call(NUMBER,NUMBER,NUMBER)),rgba=new RegExp("rgba"+call(NUMBER,NUMBER,NUMBER,NUMBER)),hsl=new RegExp("hsl"+call(NUMBER,PERCENTAGE,PERCENTAGE)),hsla=new RegExp("hsla"+call(NUMBER,PERCENTAGE,PERCENTAGE,NUMBER)),hex3=/^#([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex4=/^#([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6=/^#([0-9a-fA-F]{6})$/,hex8=/^#([0-9a-fA-F]{8})$/;function normalizeColor(i){let t;return typeof i=="number"?i>>>0===i&&i>=0&&i<=4294967295?i:null:(t=hex6.exec(i))?parseInt(t[1]+"ff",16)>>>0:colors$1&&colors$1[i]!==void 0?colors$1[i]:(t=rgb.exec(i))?(parse255(t[1])<<24|parse255(t[2])<<16|parse255(t[3])<<8|255)>>>0:(t=rgba.exec(i))?(parse255(t[1])<<24|parse255(t[2])<<16|parse255(t[3])<<8|parse1(t[4]))>>>0:(t=hex3.exec(i))?parseInt(t[1]+t[1]+t[2]+t[2]+t[3]+t[3]+"ff",16)>>>0:(t=hex8.exec(i))?parseInt(t[1],16)>>>0:(t=hex4.exec(i))?parseInt(t[1]+t[1]+t[2]+t[2]+t[3]+t[3]+t[4]+t[4],16)>>>0:(t=hsl.exec(i))?(hslToRgb(parse360(t[1]),parsePercentage(t[2]),parsePercentage(t[3]))|255)>>>0:(t=hsla.exec(i))?(hslToRgb(parse360(t[1]),parsePercentage(t[2]),parsePercentage(t[3]))|parse1(t[4]))>>>0:null}function hue2rgb(i,t,e){return e<0&&(e+=1),e>1&&(e-=1),e<1/6?i+(t-i)*6*e:e<1/2?t:e<2/3?i+(t-i)*(2/3-e)*6:i}function hslToRgb(i,t,e){const n=e<.5?e*(1+t):e+t-e*t,a=2*e-n,l=hue2rgb(a,n,i+1/3),c=hue2rgb(a,n,i),f=hue2rgb(a,n,i-1/3);return Math.round(l*255)<<24|Math.round(c*255)<<16|Math.round(f*255)<<8}function parse255(i){const t=parseInt(i,10);return t<0?0:t>255?255:t}function parse360(i){return(parseFloat(i)%360+360)%360/360}function parse1(i){const t=parseFloat(i);return t<0?0:t>1?255:Math.round(t*255)}function parsePercentage(i){const t=parseFloat(i);return t<0?0:t>100?1:t/100}function colorToRgba(i){let t=normalizeColor(i);if(t===null)return i;t=t||0;let e=(t&4278190080)>>>24,n=(t&16711680)>>>16,a=(t&65280)>>>8,l=(t&255)/255;return`rgba(${e}, ${n}, ${a}, ${l})`}const createInterpolator=(i,t,e)=>{if(is.fun(i))return i;if(is.arr(i))return createInterpolator({range:i,output:t,extrapolate:e});if(is.str(i.output[0]))return createStringInterpolator$1(i);const n=i,a=n.output,l=n.range||[0,1],c=n.extrapolateLeft||n.extrapolate||"extend",f=n.extrapolateRight||n.extrapolate||"extend",d=n.easing||(m=>m);return m=>{const y=findRange(m,l);return interpolate$1(m,l[y],l[y+1],a[y],a[y+1],d,c,f,n.map)}};function interpolate$1(i,t,e,n,a,l,c,f,d){let m=d?d(i):i;if(m<t){if(c==="identity")return m;c==="clamp"&&(m=t)}if(m>e){if(f==="identity")return m;f==="clamp"&&(m=e)}return n===a?n:t===e?i<=t?n:a:(t===-1/0?m=-m:e===1/0?m=m-t:m=(m-t)/(e-t),m=l(m),n===-1/0?m=-m:a===1/0?m=m+n:m=m*(a-n)+n,m)}function findRange(i,t){for(var e=1;e<t.length-1&&!(t[e]>=i);++e);return e-1}function _extends$3(){return _extends$3=Object.assign?Object.assign.bind():function(i){for(var t=1;t<arguments.length;t++){var e=arguments[t];for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(i[n]=e[n])}return i},_extends$3.apply(this,arguments)}const $get=Symbol.for("FluidValue.get"),$observers=Symbol.for("FluidValue.observers"),hasFluidValue=i=>!!(i&&i[$get]),getFluidValue=i=>i&&i[$get]?i[$get]():i,getFluidObservers=i=>i[$observers]||null;function callFluidObserver(i,t){i.eventObserved?i.eventObserved(t):i(t)}function callFluidObservers(i,t){let e=i[$observers];e&&e.forEach(n=>{callFluidObserver(n,t)})}class FluidValue{constructor(t){if(this[$get]=void 0,this[$observers]=void 0,!t&&!(t=this.get))throw Error("Unknown getter");setFluidGetter(this,t)}}const setFluidGetter=(i,t)=>setHidden(i,$get,t);function addFluidObserver(i,t){if(i[$get]){let e=i[$observers];e||setHidden(i,$observers,e=new Set),e.has(t)||(e.add(t),i.observerAdded&&i.observerAdded(e.size,t))}return t}function removeFluidObserver(i,t){let e=i[$observers];if(e&&e.has(t)){const n=e.size-1;n?e.delete(t):i[$observers]=null,i.observerRemoved&&i.observerRemoved(n,t)}}const setHidden=(i,t,e)=>Object.defineProperty(i,t,{value:e,writable:!0,configurable:!0}),numberRegex=/[+\-]?(?:0|[1-9]\d*)(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,colorRegex=/(#(?:[0-9a-f]{2}){2,4}|(#[0-9a-f]{3})|(rgb|hsl)a?\((-?\d+%?[,\s]+){2,3}\s*[\d\.]+%?\))/gi,unitRegex=new RegExp(`(${numberRegex.source})(%|[a-z]+)`,"i"),rgbaRegex=/rgba\(([0-9\.-]+), ([0-9\.-]+), ([0-9\.-]+), ([0-9\.-]+)\)/gi,cssVariableRegex=/var\((--[a-zA-Z0-9-_]+),? ?([a-zA-Z0-9 ()%#.,-]+)?\)/,variableToRgba=i=>{const[t,e]=parseCSSVariable(i);if(!t||isSSR())return i;const n=window.getComputedStyle(document.documentElement).getPropertyValue(t);if(n)return n.trim();if(e&&e.startsWith("--")){const a=window.getComputedStyle(document.documentElement).getPropertyValue(e);return a||i}else{if(e&&cssVariableRegex.test(e))return variableToRgba(e);if(e)return e}return i},parseCSSVariable=i=>{const t=cssVariableRegex.exec(i);if(!t)return[,];const[,e,n]=t;return[e,n]};let namedColorRegex;const rgbaRound=(i,t,e,n,a)=>`rgba(${Math.round(t)}, ${Math.round(e)}, ${Math.round(n)}, ${a})`,createStringInterpolator=i=>{namedColorRegex||(namedColorRegex=colors$1?new RegExp(`(${Object.keys(colors$1).join("|")})(?!\\w)`,"g"):/^\b$/);const t=i.output.map(l=>getFluidValue(l).replace(cssVariableRegex,variableToRgba).replace(colorRegex,colorToRgba).replace(namedColorRegex,colorToRgba)),e=t.map(l=>l.match(numberRegex).map(Number)),a=e[0].map((l,c)=>e.map(f=>{if(!(c in f))throw Error('The arity of each "output" value must be equal');return f[c]})).map(l=>createInterpolator(_extends$3({},i,{output:l})));return l=>{var c;const f=!unitRegex.test(t[0])&&((c=t.find(m=>unitRegex.test(m)))==null?void 0:c.replace(numberRegex,""));let d=0;return t[0].replace(numberRegex,()=>`${a[d++](l)}${f||""}`).replace(rgbaRegex,rgbaRound)}},prefix$1="react-spring: ",once=i=>{const t=i;let e=!1;if(typeof t!="function")throw new TypeError(`${prefix$1}once requires a function parameter`);return(...n)=>{e||(t(...n),e=!0)}},warnInterpolate=once(console.warn);function deprecateInterpolate(){warnInterpolate(`${prefix$1}The "interpolate" function is deprecated in v9 (use "to" instead)`)}const warnDirectCall=once(console.warn);function deprecateDirectCall(){warnDirectCall(`${prefix$1}Directly calling start instead of using the api object is deprecated in v9 (use ".start" instead), this will be removed in later 0.X.0 versions`)}function isAnimatedString(i){return is.str(i)&&(i[0]=="#"||/\d/.test(i)||!isSSR()&&cssVariableRegex.test(i)||i in(colors$1||{}))}const useIsomorphicLayoutEffect=isSSR()?reactExports.useEffect:reactExports.useLayoutEffect,useIsMounted=()=>{const i=reactExports.useRef(!1);return useIsomorphicLayoutEffect(()=>(i.current=!0,()=>{i.current=!1}),[]),i};function useForceUpdate(){const i=reactExports.useState()[1],t=useIsMounted();return()=>{t.current&&i(Math.random())}}function useMemoOne(i,t){const[e]=reactExports.useState(()=>({inputs:t,result:i()})),n=reactExports.useRef(),a=n.current;let l=a;return l?t&&l.inputs&&areInputsEqual(t,l.inputs)||(l={inputs:t,result:i()}):l=e,reactExports.useEffect(()=>{n.current=l,a==e&&(e.inputs=e.result=void 0)},[l]),l.result}function areInputsEqual(i,t){if(i.length!==t.length)return!1;for(let e=0;e<i.length;e++)if(i[e]!==t[e])return!1;return!0}const useOnce=i=>reactExports.useEffect(i,emptyDeps),emptyDeps=[];function usePrev(i){const t=reactExports.useRef();return reactExports.useEffect(()=>{t.current=i}),t.current}const useReducedMotion=()=>{const[i,t]=reactExports.useState(null);return useIsomorphicLayoutEffect(()=>{const e=window.matchMedia("(prefers-reduced-motion)"),n=a=>{t(a.matches),assign({skipAnimation:a.matches})};return n(e),e.addEventListener("change",n),()=>{e.removeEventListener("change",n)}},[]),i},$node=Symbol.for("Animated:node"),isAnimated=i=>!!i&&i[$node]===i,getAnimated=i=>i&&i[$node],setAnimated=(i,t)=>defineHidden(i,$node,t),getPayload=i=>i&&i[$node]&&i[$node].getPayload();class Animated{constructor(){this.payload=void 0,setAnimated(this,this)}getPayload(){return this.payload||[]}}class AnimatedValue extends Animated{constructor(t){super(),this.done=!0,this.elapsedTime=void 0,this.lastPosition=void 0,this.lastVelocity=void 0,this.v0=void 0,this.durationProgress=0,this._value=t,is.num(this._value)&&(this.lastPosition=this._value)}static create(t){return new AnimatedValue(t)}getPayload(){return[this]}getValue(){return this._value}setValue(t,e){return is.num(t)&&(this.lastPosition=t,e&&(t=Math.round(t/e)*e,this.done&&(this.lastPosition=t))),this._value===t?!1:(this._value=t,!0)}reset(){const{done:t}=this;this.done=!1,is.num(this._value)&&(this.elapsedTime=0,this.durationProgress=0,this.lastPosition=this._value,t&&(this.lastVelocity=null),this.v0=null)}}class AnimatedString extends AnimatedValue{constructor(t){super(0),this._string=null,this._toString=void 0,this._toString=createInterpolator({output:[t,t]})}static create(t){return new AnimatedString(t)}getValue(){let t=this._string;return t??(this._string=this._toString(this._value))}setValue(t){if(is.str(t)){if(t==this._string)return!1;this._string=t,this._value=1}else if(super.setValue(t))this._string=null;else return!1;return!0}reset(t){t&&(this._toString=createInterpolator({output:[this.getValue(),t]})),this._value=0,super.reset()}}const TreeContext={dependencies:null};class AnimatedObject extends Animated{constructor(t){super(),this.source=t,this.setValue(t)}getValue(t){const e={};return eachProp(this.source,(n,a)=>{isAnimated(n)?e[a]=n.getValue(t):hasFluidValue(n)?e[a]=getFluidValue(n):t||(e[a]=n)}),e}setValue(t){this.source=t,this.payload=this._makePayload(t)}reset(){this.payload&&each(this.payload,t=>t.reset())}_makePayload(t){if(t){const e=new Set;return eachProp(t,this._addToPayload,e),Array.from(e)}}_addToPayload(t){TreeContext.dependencies&&hasFluidValue(t)&&TreeContext.dependencies.add(t);const e=getPayload(t);e&&each(e,n=>this.add(n))}}class AnimatedArray extends AnimatedObject{constructor(t){super(t)}static create(t){return new AnimatedArray(t)}getValue(){return this.source.map(t=>t.getValue())}setValue(t){const e=this.getPayload();return t.length==e.length?e.map((n,a)=>n.setValue(t[a])).some(Boolean):(super.setValue(t.map(makeAnimated)),!0)}}function makeAnimated(i){return(isAnimatedString(i)?AnimatedString:AnimatedValue).create(i)}function getAnimatedType(i){const t=getAnimated(i);return t?t.constructor:is.arr(i)?AnimatedArray:isAnimatedString(i)?AnimatedString:AnimatedValue}function _extends$2(){return _extends$2=Object.assign?Object.assign.bind():function(i){for(var t=1;t<arguments.length;t++){var e=arguments[t];for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(i[n]=e[n])}return i},_extends$2.apply(this,arguments)}const withAnimated=(i,t)=>{const e=!is.fun(i)||i.prototype&&i.prototype.isReactComponent;return reactExports.forwardRef((n,a)=>{const l=reactExports.useRef(null),c=e&&reactExports.useCallback(E=>{l.current=updateRef(a,E)},[a]),[f,d]=getAnimatedState(n,t),m=useForceUpdate(),y=()=>{const E=l.current;if(e&&!E)return;(E?t.applyAnimatedValues(E,f.getValue(!0)):!1)===!1&&m()},A=new PropsObserver(y,d),b=reactExports.useRef();useIsomorphicLayoutEffect(()=>(b.current=A,each(d,E=>addFluidObserver(E,A)),()=>{b.current&&(each(b.current.deps,E=>removeFluidObserver(E,b.current)),raf.cancel(b.current.update))})),reactExports.useEffect(y,[]),useOnce(()=>()=>{const E=b.current;each(E.deps,T=>removeFluidObserver(T,E))});const x=t.getComponentProps(f.getValue());return reactExports.createElement(i,_extends$2({},x,{ref:c}))})};class PropsObserver{constructor(t,e){this.update=t,this.deps=e}eventObserved(t){t.type=="change"&&raf.write(this.update)}}function getAnimatedState(i,t){const e=new Set;return TreeContext.dependencies=e,i.style&&(i=_extends$2({},i,{style:t.createAnimatedStyle(i.style)})),i=new AnimatedObject(i),TreeContext.dependencies=null,[i,e]}function updateRef(i,t){return i&&(is.fun(i)?i(t):i.current=t),t}const cacheKey=Symbol.for("AnimatedComponent"),createHost=(i,{applyAnimatedValues:t=()=>!1,createAnimatedStyle:e=a=>new AnimatedObject(a),getComponentProps:n=a=>a}={})=>{const a={applyAnimatedValues:t,createAnimatedStyle:e,getComponentProps:n},l=c=>{const f=getDisplayName(c)||"Anonymous";return is.str(c)?c=l[c]||(l[c]=withAnimated(c,a)):c=c[cacheKey]||(c[cacheKey]=withAnimated(c,a)),c.displayName=`Animated(${f})`,c};return eachProp(i,(c,f)=>{is.arr(i)&&(f=getDisplayName(c)),l[f]=l(c)}),{animated:l}},getDisplayName=i=>is.str(i)?i:i&&is.str(i.displayName)?i.displayName:is.fun(i)&&i.name||null;function _extends$1(){return _extends$1=Object.assign?Object.assign.bind():function(i){for(var t=1;t<arguments.length;t++){var e=arguments[t];for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(i[n]=e[n])}return i},_extends$1.apply(this,arguments)}function callProp(i,...t){return is.fun(i)?i(...t):i}const matchProp=(i,t)=>i===!0||!!(t&&i&&(is.fun(i)?i(t):toArray(i).includes(t))),resolveProp=(i,t)=>is.obj(i)?t&&i[t]:i,getDefaultProp=(i,t)=>i.default===!0?i[t]:i.default?i.default[t]:void 0,noopTransform=i=>i,getDefaultProps=(i,t=noopTransform)=>{let e=DEFAULT_PROPS;i.default&&i.default!==!0&&(i=i.default,e=Object.keys(i));const n={};for(const a of e){const l=t(i[a],a);is.und(l)||(n[a]=l)}return n},DEFAULT_PROPS=["config","onProps","onStart","onChange","onPause","onResume","onRest"],RESERVED_PROPS={config:1,from:1,to:1,ref:1,loop:1,reset:1,pause:1,cancel:1,reverse:1,immediate:1,default:1,delay:1,onProps:1,onStart:1,onChange:1,onPause:1,onResume:1,onRest:1,onResolve:1,items:1,trail:1,sort:1,expires:1,initial:1,enter:1,update:1,leave:1,children:1,onDestroyed:1,keys:1,callId:1,parentId:1};function getForwardProps(i){const t={};let e=0;if(eachProp(i,(n,a)=>{RESERVED_PROPS[a]||(t[a]=n,e++)}),e)return t}function inferTo(i){const t=getForwardProps(i);if(t){const e={to:t};return eachProp(i,(n,a)=>a in t||(e[a]=n)),e}return _extends$1({},i)}function computeGoal(i){return i=getFluidValue(i),is.arr(i)?i.map(computeGoal):isAnimatedString(i)?globals.createStringInterpolator({range:[0,1],output:[i,i]})(1):i}function hasProps(i){for(const t in i)return!0;return!1}function isAsyncTo(i){return is.fun(i)||is.arr(i)&&is.obj(i[0])}function detachRefs(i,t){var e;(e=i.ref)==null||e.delete(i),t==null||t.delete(i)}function replaceRef(i,t){if(t&&i.ref!==t){var e;(e=i.ref)==null||e.delete(i),t.add(i),i.ref=t}}function useChain(i,t,e=1e3){useIsomorphicLayoutEffect(()=>{if(t){let n=0;each(i,(a,l)=>{const c=a.current;if(c.length){let f=e*t[l];isNaN(f)?f=n:n=f,each(c,d=>{each(d.queue,m=>{const y=m.delay;m.delay=A=>f+callProp(y||0,A)})}),a.start()}})}else{let n=Promise.resolve();each(i,a=>{const l=a.current;if(l.length){const c=l.map(f=>{const d=f.queue;return f.queue=[],d});n=n.then(()=>(each(l,(f,d)=>each(c[d]||[],m=>f.queue.push(m))),Promise.all(a.start())))}})}})}const config={default:{tension:170,friction:26},gentle:{tension:120,friction:14},wobbly:{tension:180,friction:12},stiff:{tension:210,friction:20},slow:{tension:280,friction:60},molasses:{tension:280,friction:120}},c1=1.70158,c2=c1*1.525,c3=c1+1,c4=2*Math.PI/3,c5=2*Math.PI/4.5,bounceOut=i=>i<1/2.75?7.5625*i*i:i<2/2.75?7.5625*(i-=1.5/2.75)*i+.75:i<2.5/2.75?7.5625*(i-=2.25/2.75)*i+.9375:7.5625*(i-=2.625/2.75)*i+.984375,easings={linear:i=>i,easeInQuad:i=>i*i,easeOutQuad:i=>1-(1-i)*(1-i),easeInOutQuad:i=>i<.5?2*i*i:1-Math.pow(-2*i+2,2)/2,easeInCubic:i=>i*i*i,easeOutCubic:i=>1-Math.pow(1-i,3),easeInOutCubic:i=>i<.5?4*i*i*i:1-Math.pow(-2*i+2,3)/2,easeInQuart:i=>i*i*i*i,easeOutQuart:i=>1-Math.pow(1-i,4),easeInOutQuart:i=>i<.5?8*i*i*i*i:1-Math.pow(-2*i+2,4)/2,easeInQuint:i=>i*i*i*i*i,easeOutQuint:i=>1-Math.pow(1-i,5),easeInOutQuint:i=>i<.5?16*i*i*i*i*i:1-Math.pow(-2*i+2,5)/2,easeInSine:i=>1-Math.cos(i*Math.PI/2),easeOutSine:i=>Math.sin(i*Math.PI/2),easeInOutSine:i=>-(Math.cos(Math.PI*i)-1)/2,easeInExpo:i=>i===0?0:Math.pow(2,10*i-10),easeOutExpo:i=>i===1?1:1-Math.pow(2,-10*i),easeInOutExpo:i=>i===0?0:i===1?1:i<.5?Math.pow(2,20*i-10)/2:(2-Math.pow(2,-20*i+10))/2,easeInCirc:i=>1-Math.sqrt(1-Math.pow(i,2)),easeOutCirc:i=>Math.sqrt(1-Math.pow(i-1,2)),easeInOutCirc:i=>i<.5?(1-Math.sqrt(1-Math.pow(2*i,2)))/2:(Math.sqrt(1-Math.pow(-2*i+2,2))+1)/2,easeInBack:i=>c3*i*i*i-c1*i*i,easeOutBack:i=>1+c3*Math.pow(i-1,3)+c1*Math.pow(i-1,2),easeInOutBack:i=>i<.5?Math.pow(2*i,2)*((c2+1)*2*i-c2)/2:(Math.pow(2*i-2,2)*((c2+1)*(i*2-2)+c2)+2)/2,easeInElastic:i=>i===0?0:i===1?1:-Math.pow(2,10*i-10)*Math.sin((i*10-10.75)*c4),easeOutElastic:i=>i===0?0:i===1?1:Math.pow(2,-10*i)*Math.sin((i*10-.75)*c4)+1,easeInOutElastic:i=>i===0?0:i===1?1:i<.5?-(Math.pow(2,20*i-10)*Math.sin((20*i-11.125)*c5))/2:Math.pow(2,-20*i+10)*Math.sin((20*i-11.125)*c5)/2+1,easeInBounce:i=>1-bounceOut(1-i),easeOutBounce:bounceOut,easeInOutBounce:i=>i<.5?(1-bounceOut(1-2*i))/2:(1+bounceOut(2*i-1))/2},defaults=_extends$1({},config.default,{mass:1,damping:1,easing:easings.linear,clamp:!1});class AnimationConfig{constructor(){this.tension=void 0,this.friction=void 0,this.frequency=void 0,this.damping=void 0,this.mass=void 0,this.velocity=0,this.restVelocity=void 0,this.precision=void 0,this.progress=void 0,this.duration=void 0,this.easing=void 0,this.clamp=void 0,this.bounce=void 0,this.decay=void 0,this.round=void 0,Object.assign(this,defaults)}}function mergeConfig(i,t,e){e&&(e=_extends$1({},e),sanitizeConfig(e,t),t=_extends$1({},e,t)),sanitizeConfig(i,t),Object.assign(i,t);for(const c in defaults)i[c]==null&&(i[c]=defaults[c]);let{mass:n,frequency:a,damping:l}=i;return is.und(a)||(a<.01&&(a=.01),l<0&&(l=0),i.tension=Math.pow(2*Math.PI/a,2)*n,i.friction=4*Math.PI*l*n/a),i}function sanitizeConfig(i,t){if(!is.und(t.decay))i.duration=void 0;else{const e=!is.und(t.tension)||!is.und(t.friction);(e||!is.und(t.frequency)||!is.und(t.damping)||!is.und(t.mass))&&(i.duration=void 0,i.decay=void 0),e&&(i.frequency=void 0)}}const emptyArray=[];class Animation{constructor(){this.changed=!1,this.values=emptyArray,this.toValues=null,this.fromValues=emptyArray,this.to=void 0,this.from=void 0,this.config=new AnimationConfig,this.immediate=!1}}function scheduleProps(i,{key:t,props:e,defaultProps:n,state:a,actions:l}){return new Promise((c,f)=>{var d;let m,y,A=matchProp((d=e.cancel)!=null?d:n==null?void 0:n.cancel,t);if(A)E();else{is.und(e.pause)||(a.paused=matchProp(e.pause,t));let T=n==null?void 0:n.pause;T!==!0&&(T=a.paused||matchProp(T,t)),m=callProp(e.delay||0,t),T?(a.resumeQueue.add(x),l.pause()):(l.resume(),x())}function b(){a.resumeQueue.add(x),a.timeouts.delete(y),y.cancel(),m=y.time-raf.now()}function x(){m>0&&!globals.skipAnimation?(a.delayed=!0,y=raf.setTimeout(E,m),a.pauseQueue.add(b),a.timeouts.add(y)):E()}function E(){a.delayed&&(a.delayed=!1),a.pauseQueue.delete(b),a.timeouts.delete(y),i<=(a.cancelId||0)&&(A=!0);try{l.start(_extends$1({},e,{callId:i,cancel:A}),c)}catch(T){f(T)}}})}const getCombinedResult=(i,t)=>t.length==1?t[0]:t.some(e=>e.cancelled)?getCancelledResult(i.get()):t.every(e=>e.noop)?getNoopResult(i.get()):getFinishedResult(i.get(),t.every(e=>e.finished)),getNoopResult=i=>({value:i,noop:!0,finished:!0,cancelled:!1}),getFinishedResult=(i,t,e=!1)=>({value:i,finished:t,cancelled:e}),getCancelledResult=i=>({value:i,cancelled:!0,finished:!1});function runAsync(i,t,e,n){const{callId:a,parentId:l,onRest:c}=t,{asyncTo:f,promise:d}=e;return!l&&i===f&&!t.reset?d:e.promise=(async()=>{e.asyncId=a,e.asyncTo=i;const m=getDefaultProps(t,(k,S)=>S==="onRest"?void 0:k);let y,A;const b=new Promise((k,S)=>(y=k,A=S)),x=k=>{const S=a<=(e.cancelId||0)&&getCancelledResult(n)||a!==e.asyncId&&getFinishedResult(n,!1);if(S)throw k.result=S,A(k),k},E=(k,S)=>{const M=new BailSignal,P=new SkipAniamtionSignal;return(async()=>{if(globals.skipAnimation)throw stopAsync(e),P.result=getFinishedResult(n,!1),A(P),P;x(M);const R=is.obj(k)?_extends$1({},k):_extends$1({},S,{to:k});R.parentId=a,eachProp(m,(L,G)=>{is.und(R[G])&&(R[G]=L)});const D=await n.start(R);return x(M),e.paused&&await new Promise(L=>{e.resumeQueue.add(L)}),D})()};let T;if(globals.skipAnimation)return stopAsync(e),getFinishedResult(n,!1);try{let k;is.arr(i)?k=(async S=>{for(const M of S)await E(M)})(i):k=Promise.resolve(i(E,n.stop.bind(n))),await Promise.all([k.then(y),b]),T=getFinishedResult(n.get(),!0,!1)}catch(k){if(k instanceof BailSignal)T=k.result;else if(k instanceof SkipAniamtionSignal)T=k.result;else throw k}finally{a==e.asyncId&&(e.asyncId=l,e.asyncTo=l?f:void 0,e.promise=l?d:void 0)}return is.fun(c)&&raf.batchedUpdates(()=>{c(T,n,n.item)}),T})()}function stopAsync(i,t){flush(i.timeouts,e=>e.cancel()),i.pauseQueue.clear(),i.resumeQueue.clear(),i.asyncId=i.asyncTo=i.promise=void 0,t&&(i.cancelId=t)}class BailSignal extends Error{constructor(){super("An async animation has been interrupted. You see this error because you forgot to use `await` or `.catch(...)` on its returned promise."),this.result=void 0}}class SkipAniamtionSignal extends Error{constructor(){super("SkipAnimationSignal"),this.result=void 0}}const isFrameValue=i=>i instanceof FrameValue;let nextId$1=1;class FrameValue extends FluidValue{constructor(...t){super(...t),this.id=nextId$1++,this.key=void 0,this._priority=0}get priority(){return this._priority}set priority(t){this._priority!=t&&(this._priority=t,this._onPriorityChange(t))}get(){const t=getAnimated(this);return t&&t.getValue()}to(...t){return globals.to(this,t)}interpolate(...t){return deprecateInterpolate(),globals.to(this,t)}toJSON(){return this.get()}observerAdded(t){t==1&&this._attach()}observerRemoved(t){t==0&&this._detach()}_attach(){}_detach(){}_onChange(t,e=!1){callFluidObservers(this,{type:"change",parent:this,value:t,idle:e})}_onPriorityChange(t){this.idle||frameLoop.sort(this),callFluidObservers(this,{type:"priority",parent:this,priority:t})}}const $P=Symbol.for("SpringPhase"),HAS_ANIMATED=1,IS_ANIMATING=2,IS_PAUSED=4,hasAnimated=i=>(i[$P]&HAS_ANIMATED)>0,isAnimating=i=>(i[$P]&IS_ANIMATING)>0,isPaused=i=>(i[$P]&IS_PAUSED)>0,setActiveBit=(i,t)=>t?i[$P]|=IS_ANIMATING|HAS_ANIMATED:i[$P]&=-3,setPausedBit=(i,t)=>t?i[$P]|=IS_PAUSED:i[$P]&=-5;class SpringValue extends FrameValue{constructor(t,e){if(super(),this.key=void 0,this.animation=new Animation,this.queue=void 0,this.defaultProps={},this._state={paused:!1,delayed:!1,pauseQueue:new Set,resumeQueue:new Set,timeouts:new Set},this._pendingCalls=new Set,this._lastCallId=0,this._lastToId=0,this._memoizedDuration=0,!is.und(t)||!is.und(e)){const n=is.obj(t)?_extends$1({},t):_extends$1({},e,{from:t});is.und(n.default)&&(n.default=!0),this.start(n)}}get idle(){return!(isAnimating(this)||this._state.asyncTo)||isPaused(this)}get goal(){return getFluidValue(this.animation.to)}get velocity(){const t=getAnimated(this);return t instanceof AnimatedValue?t.lastVelocity||0:t.getPayload().map(e=>e.lastVelocity||0)}get hasAnimated(){return hasAnimated(this)}get isAnimating(){return isAnimating(this)}get isPaused(){return isPaused(this)}get isDelayed(){return this._state.delayed}advance(t){let e=!0,n=!1;const a=this.animation;let{config:l,toValues:c}=a;const f=getPayload(a.to);!f&&hasFluidValue(a.to)&&(c=toArray(getFluidValue(a.to))),a.values.forEach((y,A)=>{if(y.done)return;const b=y.constructor==AnimatedString?1:f?f[A].lastPosition:c[A];let x=a.immediate,E=b;if(!x){if(E=y.lastPosition,l.tension<=0){y.done=!0;return}let T=y.elapsedTime+=t;const k=a.fromValues[A],S=y.v0!=null?y.v0:y.v0=is.arr(l.velocity)?l.velocity[A]:l.velocity;let M;const P=l.precision||(k==b?.005:Math.min(1,Math.abs(b-k)*.001));if(is.und(l.duration))if(l.decay){const R=l.decay===!0?.998:l.decay,D=Math.exp(-(1-R)*T);E=k+S/(1-R)*(1-D),x=Math.abs(y.lastPosition-E)<=P,M=S*D}else{M=y.lastVelocity==null?S:y.lastVelocity;const R=l.restVelocity||P/10,D=l.clamp?0:l.bounce,L=!is.und(D),G=k==b?y.v0>0:k<b;let q,X=!1;const J=1,et=Math.ceil(t/J);for(let it=0;it<et&&(q=Math.abs(M)>R,!(!q&&(x=Math.abs(b-E)<=P,x)));++it){L&&(X=E==b||E>b==G,X&&(M=-M*D,E=b));const lt=-l.tension*1e-6*(E-b),tt=-l.friction*.001*M,W=(lt+tt)/l.mass;M=M+W*J,E=E+M*J}}else{let R=1;l.duration>0&&(this._memoizedDuration!==l.duration&&(this._memoizedDuration=l.duration,y.durationProgress>0&&(y.elapsedTime=l.duration*y.durationProgress,T=y.elapsedTime+=t)),R=(l.progress||0)+T/this._memoizedDuration,R=R>1?1:R<0?0:R,y.durationProgress=R),E=k+l.easing(R)*(b-k),M=(E-y.lastPosition)/t,x=R==1}y.lastVelocity=M,Number.isNaN(E)&&(console.warn("Got NaN while animating:",this),x=!0)}f&&!f[A].done&&(x=!1),x?y.done=!0:e=!1,y.setValue(E,l.round)&&(n=!0)});const d=getAnimated(this),m=d.getValue();if(e){const y=getFluidValue(a.to);(m!==y||n)&&!l.decay?(d.setValue(y),this._onChange(y)):n&&l.decay&&this._onChange(m),this._stop()}else n&&this._onChange(m)}set(t){return raf.batchedUpdates(()=>{this._stop(),this._focus(t),this._set(t)}),this}pause(){this._update({pause:!0})}resume(){this._update({pause:!1})}finish(){if(isAnimating(this)){const{to:t,config:e}=this.animation;raf.batchedUpdates(()=>{this._onStart(),e.decay||this._set(t,!1),this._stop()})}return this}update(t){return(this.queue||(this.queue=[])).push(t),this}start(t,e){let n;return is.und(t)?(n=this.queue||[],this.queue=[]):n=[is.obj(t)?t:_extends$1({},e,{to:t})],Promise.all(n.map(a=>this._update(a))).then(a=>getCombinedResult(this,a))}stop(t){const{to:e}=this.animation;return this._focus(this.get()),stopAsync(this._state,t&&this._lastCallId),raf.batchedUpdates(()=>this._stop(e,t)),this}reset(){this._update({reset:!0})}eventObserved(t){t.type=="change"?this._start():t.type=="priority"&&(this.priority=t.priority+1)}_prepareNode(t){const e=this.key||"";let{to:n,from:a}=t;n=is.obj(n)?n[e]:n,(n==null||isAsyncTo(n))&&(n=void 0),a=is.obj(a)?a[e]:a,a==null&&(a=void 0);const l={to:n,from:a};return hasAnimated(this)||(t.reverse&&([n,a]=[a,n]),a=getFluidValue(a),is.und(a)?getAnimated(this)||this._set(n):this._set(a)),l}_update(t,e){let n=_extends$1({},t);const{key:a,defaultProps:l}=this;n.default&&Object.assign(l,getDefaultProps(n,(d,m)=>/^on/.test(m)?resolveProp(d,a):d)),mergeActiveFn(this,n,"onProps"),sendEvent(this,"onProps",n,this);const c=this._prepareNode(n);if(Object.isFrozen(this))throw Error("Cannot animate a `SpringValue` object that is frozen. Did you forget to pass your component to `animated(...)` before animating its props?");const f=this._state;return scheduleProps(++this._lastCallId,{key:a,props:n,defaultProps:l,state:f,actions:{pause:()=>{isPaused(this)||(setPausedBit(this,!0),flushCalls(f.pauseQueue),sendEvent(this,"onPause",getFinishedResult(this,checkFinished(this,this.animation.to)),this))},resume:()=>{isPaused(this)&&(setPausedBit(this,!1),isAnimating(this)&&this._resume(),flushCalls(f.resumeQueue),sendEvent(this,"onResume",getFinishedResult(this,checkFinished(this,this.animation.to)),this))},start:this._merge.bind(this,c)}}).then(d=>{if(n.loop&&d.finished&&!(e&&d.noop)){const m=createLoopUpdate(n);if(m)return this._update(m,!0)}return d})}_merge(t,e,n){if(e.cancel)return this.stop(!0),n(getCancelledResult(this));const a=!is.und(t.to),l=!is.und(t.from);if(a||l)if(e.callId>this._lastToId)this._lastToId=e.callId;else return n(getCancelledResult(this));const{key:c,defaultProps:f,animation:d}=this,{to:m,from:y}=d;let{to:A=m,from:b=y}=t;l&&!a&&(!e.default||is.und(A))&&(A=b),e.reverse&&([A,b]=[b,A]);const x=!isEqual(b,y);x&&(d.from=b),b=getFluidValue(b);const E=!isEqual(A,m);E&&this._focus(A);const T=isAsyncTo(e.to),{config:k}=d,{decay:S,velocity:M}=k;(a||l)&&(k.velocity=0),e.config&&!T&&mergeConfig(k,callProp(e.config,c),e.config!==f.config?callProp(f.config,c):void 0);let P=getAnimated(this);if(!P||is.und(A))return n(getFinishedResult(this,!0));const R=is.und(e.reset)?l&&!e.default:!is.und(b)&&matchProp(e.reset,c),D=R?b:this.get(),L=computeGoal(A),G=is.num(L)||is.arr(L)||isAnimatedString(L),q=!T&&(!G||matchProp(f.immediate||e.immediate,c));if(E){const it=getAnimatedType(A);if(it!==P.constructor)if(q)P=this._set(L);else throw Error(`Cannot animate between ${P.constructor.name} and ${it.name}, as the "to" prop suggests`)}const X=P.constructor;let J=hasFluidValue(A),et=!1;if(!J){const it=R||!hasAnimated(this)&&x;(E||it)&&(et=isEqual(computeGoal(D),L),J=!et),(!isEqual(d.immediate,q)&&!q||!isEqual(k.decay,S)||!isEqual(k.velocity,M))&&(J=!0)}if(et&&isAnimating(this)&&(d.changed&&!R?J=!0:J||this._stop(m)),!T&&((J||hasFluidValue(m))&&(d.values=P.getPayload(),d.toValues=hasFluidValue(A)?null:X==AnimatedString?[1]:toArray(L)),d.immediate!=q&&(d.immediate=q,!q&&!R&&this._set(m)),J)){const{onRest:it}=d;each(ACTIVE_EVENTS,tt=>mergeActiveFn(this,e,tt));const lt=getFinishedResult(this,checkFinished(this,m));flushCalls(this._pendingCalls,lt),this._pendingCalls.add(n),d.changed&&raf.batchedUpdates(()=>{d.changed=!R,it==null||it(lt,this),R?callProp(f.onRest,lt):d.onStart==null||d.onStart(lt,this)})}R&&this._set(D),T?n(runAsync(e.to,e,this._state,this)):J?this._start():isAnimating(this)&&!E?this._pendingCalls.add(n):n(getNoopResult(D))}_focus(t){const e=this.animation;t!==e.to&&(getFluidObservers(this)&&this._detach(),e.to=t,getFluidObservers(this)&&this._attach())}_attach(){let t=0;const{to:e}=this.animation;hasFluidValue(e)&&(addFluidObserver(e,this),isFrameValue(e)&&(t=e.priority+1)),this.priority=t}_detach(){const{to:t}=this.animation;hasFluidValue(t)&&removeFluidObserver(t,this)}_set(t,e=!0){const n=getFluidValue(t);if(!is.und(n)){const a=getAnimated(this);if(!a||!isEqual(n,a.getValue())){const l=getAnimatedType(n);!a||a.constructor!=l?setAnimated(this,l.create(n)):a.setValue(n),a&&raf.batchedUpdates(()=>{this._onChange(n,e)})}}return getAnimated(this)}_onStart(){const t=this.animation;t.changed||(t.changed=!0,sendEvent(this,"onStart",getFinishedResult(this,checkFinished(this,t.to)),this))}_onChange(t,e){e||(this._onStart(),callProp(this.animation.onChange,t,this)),callProp(this.defaultProps.onChange,t,this),super._onChange(t,e)}_start(){const t=this.animation;getAnimated(this).reset(getFluidValue(t.to)),t.immediate||(t.fromValues=t.values.map(e=>e.lastPosition)),isAnimating(this)||(setActiveBit(this,!0),isPaused(this)||this._resume())}_resume(){globals.skipAnimation?this.finish():frameLoop.start(this)}_stop(t,e){if(isAnimating(this)){setActiveBit(this,!1);const n=this.animation;each(n.values,l=>{l.done=!0}),n.toValues&&(n.onChange=n.onPause=n.onResume=void 0),callFluidObservers(this,{type:"idle",parent:this});const a=e?getCancelledResult(this.get()):getFinishedResult(this.get(),checkFinished(this,t??n.to));flushCalls(this._pendingCalls,a),n.changed&&(n.changed=!1,sendEvent(this,"onRest",a,this))}}}function checkFinished(i,t){const e=computeGoal(t),n=computeGoal(i.get());return isEqual(n,e)}function createLoopUpdate(i,t=i.loop,e=i.to){let n=callProp(t);if(n){const a=n!==!0&&inferTo(n),l=(a||i).reverse,c=!a||a.reset;return createUpdate(_extends$1({},i,{loop:t,default:!1,pause:void 0,to:!l||isAsyncTo(e)?e:void 0,from:c?i.from:void 0,reset:c},a))}}function createUpdate(i){const{to:t,from:e}=i=inferTo(i),n=new Set;return is.obj(t)&&findDefined(t,n),is.obj(e)&&findDefined(e,n),i.keys=n.size?Array.from(n):null,i}function declareUpdate(i){const t=createUpdate(i);return is.und(t.default)&&(t.default=getDefaultProps(t)),t}function findDefined(i,t){eachProp(i,(e,n)=>e!=null&&t.add(n))}const ACTIVE_EVENTS=["onStart","onRest","onChange","onPause","onResume"];function mergeActiveFn(i,t,e){i.animation[e]=t[e]!==getDefaultProp(t,e)?resolveProp(t[e],i.key):void 0}function sendEvent(i,t,...e){var n,a,l,c;(n=(a=i.animation)[t])==null||n.call(a,...e),(l=(c=i.defaultProps)[t])==null||l.call(c,...e)}const BATCHED_EVENTS=["onStart","onChange","onRest"];let nextId=1;class Controller{constructor(t,e){this.id=nextId++,this.springs={},this.queue=[],this.ref=void 0,this._flush=void 0,this._initialProps=void 0,this._lastAsyncId=0,this._active=new Set,this._changed=new Set,this._started=!1,this._item=void 0,this._state={paused:!1,pauseQueue:new Set,resumeQueue:new Set,timeouts:new Set},this._events={onStart:new Map,onChange:new Map,onRest:new Map},this._onFrame=this._onFrame.bind(this),e&&(this._flush=e),t&&this.start(_extends$1({default:!0},t))}get idle(){return!this._state.asyncTo&&Object.values(this.springs).every(t=>t.idle&&!t.isDelayed&&!t.isPaused)}get item(){return this._item}set item(t){this._item=t}get(){const t={};return this.each((e,n)=>t[n]=e.get()),t}set(t){for(const e in t){const n=t[e];is.und(n)||this.springs[e].set(n)}}update(t){return t&&this.queue.push(createUpdate(t)),this}start(t){let{queue:e}=this;return t?e=toArray(t).map(createUpdate):this.queue=[],this._flush?this._flush(this,e):(prepareKeys(this,e),flushUpdateQueue(this,e))}stop(t,e){if(t!==!!t&&(e=t),e){const n=this.springs;each(toArray(e),a=>n[a].stop(!!t))}else stopAsync(this._state,this._lastAsyncId),this.each(n=>n.stop(!!t));return this}pause(t){if(is.und(t))this.start({pause:!0});else{const e=this.springs;each(toArray(t),n=>e[n].pause())}return this}resume(t){if(is.und(t))this.start({pause:!1});else{const e=this.springs;each(toArray(t),n=>e[n].resume())}return this}each(t){eachProp(this.springs,t)}_onFrame(){const{onStart:t,onChange:e,onRest:n}=this._events,a=this._active.size>0,l=this._changed.size>0;(a&&!this._started||l&&!this._started)&&(this._started=!0,flush(t,([d,m])=>{m.value=this.get(),d(m,this,this._item)}));const c=!a&&this._started,f=l||c&&n.size?this.get():null;l&&e.size&&flush(e,([d,m])=>{m.value=f,d(m,this,this._item)}),c&&(this._started=!1,flush(n,([d,m])=>{m.value=f,d(m,this,this._item)}))}eventObserved(t){if(t.type=="change")this._changed.add(t.parent),t.idle||this._active.add(t.parent);else if(t.type=="idle")this._active.delete(t.parent);else return;raf.onFrame(this._onFrame)}}function flushUpdateQueue(i,t){return Promise.all(t.map(e=>flushUpdate(i,e))).then(e=>getCombinedResult(i,e))}async function flushUpdate(i,t,e){const{keys:n,to:a,from:l,loop:c,onRest:f,onResolve:d}=t,m=is.obj(t.default)&&t.default;c&&(t.loop=!1),a===!1&&(t.to=null),l===!1&&(t.from=null);const y=is.arr(a)||is.fun(a)?a:void 0;y?(t.to=void 0,t.onRest=void 0,m&&(m.onRest=void 0)):each(BATCHED_EVENTS,T=>{const k=t[T];if(is.fun(k)){const S=i._events[T];t[T]=({finished:M,cancelled:P})=>{const R=S.get(k);R?(M||(R.finished=!1),P&&(R.cancelled=!0)):S.set(k,{value:null,finished:M||!1,cancelled:P||!1})},m&&(m[T]=t[T])}});const A=i._state;t.pause===!A.paused?(A.paused=t.pause,flushCalls(t.pause?A.pauseQueue:A.resumeQueue)):A.paused&&(t.pause=!0);const b=(n||Object.keys(i.springs)).map(T=>i.springs[T].start(t)),x=t.cancel===!0||getDefaultProp(t,"cancel")===!0;(y||x&&A.asyncId)&&b.push(scheduleProps(++i._lastAsyncId,{props:t,state:A,actions:{pause:noop,resume:noop,start(T,k){x?(stopAsync(A,i._lastAsyncId),k(getCancelledResult(i))):(T.onRest=f,k(runAsync(y,T,A,i)))}}})),A.paused&&await new Promise(T=>{A.resumeQueue.add(T)});const E=getCombinedResult(i,await Promise.all(b));if(c&&E.finished&&!(e&&E.noop)){const T=createLoopUpdate(t,c,a);if(T)return prepareKeys(i,[T]),flushUpdate(i,T,!0)}return d&&raf.batchedUpdates(()=>d(E,i,i.item)),E}function getSprings(i,t){const e=_extends$1({},i.springs);return t&&each(toArray(t),n=>{is.und(n.keys)&&(n=createUpdate(n)),is.obj(n.to)||(n=_extends$1({},n,{to:void 0})),prepareSprings(e,n,a=>createSpring(a))}),setSprings(i,e),e}function setSprings(i,t){eachProp(t,(e,n)=>{i.springs[n]||(i.springs[n]=e,addFluidObserver(e,i))})}function createSpring(i,t){const e=new SpringValue;return e.key=i,t&&addFluidObserver(e,t),e}function prepareSprings(i,t,e){t.keys&&each(t.keys,n=>{(i[n]||(i[n]=e(n)))._prepareNode(t)})}function prepareKeys(i,t){each(t,e=>{prepareSprings(i.springs,e,n=>createSpring(n,i))})}function _objectWithoutPropertiesLoose$3(i,t){if(i==null)return{};var e={},n=Object.keys(i),a,l;for(l=0;l<n.length;l++)a=n[l],!(t.indexOf(a)>=0)&&(e[a]=i[a]);return e}const _excluded$3$1=["children"],SpringContext=i=>{let{children:t}=i,e=_objectWithoutPropertiesLoose$3(i,_excluded$3$1);const n=reactExports.useContext(ctx),a=e.pause||!!n.pause,l=e.immediate||!!n.immediate;e=useMemoOne(()=>({pause:a,immediate:l}),[a,l]);const{Provider:c}=ctx;return reactExports.createElement(c,{value:e},t)},ctx=makeContext(SpringContext,{});SpringContext.Provider=ctx.Provider;SpringContext.Consumer=ctx.Consumer;function makeContext(i,t){return Object.assign(i,reactExports.createContext(t)),i.Provider._context=i,i.Consumer._context=i,i}const SpringRef=()=>{const i=[],t=function(a){deprecateDirectCall();const l=[];return each(i,(c,f)=>{if(is.und(a))l.push(c.start());else{const d=e(a,c,f);d&&l.push(c.start(d))}}),l};t.current=i,t.add=function(n){i.includes(n)||i.push(n)},t.delete=function(n){const a=i.indexOf(n);~a&&i.splice(a,1)},t.pause=function(){return each(i,n=>n.pause(...arguments)),this},t.resume=function(){return each(i,n=>n.resume(...arguments)),this},t.set=function(n){each(i,a=>a.set(n))},t.start=function(n){const a=[];return each(i,(l,c)=>{if(is.und(n))a.push(l.start());else{const f=this._getProps(n,l,c);f&&a.push(l.start(f))}}),a},t.stop=function(){return each(i,n=>n.stop(...arguments)),this},t.update=function(n){return each(i,(a,l)=>a.update(this._getProps(n,a,l))),this};const e=function(a,l,c){return is.fun(a)?a(c,l):a};return t._getProps=e,t};function useSprings(i,t,e){const n=is.fun(t)&&t;n&&!e&&(e=[]);const a=reactExports.useMemo(()=>n||arguments.length==3?SpringRef():void 0,[]),l=reactExports.useRef(0),c=useForceUpdate(),f=reactExports.useMemo(()=>({ctrls:[],queue:[],flush(S,M){const P=getSprings(S,M);return l.current>0&&!f.queue.length&&!Object.keys(P).some(D=>!S.springs[D])?flushUpdateQueue(S,M):new Promise(D=>{setSprings(S,P),f.queue.push(()=>{D(flushUpdateQueue(S,M))}),c()})}}),[]),d=reactExports.useRef([...f.ctrls]),m=[],y=usePrev(i)||0;reactExports.useMemo(()=>{each(d.current.slice(i,y),S=>{detachRefs(S,a),S.stop(!0)}),d.current.length=i,A(y,i)},[i]),reactExports.useMemo(()=>{A(0,Math.min(y,i))},e);function A(S,M){for(let P=S;P<M;P++){const R=d.current[P]||(d.current[P]=new Controller(null,f.flush)),D=n?n(P,R):t[P];D&&(m[P]=declareUpdate(D))}}const b=d.current.map((S,M)=>getSprings(S,m[M])),x=reactExports.useContext(SpringContext),E=usePrev(x),T=x!==E&&hasProps(x);useIsomorphicLayoutEffect(()=>{l.current++,f.ctrls=d.current;const{queue:S}=f;S.length&&(f.queue=[],each(S,M=>M())),each(d.current,(M,P)=>{a==null||a.add(M),T&&M.start({default:x});const R=m[P];R&&(replaceRef(M,R.ref),M.ref?M.queue.push(R):M.start(R))})}),useOnce(()=>()=>{each(f.ctrls,S=>S.stop(!0))});const k=b.map(S=>_extends$1({},S));return a?[k,a]:k}function useSpring(i,t){const e=is.fun(i),[[n],a]=useSprings(1,e?i:[i],e?t||[]:t);return e||arguments.length==2?[n,a]:n}const initSpringRef=()=>SpringRef(),useSpringRef=()=>reactExports.useState(initSpringRef)[0];function useTrail(i,t,e){var n;const a=is.fun(t)&&t;a&&!e&&(e=[]);let l=!0,c;const f=useSprings(i,(m,y)=>{const A=a?a(m,y):t;return c=A.ref,l=l&&A.reverse,A},e||[{}]),d=(n=c)!=null?n:f[1];return useIsomorphicLayoutEffect(()=>{each(d.current,(m,y)=>{const A=d.current[y+(l?1:-1)];A?m.start({to:A.springs}):m.start()})},e),a||arguments.length==3?(d._getProps=(m,y,A)=>{const b=is.fun(m)?m(A,y):m;if(b){const x=d.current[A+(b.reverse?1:-1)];return x&&(b.to=x.springs),b}},f):(d.start=m=>{const y=[];return each(d.current,(A,b)=>{const x=is.fun(m)?m(b,A):m,E=d.current[b+(l?1:-1)];E?y.push(A.start(_extends$1({},x,{to:E.springs}))):y.push(A.start(_extends$1({},x)))}),y},f[0])}let TransitionPhase;(function(i){i.MOUNT="mount",i.ENTER="enter",i.UPDATE="update",i.LEAVE="leave"})(TransitionPhase||(TransitionPhase={}));function useTransition(i,t,e){const n=is.fun(t)&&t,{reset:a,sort:l,trail:c=0,expires:f=!0,exitBeforeEnter:d=!1,onDestroyed:m,ref:y,config:A}=n?n():t,b=reactExports.useMemo(()=>n||arguments.length==3?SpringRef():void 0,[]),x=toArray(i),E=[],T=reactExports.useRef(null),k=a?null:T.current;useIsomorphicLayoutEffect(()=>{T.current=E}),useOnce(()=>(each(E,tt=>{b==null||b.add(tt.ctrl),tt.ctrl.ref=b}),()=>{each(T.current,tt=>{tt.expired&&clearTimeout(tt.expirationId),detachRefs(tt.ctrl,b),tt.ctrl.stop(!0)})}));const S=getKeys(x,n?n():t,k),M=a&&T.current||[];useIsomorphicLayoutEffect(()=>each(M,({ctrl:tt,item:W,key:O})=>{detachRefs(tt,b),callProp(m,W,O)}));const P=[];if(k&&each(k,(tt,W)=>{tt.expired?(clearTimeout(tt.expirationId),M.push(tt)):(W=P[W]=S.indexOf(tt.key),~W&&(E[W]=tt))}),each(x,(tt,W)=>{E[W]||(E[W]={key:S[W],item:tt,phase:TransitionPhase.MOUNT,ctrl:new Controller},E[W].ctrl.item=tt)}),P.length){let tt=-1;const{leave:W}=n?n():t;each(P,(O,H)=>{const F=k[H];~O?(tt=E.indexOf(F),E[tt]=_extends$1({},F,{item:x[O]})):W&&E.splice(++tt,0,F)})}is.fun(l)&&E.sort((tt,W)=>l(tt.item,W.item));let R=-c;const D=useForceUpdate(),L=getDefaultProps(t),G=new Map,q=reactExports.useRef(new Map),X=reactExports.useRef(!1);each(E,(tt,W)=>{const O=tt.key,H=tt.phase,F=n?n():t;let N,V,$=callProp(F.delay||0,O);if(H==TransitionPhase.MOUNT)N=F.enter,V=TransitionPhase.ENTER;else{const pt=S.indexOf(O)<0;if(H!=TransitionPhase.LEAVE)if(pt)N=F.leave,V=TransitionPhase.LEAVE;else if(N=F.update)V=TransitionPhase.UPDATE;else return;else if(!pt)N=F.enter,V=TransitionPhase.ENTER;else return}if(N=callProp(N,tt.item,W),N=is.obj(N)?inferTo(N):{to:N},!N.config){const pt=A||L.config;N.config=callProp(pt,tt.item,W,V)}R+=c;const Q=_extends$1({},L,{delay:$+R,ref:y,immediate:F.immediate,reset:!1},N);if(V==TransitionPhase.ENTER&&is.und(Q.from)){const pt=n?n():t,ht=is.und(pt.initial)||k?pt.from:pt.initial;Q.from=callProp(ht,tt.item,W)}const{onResolve:st}=Q;Q.onResolve=pt=>{callProp(st,pt);const ht=T.current,mt=ht.find(At=>At.key===O);if(mt&&!(pt.cancelled&&mt.phase!=TransitionPhase.UPDATE)&&mt.ctrl.idle){const At=ht.every(Ct=>Ct.ctrl.idle);if(mt.phase==TransitionPhase.LEAVE){const Ct=callProp(f,mt.item);if(Ct!==!1){const _t=Ct===!0?0:Ct;if(mt.expired=!0,!At&&_t>0){_t<=2147483647&&(mt.expirationId=setTimeout(D,_t));return}}}At&&ht.some(Ct=>Ct.expired)&&(q.current.delete(mt),d&&(X.current=!0),D())}};const rt=getSprings(tt.ctrl,Q);V===TransitionPhase.LEAVE&&d?q.current.set(tt,{phase:V,springs:rt,payload:Q}):G.set(tt,{phase:V,springs:rt,payload:Q})});const J=reactExports.useContext(SpringContext),et=usePrev(J),it=J!==et&&hasProps(J);useIsomorphicLayoutEffect(()=>{it&&each(E,tt=>{tt.ctrl.start({default:J})})},[J]),each(G,(tt,W)=>{if(q.current.size){const O=E.findIndex(H=>H.key===W.key);E.splice(O,1)}}),useIsomorphicLayoutEffect(()=>{each(q.current.size?q.current:G,({phase:tt,payload:W},O)=>{const{ctrl:H}=O;O.phase=tt,b==null||b.add(H),it&&tt==TransitionPhase.ENTER&&H.start({default:J}),W&&(replaceRef(H,W.ref),(H.ref||b)&&!X.current?H.update(W):(H.start(W),X.current&&(X.current=!1)))})},a?void 0:e);const lt=tt=>reactExports.createElement(reactExports.Fragment,null,E.map((W,O)=>{const{springs:H}=G.get(W)||W.ctrl,F=tt(_extends$1({},H),W.item,W,O);return F&&F.type?reactExports.createElement(F.type,_extends$1({},F.props,{key:is.str(W.key)||is.num(W.key)?W.key:W.ctrl.id,ref:F.ref})):F}));return b?[lt,b]:lt}let nextKey=1;function getKeys(i,{key:t,keys:e=t},n){if(e===null){const a=new Set;return i.map(l=>{const c=n&&n.find(f=>f.item===l&&f.phase!==TransitionPhase.LEAVE&&!a.has(f));return c?(a.add(c),c.key):nextKey++})}return is.und(e)?i:is.fun(e)?i.map(e):toArray(e)}const _excluded$2$2=["children"];function Spring(i){let{children:t}=i,e=_objectWithoutPropertiesLoose$3(i,_excluded$2$2);return t(useSpring(e))}const _excluded$1$2=["items","children"];function Trail(i){let{items:t,children:e}=i,n=_objectWithoutPropertiesLoose$3(i,_excluded$1$2);const a=useTrail(t.length,n);return t.map((l,c)=>{const f=e(l,c);return is.fun(f)?f(a[c]):f})}const _excluded$4=["items","children"];function Transition(i){let{items:t,children:e}=i,n=_objectWithoutPropertiesLoose$3(i,_excluded$4);return useTransition(t,n)(e)}class Interpolation extends FrameValue{constructor(t,e){super(),this.key=void 0,this.idle=!0,this.calc=void 0,this._active=new Set,this.source=t,this.calc=createInterpolator(...e);const n=this._get(),a=getAnimatedType(n);setAnimated(this,a.create(n))}advance(t){const e=this._get(),n=this.get();isEqual(e,n)||(getAnimated(this).setValue(e),this._onChange(e,this.idle)),!this.idle&&checkIdle(this._active)&&becomeIdle(this)}_get(){const t=is.arr(this.source)?this.source.map(getFluidValue):toArray(getFluidValue(this.source));return this.calc(...t)}_start(){this.idle&&!checkIdle(this._active)&&(this.idle=!1,each(getPayload(this),t=>{t.done=!1}),globals.skipAnimation?(raf.batchedUpdates(()=>this.advance()),becomeIdle(this)):frameLoop.start(this))}_attach(){let t=1;each(toArray(this.source),e=>{hasFluidValue(e)&&addFluidObserver(e,this),isFrameValue(e)&&(e.idle||this._active.add(e),t=Math.max(t,e.priority+1))}),this.priority=t,this._start()}_detach(){each(toArray(this.source),t=>{hasFluidValue(t)&&removeFluidObserver(t,this)}),this._active.clear(),becomeIdle(this)}eventObserved(t){t.type=="change"?t.idle?this.advance():(this._active.add(t.parent),this._start()):t.type=="idle"?this._active.delete(t.parent):t.type=="priority"&&(this.priority=toArray(this.source).reduce((e,n)=>Math.max(e,(isFrameValue(n)?n.priority:0)+1),0))}}function isIdle(i){return i.idle!==!1}function checkIdle(i){return!i.size||Array.from(i).every(isIdle)}function becomeIdle(i){i.idle||(i.idle=!0,each(getPayload(i),t=>{t.done=!0}),callFluidObservers(i,{type:"idle",parent:i}))}const to=(i,...t)=>new Interpolation(i,t),interpolate=(i,...t)=>(deprecateInterpolate(),new Interpolation(i,t));globals.assign({createStringInterpolator,to:(i,t)=>new Interpolation(i,t)});const update=frameLoop.advance;var reactDomExports=requireReactDom();function _objectWithoutPropertiesLoose$2(i,t){if(i==null)return{};var e={},n=Object.keys(i),a,l;for(l=0;l<n.length;l++)a=n[l],!(t.indexOf(a)>=0)&&(e[a]=i[a]);return e}const _excluded$2$1=["style","children","scrollTop","scrollLeft"],isCustomPropRE=/^--/;function dangerousStyleValue(i,t){return t==null||typeof t=="boolean"||t===""?"":typeof t=="number"&&t!==0&&!isCustomPropRE.test(i)&&!(isUnitlessNumber.hasOwnProperty(i)&&isUnitlessNumber[i])?t+"px":(""+t).trim()}const attributeCache={};function applyAnimatedValues(i,t){if(!i.nodeType||!i.setAttribute)return!1;const e=i.nodeName==="filter"||i.parentNode&&i.parentNode.nodeName==="filter",n=t,{style:a,children:l,scrollTop:c,scrollLeft:f}=n,d=_objectWithoutPropertiesLoose$2(n,_excluded$2$1),m=Object.values(d),y=Object.keys(d).map(A=>e||i.hasAttribute(A)?A:attributeCache[A]||(attributeCache[A]=A.replace(/([A-Z])/g,b=>"-"+b.toLowerCase())));l!==void 0&&(i.textContent=l);for(let A in a)if(a.hasOwnProperty(A)){const b=dangerousStyleValue(A,a[A]);isCustomPropRE.test(A)?i.style.setProperty(A,b):i.style[A]=b}y.forEach((A,b)=>{i.setAttribute(A,m[b])}),c!==void 0&&(i.scrollTop=c),f!==void 0&&(i.scrollLeft=f)}let isUnitlessNumber={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0};const prefixKey=(i,t)=>i+t.charAt(0).toUpperCase()+t.substring(1),prefixes=["Webkit","Ms","Moz","O"];isUnitlessNumber=Object.keys(isUnitlessNumber).reduce((i,t)=>(prefixes.forEach(e=>i[prefixKey(e,t)]=i[t]),i),isUnitlessNumber);const _excluded$1$1=["x","y","z"],domTransforms=/^(matrix|translate|scale|rotate|skew)/,pxTransforms=/^(translate)/,degTransforms=/^(rotate|skew)/,addUnit=(i,t)=>is.num(i)&&i!==0?i+t:i,isValueIdentity=(i,t)=>is.arr(i)?i.every(e=>isValueIdentity(e,t)):is.num(i)?i===t:parseFloat(i)===t;class AnimatedStyle extends AnimatedObject{constructor(t){let{x:e,y:n,z:a}=t,l=_objectWithoutPropertiesLoose$2(t,_excluded$1$1);const c=[],f=[];(e||n||a)&&(c.push([e||0,n||0,a||0]),f.push(d=>[`translate3d(${d.map(m=>addUnit(m,"px")).join(",")})`,isValueIdentity(d,0)])),eachProp(l,(d,m)=>{if(m==="transform")c.push([d||""]),f.push(y=>[y,y===""]);else if(domTransforms.test(m)){if(delete l[m],is.und(d))return;const y=pxTransforms.test(m)?"px":degTransforms.test(m)?"deg":"";c.push(toArray(d)),f.push(m==="rotate3d"?([A,b,x,E])=>[`rotate3d(${A},${b},${x},${addUnit(E,y)})`,isValueIdentity(E,0)]:A=>[`${m}(${A.map(b=>addUnit(b,y)).join(",")})`,isValueIdentity(A,m.startsWith("scale")?1:0)])}}),c.length&&(l.transform=new FluidTransform(c,f)),super(l)}}class FluidTransform extends FluidValue{constructor(t,e){super(),this._value=null,this.inputs=t,this.transforms=e}get(){return this._value||(this._value=this._get())}_get(){let t="",e=!0;return each(this.inputs,(n,a)=>{const l=getFluidValue(n[0]),[c,f]=this.transforms[a](is.arr(l)?l:n.map(getFluidValue));t+=" "+c,e=e&&f}),e?"none":t}observerAdded(t){t==1&&each(this.inputs,e=>each(e,n=>hasFluidValue(n)&&addFluidObserver(n,this)))}observerRemoved(t){t==0&&each(this.inputs,e=>each(e,n=>hasFluidValue(n)&&removeFluidObserver(n,this)))}eventObserved(t){t.type=="change"&&(this._value=null),callFluidObservers(this,t)}}const primitives=["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"],_excluded$3=["scrollTop","scrollLeft"];globals.assign({batchedUpdates:reactDomExports.unstable_batchedUpdates,createStringInterpolator,colors});const host=createHost(primitives,{applyAnimatedValues,createAnimatedStyle:i=>new AnimatedStyle(i),getComponentProps:i=>_objectWithoutPropertiesLoose$2(i,_excluded$3)}),animated=host.animated,reactSpringWeb_esm=Object.freeze(Object.defineProperty({__proto__:null,BailSignal,Controller,FrameValue,Globals:globals,Interpolation,Spring,SpringContext,SpringRef,SpringValue,Trail,Transition,a:animated,animated,config,createInterpolator,easings,inferTo,interpolate,to,update,useChain,useIsomorphicLayoutEffect,useReducedMotion,useSpring,useSpringRef,useSprings,useTrail,useTransition},Symbol.toStringTag,{value:"Module"})),require$$1=getAugmentedNamespace(reactSpringWeb_esm);var useWindowSize_1,hasRequiredUseWindowSize;function requireUseWindowSize(){if(hasRequiredUseWindowSize)return useWindowSize_1;hasRequiredUseWindowSize=1;const{useState:i,useEffect:t}=requireReact();function e(){const[n,a]=i({width:void 0,height:void 0});return t(()=>{function l(){a({width:window.innerWidth,height:window.innerHeight})}return window.addEventListener("resize",l),l(),()=>window.removeEventListener("resize",l)},[]),n}return useWindowSize_1=e,useWindowSize_1}var reactTinderCard,hasRequiredReactTinderCard;function requireReactTinderCard(){if(hasRequiredReactTinderCard)return reactTinderCard;hasRequiredReactTinderCard=1;const i=requireReact(),{useSpring:t,animated:e}=require$$1,n=requireUseWindowSize(),a={maxTilt:25,swipeThreshold:.5},l={touchResponsive:{friction:50,tension:2e3},animateBack:{friction:10,tension:200}},c=(x,E)=>Math.sqrt(Math.pow(x,2)+Math.pow(E,2)),f=x=>{const E=Math.sqrt(Math.pow(x.x,2)+Math.pow(x.y,2));return{x:x.x/E,y:x.y/E}},d=async(x,E,T,k)=>{const S=c(T,k),M=c(x.x,x.y),P=S*x.x,R=S*x.y,D=x.x*45,L=S/M;return E.start({xyrot:[P,R,D],config:{duration:L}}),await new Promise(G=>setTimeout(()=>{G()},L))},m=x=>new Promise(E=>{x.start({xyrot:[0,0,0],config:l.animateBack,onRest:E})}),y=x=>{if(Math.abs(x.x)>Math.abs(x.y)){if(x.x>a.swipeThreshold)return"right";if(x.x<-a.swipeThreshold)return"left"}else{if(x.y>a.swipeThreshold)return"down";if(x.y<-a.swipeThreshold)return"up"}return"none"},A=e.div;return reactTinderCard=i.forwardRef(({flickOnSwipe:x=!0,children:E,onSwipe:T,onCardLeftScreen:k,className:S,preventSwipe:M=[],swipeRequirementType:P="velocity",swipeThreshold:R=a.swipeThreshold,onSwipeRequirementFulfilled:D,onSwipeRequirementUnfulfilled:L},G)=>{const{width:q,height:X}=n(),[{xyrot:J},et]=t(()=>({xyrot:[0,0,0],config:l.touchResponsive}));a.swipeThreshold=R,i.useImperativeHandle(G,()=>({async swipe(O="right"){T&&T(O);const H=1.3,F=(Math.random()-.5)/2;O==="right"?await d({x:H,y:F},et,q,X):O==="left"?await d({x:-1.3,y:F},et,q,X):O==="up"?await d({x:F,y:-1.3},et,q,X):O==="down"&&await d({x:F,y:H},et,q,X),k&&k(O)},async restoreCard(){await m(et)}}));const it=i.useCallback(async(O,H)=>{const F=y({x:P==="velocity"?H.vx:H.dx,y:P==="velocity"?H.vy:H.dy});if(F!=="none"&&x&&!M.includes(F)){T&&T(F),await d(P==="velocity"?{x:H.vx,y:H.vy}:f({x:H.dx,y:H.dy}),O,q,X),k&&k(F);return}m(O)},[P,x,M,T,k,q,X]);let lt="none";const tt=(O,H,F,N)=>{let V=N?O.touches[0].clientX-H.x:O.clientX-H.x,$=N?O.touches[0].clientY-H.y:O.clientY-H.y;H.x===0&&H.y===0&&(V=0,$=0);const Q=-(V-F.dx)/(F.timeStamp-Date.now()),st=-($-F.dy)/(F.timeStamp-Date.now());return{dx:V,dy:$,vx:Q,vy:st,timeStamp:Date.now()}};i.useLayoutEffect(()=>{let O={x:0,y:0},H={dx:0,dy:0,vx:0,vy:0,timeStamp:Date.now()},F=!1;const N=ht=>{!ht.srcElement.className.includes("pressable")&&ht.cancelable&&ht.preventDefault(),H=tt(ht,O,H,!0),O={x:ht.touches[0].clientX,y:ht.touches[0].clientY}};W.current.addEventListener("touchstart",N);const V=ht=>{F=!0,H=tt(ht,O,H,!1),O={x:ht.clientX,y:ht.clientY}};W.current.addEventListener("mousedown",V);const $=ht=>{if(D||L){const At=y({x:P==="velocity"?ht.vx:ht.dx,y:P==="velocity"?ht.vy:ht.dy});At!==lt&&(lt=At,lt==="none"?L&&L():D&&D(At))}let mt=ht.vx*15;isNaN(mt)&&(mt=0),mt=Math.max(Math.min(mt,a.maxTilt),-25),et.start({xyrot:[ht.dx,ht.dy,mt],config:l.touchResponsive})},Q=ht=>{if(!F)return;const mt=tt(ht,O,H,!1);H=mt,$(mt)};window.addEventListener("mousemove",Q);const st=ht=>{F&&(F=!1,it(et,H),O={x:0,y:0},H={dx:0,dy:0,vx:0,vy:0,timeStamp:Date.now()})};window.addEventListener("mouseup",st);const rt=ht=>{const mt=tt(ht,O,H,!0);H=mt,$(mt)};W.current.addEventListener("touchmove",rt);const pt=ht=>{it(et,H),O={x:0,y:0},H={dx:0,dy:0,vx:0,vy:0,timeStamp:Date.now()}};return W.current.addEventListener("touchend",pt),()=>{W.current.removeEventListener("touchstart",N),W.current.removeEventListener("touchmove",rt),W.current.removeEventListener("touchend",pt),window.removeEventListener("mousemove",Q),window.removeEventListener("mouseup",st),W.current.removeEventListener("mousedown",V)}},[it,et,D,L]);const W=i.useRef();return i.createElement(A,{ref:W,className:S,style:{transform:J.to((O,H,F)=>`translate3d(${O}px, ${H}px, 0px) rotate(${F}deg)`)},children:E})}),reactTinderCard}var reactTinderCardExports=requireReactTinderCard();const TinderCard=getDefaultExportFromCjs(reactTinderCardExports),scriptRel="modulepreload",assetsURL=function(i){return"/BeTheJudge/"+i},seen={},__vitePreload=function(t,e,n){let a=Promise.resolve();if(e&&e.length>0){document.getElementsByTagName("link");const c=document.querySelector("meta[property=csp-nonce]"),f=(c==null?void 0:c.nonce)||(c==null?void 0:c.getAttribute("nonce"));a=Promise.allSettled(e.map(d=>{if(d=assetsURL(d),d in seen)return;seen[d]=!0;const m=d.endsWith(".css"),y=m?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${d}"]${y}`))return;const A=document.createElement("link");if(A.rel=m?"stylesheet":scriptRel,m||(A.as="script"),A.crossOrigin="",A.href=d,f&&A.setAttribute("nonce",f),document.head.appendChild(A),m)return new Promise((b,x)=>{A.addEventListener("load",b),A.addEventListener("error",()=>x(new Error(`Unable to preload CSS for ${d}`)))})}))}function l(c){const f=new Event("vite:preloadError",{cancelable:!0});if(f.payload=c,window.dispatchEvent(f),!f.defaultPrevented)throw c}return a.then(c=>{for(const f of c||[])f.status==="rejected"&&l(f.reason);return t().catch(l)})};var __webpack_require__={};__webpack_require__.d=(i,t)=>{for(var e in t)__webpack_require__.o(t,e)&&!__webpack_require__.o(i,e)&&Object.defineProperty(i,e,{enumerable:!0,get:t[e]})};__webpack_require__.o=(i,t)=>Object.prototype.hasOwnProperty.call(i,t);var __webpack_exports__=globalThis.pdfjsLib={};__webpack_require__.d(__webpack_exports__,{AbortException:()=>AbortException,AnnotationEditorLayer:()=>AnnotationEditorLayer,AnnotationEditorParamsType:()=>AnnotationEditorParamsType,AnnotationEditorType:()=>AnnotationEditorType,AnnotationEditorUIManager:()=>AnnotationEditorUIManager,AnnotationLayer:()=>AnnotationLayer$1,AnnotationMode:()=>AnnotationMode,ColorPicker:()=>ColorPicker,DOMSVGFactory:()=>DOMSVGFactory,DrawLayer:()=>DrawLayer,FeatureTest:()=>util_FeatureTest,GlobalWorkerOptions:()=>GlobalWorkerOptions,ImageKind:()=>util_ImageKind,InvalidPDFException:()=>InvalidPDFException,MissingPDFException:()=>MissingPDFException,OPS:()=>OPS,OutputScale:()=>OutputScale,PDFDataRangeTransport:()=>PDFDataRangeTransport$1,PDFDateString:()=>PDFDateString,PDFWorker:()=>PDFWorker,PasswordResponses:()=>PasswordResponses$1,PermissionFlag:()=>PermissionFlag,PixelsPerInch:()=>PixelsPerInch,RenderingCancelledException:()=>RenderingCancelledException,TextLayer:()=>TextLayer$1,UnexpectedResponseException:()=>UnexpectedResponseException,Util:()=>Util,VerbosityLevel:()=>VerbosityLevel,XfaLayer:()=>XfaLayer,build:()=>build,createValidAbsoluteUrl:()=>createValidAbsoluteUrl,fetchData:()=>fetchData,getDocument:()=>getDocument,getFilenameFromUrl:()=>getFilenameFromUrl,getPdfFilenameFromUrl:()=>getPdfFilenameFromUrl,getXfaPageViewport:()=>getXfaPageViewport,isDataScheme:()=>isDataScheme,isPdfFile:()=>isPdfFile,noContextMenu:()=>noContextMenu,normalizeUnicode:()=>normalizeUnicode,setLayerDimensions:()=>setLayerDimensions,shadow:()=>shadow,version:()=>version});const isNodeJS=typeof process=="object"&&process+""=="[object process]"&&!process.versions.nw&&!(process.versions.electron&&process.type&&process.type!=="browser"),IDENTITY_MATRIX=[1,0,0,1,0,0],FONT_IDENTITY_MATRIX=[.001,0,0,.001,0,0],MAX_IMAGE_SIZE_TO_CACHE=1e7,LINE_FACTOR=1.35,RenderingIntentFlag={ANY:1,DISPLAY:2,PRINT:4,ANNOTATIONS_FORMS:16,ANNOTATIONS_STORAGE:32,ANNOTATIONS_DISABLE:64,IS_EDITING:128,OPLIST:256},AnnotationMode={DISABLE:0,ENABLE:1,ENABLE_FORMS:2,ENABLE_STORAGE:3},AnnotationEditorPrefix="pdfjs_internal_editor_",AnnotationEditorType={DISABLE:-1,NONE:0,FREETEXT:3,HIGHLIGHT:9,STAMP:13,INK:15},AnnotationEditorParamsType={RESIZE:1,CREATE:2,FREETEXT_SIZE:11,FREETEXT_COLOR:12,FREETEXT_OPACITY:13,INK_COLOR:21,INK_THICKNESS:22,INK_OPACITY:23,HIGHLIGHT_COLOR:31,HIGHLIGHT_DEFAULT_COLOR:32,HIGHLIGHT_THICKNESS:33,HIGHLIGHT_FREE:34,HIGHLIGHT_SHOW_ALL:35},PermissionFlag={PRINT:4,MODIFY_CONTENTS:8,COPY:16,MODIFY_ANNOTATIONS:32,FILL_INTERACTIVE_FORMS:256,COPY_FOR_ACCESSIBILITY:512,ASSEMBLE:1024,PRINT_HIGH_QUALITY:2048},TextRenderingMode={FILL:0,STROKE:1,FILL_STROKE:2,INVISIBLE:3,FILL_STROKE_MASK:3,ADD_TO_PATH_FLAG:4},util_ImageKind={GRAYSCALE_1BPP:1,RGB_24BPP:2,RGBA_32BPP:3},AnnotationType={TEXT:1,LINK:2,FREETEXT:3,LINE:4,SQUARE:5,CIRCLE:6,POLYGON:7,POLYLINE:8,HIGHLIGHT:9,UNDERLINE:10,SQUIGGLY:11,STRIKEOUT:12,STAMP:13,CARET:14,INK:15,POPUP:16,FILEATTACHMENT:17,WIDGET:20},AnnotationBorderStyleType={SOLID:1,DASHED:2,BEVELED:3,INSET:4,UNDERLINE:5},VerbosityLevel={ERRORS:0,WARNINGS:1,INFOS:5},OPS={dependency:1,setLineWidth:2,setLineCap:3,setLineJoin:4,setMiterLimit:5,setDash:6,setRenderingIntent:7,setFlatness:8,setGState:9,save:10,restore:11,transform:12,moveTo:13,lineTo:14,curveTo:15,curveTo2:16,curveTo3:17,closePath:18,rectangle:19,stroke:20,closeStroke:21,fill:22,eoFill:23,fillStroke:24,eoFillStroke:25,closeFillStroke:26,closeEOFillStroke:27,endPath:28,clip:29,eoClip:30,beginText:31,endText:32,setCharSpacing:33,setWordSpacing:34,setHScale:35,setLeading:36,setFont:37,setTextRenderingMode:38,setTextRise:39,moveText:40,setLeadingMoveText:41,setTextMatrix:42,nextLine:43,showText:44,showSpacedText:45,nextLineShowText:46,nextLineSetSpacingShowText:47,setCharWidth:48,setCharWidthAndBounds:49,setStrokeColorSpace:50,setFillColorSpace:51,setStrokeColor:52,setStrokeColorN:53,setFillColor:54,setFillColorN:55,setStrokeGray:56,setFillGray:57,setStrokeRGBColor:58,setFillRGBColor:59,setStrokeCMYKColor:60,setFillCMYKColor:61,shadingFill:62,beginInlineImage:63,beginImageData:64,endInlineImage:65,paintXObject:66,markPoint:67,markPointProps:68,beginMarkedContent:69,beginMarkedContentProps:70,endMarkedContent:71,beginCompat:72,endCompat:73,paintFormXObjectBegin:74,paintFormXObjectEnd:75,beginGroup:76,endGroup:77,beginAnnotation:80,endAnnotation:81,paintImageMaskXObject:83,paintImageMaskXObjectGroup:84,paintImageXObject:85,paintInlineImageXObject:86,paintInlineImageXObjectGroup:87,paintImageXObjectRepeat:88,paintImageMaskXObjectRepeat:89,paintSolidColorImageMask:90,constructPath:91,setStrokeTransparent:92,setFillTransparent:93},PasswordResponses$1={NEED_PASSWORD:1,INCORRECT_PASSWORD:2};let verbosity=VerbosityLevel.WARNINGS;function setVerbosityLevel(i){Number.isInteger(i)&&(verbosity=i)}function getVerbosityLevel(){return verbosity}function info(i){verbosity>=VerbosityLevel.INFOS&&console.log(`Info: ${i}`)}function warn(i){verbosity>=VerbosityLevel.WARNINGS&&console.log(`Warning: ${i}`)}function unreachable(i){throw new Error(i)}function assert(i,t){i||unreachable(t)}function _isValidProtocol(i){switch(i==null?void 0:i.protocol){case"http:":case"https:":case"ftp:":case"mailto:":case"tel:":return!0;default:return!1}}function createValidAbsoluteUrl(i,t=null,e=null){if(!i)return null;try{if(e&&typeof i=="string"){if(e.addDefaultProtocol&&i.startsWith("www.")){const a=i.match(/\./g);(a==null?void 0:a.length)>=2&&(i=`http://${i}`)}if(e.tryConvertEncoding)try{i=stringToUTF8String(i)}catch{}}const n=t?new URL(i,t):new URL(i);if(_isValidProtocol(n))return n}catch{}return null}function shadow(i,t,e,n=!1){return Object.defineProperty(i,t,{value:e,enumerable:!n,configurable:!0,writable:!1}),e}const BaseException=function(){function t(e,n){this.message=e,this.name=n}return t.prototype=new Error,t.constructor=t,t}();class PasswordException extends BaseException{constructor(t,e){super(t,"PasswordException"),this.code=e}}class UnknownErrorException extends BaseException{constructor(t,e){super(t,"UnknownErrorException"),this.details=e}}class InvalidPDFException extends BaseException{constructor(t){super(t,"InvalidPDFException")}}class MissingPDFException extends BaseException{constructor(t){super(t,"MissingPDFException")}}class UnexpectedResponseException extends BaseException{constructor(t,e){super(t,"UnexpectedResponseException"),this.status=e}}class FormatError extends BaseException{constructor(t){super(t,"FormatError")}}class AbortException extends BaseException{constructor(t){super(t,"AbortException")}}function bytesToString(i){(typeof i!="object"||(i==null?void 0:i.length)===void 0)&&unreachable("Invalid argument for bytesToString");const t=i.length,e=8192;if(t<e)return String.fromCharCode.apply(null,i);const n=[];for(let a=0;a<t;a+=e){const l=Math.min(a+e,t),c=i.subarray(a,l);n.push(String.fromCharCode.apply(null,c))}return n.join("")}function stringToBytes(i){typeof i!="string"&&unreachable("Invalid argument for stringToBytes");const t=i.length,e=new Uint8Array(t);for(let n=0;n<t;++n)e[n]=i.charCodeAt(n)&255;return e}function string32(i){return String.fromCharCode(i>>24&255,i>>16&255,i>>8&255,i&255)}function objectFromMap(i){const t=Object.create(null);for(const[e,n]of i)t[e]=n;return t}function isLittleEndian(){const i=new Uint8Array(4);return i[0]=1,new Uint32Array(i.buffer,0,1)[0]===1}function isEvalSupported(){try{return new Function(""),!0}catch{return!1}}class util_FeatureTest{static get isLittleEndian(){return shadow(this,"isLittleEndian",isLittleEndian())}static get isEvalSupported(){return shadow(this,"isEvalSupported",isEvalSupported())}static get isOffscreenCanvasSupported(){return shadow(this,"isOffscreenCanvasSupported",typeof OffscreenCanvas<"u")}static get platform(){return typeof navigator<"u"&&typeof(navigator==null?void 0:navigator.platform)=="string"?shadow(this,"platform",{isMac:navigator.platform.includes("Mac"),isWindows:navigator.platform.includes("Win"),isFirefox:typeof(navigator==null?void 0:navigator.userAgent)=="string"&&navigator.userAgent.includes("Firefox")}):shadow(this,"platform",{isMac:!1,isWindows:!1,isFirefox:!1})}static get isCSSRoundSupported(){var t,e;return shadow(this,"isCSSRoundSupported",(e=(t=globalThis.CSS)==null?void 0:t.supports)==null?void 0:e.call(t,"width: round(1.5px, 1px)"))}}const hexNumbers=Array.from(Array(256).keys(),i=>i.toString(16).padStart(2,"0"));var js,Xf,Ym;class Util{static makeHexColor(t,e,n){return`#${hexNumbers[t]}${hexNumbers[e]}${hexNumbers[n]}`}static scaleMinMax(t,e){let n;t[0]?(t[0]<0&&(n=e[0],e[0]=e[2],e[2]=n),e[0]*=t[0],e[2]*=t[0],t[3]<0&&(n=e[1],e[1]=e[3],e[3]=n),e[1]*=t[3],e[3]*=t[3]):(n=e[0],e[0]=e[1],e[1]=n,n=e[2],e[2]=e[3],e[3]=n,t[1]<0&&(n=e[1],e[1]=e[3],e[3]=n),e[1]*=t[1],e[3]*=t[1],t[2]<0&&(n=e[0],e[0]=e[2],e[2]=n),e[0]*=t[2],e[2]*=t[2]),e[0]+=t[4],e[1]+=t[5],e[2]+=t[4],e[3]+=t[5]}static transform(t,e){return[t[0]*e[0]+t[2]*e[1],t[1]*e[0]+t[3]*e[1],t[0]*e[2]+t[2]*e[3],t[1]*e[2]+t[3]*e[3],t[0]*e[4]+t[2]*e[5]+t[4],t[1]*e[4]+t[3]*e[5]+t[5]]}static applyTransform(t,e){const n=t[0]*e[0]+t[1]*e[2]+e[4],a=t[0]*e[1]+t[1]*e[3]+e[5];return[n,a]}static applyInverseTransform(t,e){const n=e[0]*e[3]-e[1]*e[2],a=(t[0]*e[3]-t[1]*e[2]+e[2]*e[5]-e[4]*e[3])/n,l=(-t[0]*e[1]+t[1]*e[0]+e[4]*e[1]-e[5]*e[0])/n;return[a,l]}static getAxialAlignedBoundingBox(t,e){const n=this.applyTransform(t,e),a=this.applyTransform(t.slice(2,4),e),l=this.applyTransform([t[0],t[3]],e),c=this.applyTransform([t[2],t[1]],e);return[Math.min(n[0],a[0],l[0],c[0]),Math.min(n[1],a[1],l[1],c[1]),Math.max(n[0],a[0],l[0],c[0]),Math.max(n[1],a[1],l[1],c[1])]}static inverseTransform(t){const e=t[0]*t[3]-t[1]*t[2];return[t[3]/e,-t[1]/e,-t[2]/e,t[0]/e,(t[2]*t[5]-t[4]*t[3])/e,(t[4]*t[1]-t[5]*t[0])/e]}static singularValueDecompose2dScale(t){const e=[t[0],t[2],t[1],t[3]],n=t[0]*e[0]+t[1]*e[2],a=t[0]*e[1]+t[1]*e[3],l=t[2]*e[0]+t[3]*e[2],c=t[2]*e[1]+t[3]*e[3],f=(n+c)/2,d=Math.sqrt((n+c)**2-4*(n*c-l*a))/2,m=f+d||1,y=f-d||1;return[Math.sqrt(m),Math.sqrt(y)]}static normalizeRect(t){const e=t.slice(0);return t[0]>t[2]&&(e[0]=t[2],e[2]=t[0]),t[1]>t[3]&&(e[1]=t[3],e[3]=t[1]),e}static intersect(t,e){const n=Math.max(Math.min(t[0],t[2]),Math.min(e[0],e[2])),a=Math.min(Math.max(t[0],t[2]),Math.max(e[0],e[2]));if(n>a)return null;const l=Math.max(Math.min(t[1],t[3]),Math.min(e[1],e[3])),c=Math.min(Math.max(t[1],t[3]),Math.max(e[1],e[3]));return l>c?null:[n,l,a,c]}static bezierBoundingBox(t,e,n,a,l,c,f,d,m){return m?(m[0]=Math.min(m[0],t,f),m[1]=Math.min(m[1],e,d),m[2]=Math.max(m[2],t,f),m[3]=Math.max(m[3],e,d)):m=[Math.min(t,f),Math.min(e,d),Math.max(t,f),Math.max(e,d)],z(this,js,Ym).call(this,t,n,l,f,e,a,c,d,3*(-t+3*(n-l)+f),6*(t-2*n+l),3*(n-t),m),z(this,js,Ym).call(this,t,n,l,f,e,a,c,d,3*(-e+3*(a-c)+d),6*(e-2*a+c),3*(a-e),m),m}}js=new WeakSet,Xf=function(t,e,n,a,l,c,f,d,m,y){if(m<=0||m>=1)return;const A=1-m,b=m*m,x=b*m,E=A*(A*(A*t+3*m*e)+3*b*n)+x*a,T=A*(A*(A*l+3*m*c)+3*b*f)+x*d;y[0]=Math.min(y[0],E),y[1]=Math.min(y[1],T),y[2]=Math.max(y[2],E),y[3]=Math.max(y[3],T)},Ym=function(t,e,n,a,l,c,f,d,m,y,A,b){if(Math.abs(m)<1e-12){Math.abs(y)>=1e-12&&z(this,js,Xf).call(this,t,e,n,a,l,c,f,d,-A/y,b);return}const x=y**2-4*A*m;if(x<0)return;const E=Math.sqrt(x),T=2*m;z(this,js,Xf).call(this,t,e,n,a,l,c,f,d,(-y+E)/T,b),z(this,js,Xf).call(this,t,e,n,a,l,c,f,d,(-y-E)/T,b)},U(Util,js);function stringToUTF8String(i){return decodeURIComponent(escape(i))}let NormalizeRegex=null,NormalizationMap=null;function normalizeUnicode(i){return NormalizeRegex||(NormalizeRegex=/([\u00a0\u00b5\u037e\u0eb3\u2000-\u200a\u202f\u2126\ufb00-\ufb04\ufb06\ufb20-\ufb36\ufb38-\ufb3c\ufb3e\ufb40-\ufb41\ufb43-\ufb44\ufb46-\ufba1\ufba4-\ufba9\ufbae-\ufbb1\ufbd3-\ufbdc\ufbde-\ufbe7\ufbea-\ufbf8\ufbfc-\ufbfd\ufc00-\ufc5d\ufc64-\ufcf1\ufcf5-\ufd3d\ufd88\ufdf4\ufdfa-\ufdfb\ufe71\ufe77\ufe79\ufe7b\ufe7d]+)|(\ufb05+)/gu,NormalizationMap=new Map([["ﬅ","ſt"]])),i.replaceAll(NormalizeRegex,(t,e,n)=>e?e.normalize("NFKC"):NormalizationMap.get(n))}function getUuid(){if(typeof crypto<"u"&&typeof(crypto==null?void 0:crypto.randomUUID)=="function")return crypto.randomUUID();const i=new Uint8Array(32);if(typeof crypto<"u"&&typeof(crypto==null?void 0:crypto.getRandomValues)=="function")crypto.getRandomValues(i);else for(let t=0;t<32;t++)i[t]=Math.floor(Math.random()*255);return bytesToString(i)}const AnnotationPrefix="pdfjs_internal_id_",FontRenderOps={BEZIER_CURVE_TO:0,MOVE_TO:1,LINE_TO:2,QUADRATIC_CURVE_TO:3,RESTORE:4,SAVE:5,SCALE:6,TRANSFORM:7,TRANSLATE:8};function toBase64Util(i){return Uint8Array.prototype.toBase64?i.toBase64():btoa(bytesToString(i))}const SVG_NS="http://www.w3.org/2000/svg",Aa=class Aa{};Mt(Aa,"CSS",96),Mt(Aa,"PDF",72),Mt(Aa,"PDF_TO_CSS_UNITS",Aa.CSS/Aa.PDF);let PixelsPerInch=Aa;async function fetchData(i,t="text"){if(isValidFetchUrl(i,document.baseURI)){const e=await fetch(i);if(!e.ok)throw new Error(e.statusText);switch(t){case"arraybuffer":return e.arrayBuffer();case"blob":return e.blob();case"json":return e.json()}return e.text()}return new Promise((e,n)=>{const a=new XMLHttpRequest;a.open("GET",i,!0),a.responseType=t,a.onreadystatechange=()=>{if(a.readyState===XMLHttpRequest.DONE){if(a.status===200||a.status===0){switch(t){case"arraybuffer":case"blob":case"json":e(a.response);return}e(a.responseText);return}n(new Error(a.statusText))}},a.send(null)})}class PageViewport{constructor({viewBox:t,scale:e,rotation:n,offsetX:a=0,offsetY:l=0,dontFlip:c=!1}){this.viewBox=t,this.scale=e,this.rotation=n,this.offsetX=a,this.offsetY=l;const f=(t[2]+t[0])/2,d=(t[3]+t[1])/2;let m,y,A,b;switch(n%=360,n<0&&(n+=360),n){case 180:m=-1,y=0,A=0,b=1;break;case 90:m=0,y=1,A=1,b=0;break;case 270:m=0,y=-1,A=-1,b=0;break;case 0:m=1,y=0,A=0,b=-1;break;default:throw new Error("PageViewport: Invalid rotation, must be a multiple of 90 degrees.")}c&&(A=-A,b=-b);let x,E,T,k;m===0?(x=Math.abs(d-t[1])*e+a,E=Math.abs(f-t[0])*e+l,T=(t[3]-t[1])*e,k=(t[2]-t[0])*e):(x=Math.abs(f-t[0])*e+a,E=Math.abs(d-t[1])*e+l,T=(t[2]-t[0])*e,k=(t[3]-t[1])*e),this.transform=[m*e,y*e,A*e,b*e,x-m*e*f-A*e*d,E-y*e*f-b*e*d],this.width=T,this.height=k}get rawDims(){const{viewBox:t}=this;return shadow(this,"rawDims",{pageWidth:t[2]-t[0],pageHeight:t[3]-t[1],pageX:t[0],pageY:t[1]})}clone({scale:t=this.scale,rotation:e=this.rotation,offsetX:n=this.offsetX,offsetY:a=this.offsetY,dontFlip:l=!1}={}){return new PageViewport({viewBox:this.viewBox.slice(),scale:t,rotation:e,offsetX:n,offsetY:a,dontFlip:l})}convertToViewportPoint(t,e){return Util.applyTransform([t,e],this.transform)}convertToViewportRectangle(t){const e=Util.applyTransform([t[0],t[1]],this.transform),n=Util.applyTransform([t[2],t[3]],this.transform);return[e[0],e[1],n[0],n[1]]}convertToPdfPoint(t,e){return Util.applyInverseTransform([t,e],this.transform)}}class RenderingCancelledException extends BaseException{constructor(t,e=0){super(t,"RenderingCancelledException"),this.extraDelay=e}}function isDataScheme(i){const t=i.length;let e=0;for(;e<t&&i[e].trim()==="";)e++;return i.substring(e,e+5).toLowerCase()==="data:"}function isPdfFile(i){return typeof i=="string"&&/\.pdf$/i.test(i)}function getFilenameFromUrl(i){return[i]=i.split(/[#?]/,1),i.substring(i.lastIndexOf("/")+1)}function getPdfFilenameFromUrl(i,t="document.pdf"){if(typeof i!="string")return t;if(isDataScheme(i))return warn('getPdfFilenameFromUrl: ignore "data:"-URL for performance reasons.'),t;const e=/^(?:(?:[^:]+:)?\/\/[^/]+)?([^?#]*)(\?[^#]*)?(#.*)?$/,n=/[^/?#=]+\.pdf\b(?!.*\.pdf\b)/i,a=e.exec(i);let l=n.exec(a[1])||n.exec(a[2])||n.exec(a[3]);if(l&&(l=l[0],l.includes("%")))try{l=n.exec(decodeURIComponent(l))[0]}catch{}return l||t}class StatTimer{constructor(){Mt(this,"started",Object.create(null));Mt(this,"times",[])}time(t){t in this.started&&warn(`Timer is already running for ${t}`),this.started[t]=Date.now()}timeEnd(t){t in this.started||warn(`Timer has not been started for ${t}`),this.times.push({name:t,start:this.started[t],end:Date.now()}),delete this.started[t]}toString(){const t=[];let e=0;for(const{name:n}of this.times)e=Math.max(n.length,e);for(const{name:n,start:a,end:l}of this.times)t.push(`${n.padEnd(e)} ${l-a}ms
`);return t.join("")}}function isValidFetchUrl(i,t){try{const{protocol:e}=t?new URL(i,t):new URL(i);return e==="http:"||e==="https:"}catch{return!1}}function noContextMenu(i){i.preventDefault()}function deprecated(i){console.log("Deprecated API usage: "+i)}var Ac;class PDFDateString{static toDateObject(t){if(!t||typeof t!="string")return null;g(this,Ac)||B(this,Ac,new RegExp("^D:(\\d{4})(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?([Z|+|-])?(\\d{2})?'?(\\d{2})?'?"));const e=g(this,Ac).exec(t);if(!e)return null;const n=parseInt(e[1],10);let a=parseInt(e[2],10);a=a>=1&&a<=12?a-1:0;let l=parseInt(e[3],10);l=l>=1&&l<=31?l:1;let c=parseInt(e[4],10);c=c>=0&&c<=23?c:0;let f=parseInt(e[5],10);f=f>=0&&f<=59?f:0;let d=parseInt(e[6],10);d=d>=0&&d<=59?d:0;const m=e[7]||"Z";let y=parseInt(e[8],10);y=y>=0&&y<=23?y:0;let A=parseInt(e[9],10)||0;return A=A>=0&&A<=59?A:0,m==="-"?(c+=y,f+=A):m==="+"&&(c-=y,f-=A),new Date(Date.UTC(n,a,l,c,f,d))}}Ac=new WeakMap,U(PDFDateString,Ac);function getXfaPageViewport(i,{scale:t=1,rotation:e=0}){const{width:n,height:a}=i.attributes.style,l=[0,0,parseInt(n),parseInt(a)];return new PageViewport({viewBox:l,scale:t,rotation:e})}function getRGB(i){if(i.startsWith("#")){const t=parseInt(i.slice(1),16);return[(t&16711680)>>16,(t&65280)>>8,t&255]}return i.startsWith("rgb(")?i.slice(4,-1).split(",").map(t=>parseInt(t)):i.startsWith("rgba(")?i.slice(5,-1).split(",").map(t=>parseInt(t)).slice(0,3):(warn(`Not a valid color format: "${i}"`),[0,0,0])}function getColorValues(i){const t=document.createElement("span");t.style.visibility="hidden",document.body.append(t);for(const e of i.keys()){t.style.color=e;const n=window.getComputedStyle(t).color;i.set(e,getRGB(n))}t.remove()}function getCurrentTransform(i){const{a:t,b:e,c:n,d:a,e:l,f:c}=i.getTransform();return[t,e,n,a,l,c]}function getCurrentTransformInverse(i){const{a:t,b:e,c:n,d:a,e:l,f:c}=i.getTransform().invertSelf();return[t,e,n,a,l,c]}function setLayerDimensions(i,t,e=!1,n=!0){if(t instanceof PageViewport){const{pageWidth:a,pageHeight:l}=t.rawDims,{style:c}=i,f=util_FeatureTest.isCSSRoundSupported,d=`var(--scale-factor) * ${a}px`,m=`var(--scale-factor) * ${l}px`,y=f?`round(down, ${d}, var(--scale-round-x, 1px))`:`calc(${d})`,A=f?`round(down, ${m}, var(--scale-round-y, 1px))`:`calc(${m})`;!e||t.rotation%180===0?(c.width=y,c.height=A):(c.width=A,c.height=y)}n&&i.setAttribute("data-main-rotation",t.rotation)}class OutputScale{constructor(){const t=window.devicePixelRatio||1;this.sx=t,this.sy=t}get scaled(){return this.sx!==1||this.sy!==1}get symmetric(){return this.sx===this.sy}}var _r,xa,gn,Sa,Ec,xc,Ed,k1,ui,F1,D1,Yf,L1,Wm;const vs=class vs{constructor(t){U(this,ui);U(this,_r,null);U(this,xa,null);U(this,gn);U(this,Sa,null);U(this,Ec,null);B(this,gn,t),g(vs,xc)||B(vs,xc,Object.freeze({freetext:"pdfjs-editor-remove-freetext-button",highlight:"pdfjs-editor-remove-highlight-button",ink:"pdfjs-editor-remove-ink-button",stamp:"pdfjs-editor-remove-stamp-button"}))}render(){const t=B(this,_r,document.createElement("div"));t.classList.add("editToolbar","hidden"),t.setAttribute("role","toolbar");const e=g(this,gn)._uiManager._signal;t.addEventListener("contextmenu",noContextMenu,{signal:e}),t.addEventListener("pointerdown",z(vs,Ed,k1),{signal:e});const n=B(this,Sa,document.createElement("div"));n.className="buttons",t.append(n);const a=g(this,gn).toolbarPosition;if(a){const{style:l}=t,c=g(this,gn)._uiManager.direction==="ltr"?1-a[0]:a[0];l.insetInlineEnd=`${100*c}%`,l.top=`calc(${100*a[1]}% + var(--editor-toolbar-vert-offset))`}return z(this,ui,L1).call(this),t}get div(){return g(this,_r)}hide(){var t;g(this,_r).classList.add("hidden"),(t=g(this,xa))==null||t.hideDropdown()}show(){var t;g(this,_r).classList.remove("hidden"),(t=g(this,Ec))==null||t.shown()}async addAltText(t){const e=await t.render();z(this,ui,Yf).call(this,e),g(this,Sa).prepend(e,g(this,ui,Wm)),B(this,Ec,t)}addColorPicker(t){B(this,xa,t);const e=t.renderButton();z(this,ui,Yf).call(this,e),g(this,Sa).prepend(e,g(this,ui,Wm))}remove(){var t;g(this,_r).remove(),(t=g(this,xa))==null||t.destroy(),B(this,xa,null)}};_r=new WeakMap,xa=new WeakMap,gn=new WeakMap,Sa=new WeakMap,Ec=new WeakMap,xc=new WeakMap,Ed=new WeakSet,k1=function(t){t.stopPropagation()},ui=new WeakSet,F1=function(t){g(this,gn)._focusEventsAllowed=!1,t.preventDefault(),t.stopPropagation()},D1=function(t){g(this,gn)._focusEventsAllowed=!0,t.preventDefault(),t.stopPropagation()},Yf=function(t){const e=g(this,gn)._uiManager._signal;t.addEventListener("focusin",z(this,ui,F1).bind(this),{capture:!0,signal:e}),t.addEventListener("focusout",z(this,ui,D1).bind(this),{capture:!0,signal:e}),t.addEventListener("contextmenu",noContextMenu,{signal:e})},L1=function(){const{editorType:t,_uiManager:e}=g(this,gn),n=document.createElement("button");n.className="delete",n.tabIndex=0,n.setAttribute("data-l10n-id",g(vs,xc)[t]),z(this,ui,Yf).call(this,n),n.addEventListener("click",a=>{e.delete()},{signal:e._signal}),g(this,Sa).append(n)},Wm=function(){const t=document.createElement("div");return t.className="divider",t},U(vs,Ed),U(vs,xc,null);let EditorToolbar=vs;var Sc,Ta,wa,Xr,I1,O1,N1;class HighlightToolbar{constructor(t){U(this,Xr);U(this,Sc,null);U(this,Ta,null);U(this,wa);B(this,wa,t)}show(t,e,n){const[a,l]=z(this,Xr,O1).call(this,e,n),{style:c}=g(this,Ta)||B(this,Ta,z(this,Xr,I1).call(this));t.append(g(this,Ta)),c.insetInlineEnd=`${100*a}%`,c.top=`calc(${100*l}% + var(--editor-toolbar-vert-offset))`}hide(){g(this,Ta).remove()}}Sc=new WeakMap,Ta=new WeakMap,wa=new WeakMap,Xr=new WeakSet,I1=function(){const t=B(this,Ta,document.createElement("div"));t.className="editToolbar",t.setAttribute("role","toolbar"),t.addEventListener("contextmenu",noContextMenu,{signal:g(this,wa)._signal});const e=B(this,Sc,document.createElement("div"));return e.className="buttons",t.append(e),z(this,Xr,N1).call(this),t},O1=function(t,e){let n=0,a=0;for(const l of t){const c=l.y+l.height;if(c<n)continue;const f=l.x+(e?l.width:0);if(c>n){a=f,n=c;continue}e?f>a&&(a=f):f<a&&(a=f)}return[e?1-a:a,n]},N1=function(){const t=document.createElement("button");t.className="highlightButton",t.tabIndex=0,t.setAttribute("data-l10n-id","pdfjs-highlight-floating-button1");const e=document.createElement("span");t.append(e),e.className="visuallyHidden",e.setAttribute("data-l10n-id","pdfjs-highlight-floating-button-label");const n=g(this,wa)._signal;t.addEventListener("contextmenu",noContextMenu,{signal:n}),t.addEventListener("click",()=>{g(this,wa).highlightSelection("floating_button")},{signal:n}),g(this,Sc).append(t)};function bindEvents(i,t,e){for(const n of e)t.addEventListener(n,i[n].bind(i))}function opacityToHex(i){return Math.round(Math.min(255,Math.max(1,255*i))).toString(16).padStart(2,"0")}var xd;class IdManager{constructor(){U(this,xd,0)}get id(){return`${AnnotationEditorPrefix}${li(this,xd)._++}`}}xd=new WeakMap;var fl,Tc,ti,dl,Wf;const q0=class q0{constructor(){U(this,dl);U(this,fl,getUuid());U(this,Tc,0);U(this,ti,null)}static get _isSVGFittingCanvas(){const t='data:image/svg+xml;charset=UTF-8,<svg viewBox="0 0 1 1" width="1" height="1" xmlns="http://www.w3.org/2000/svg"><rect width="1" height="1" style="fill:red;"/></svg>',n=new OffscreenCanvas(1,3).getContext("2d",{willReadFrequently:!0}),a=new Image;a.src=t;const l=a.decode().then(()=>(n.drawImage(a,0,0,1,1,0,0,1,3),new Uint32Array(n.getImageData(0,0,1,1).data.buffer)[0]===0));return shadow(this,"_isSVGFittingCanvas",l)}async getFromFile(t){const{lastModified:e,name:n,size:a,type:l}=t;return z(this,dl,Wf).call(this,`${e}_${n}_${a}_${l}`,t)}async getFromUrl(t){return z(this,dl,Wf).call(this,t,t)}async getFromBlob(t,e){const n=await e;return z(this,dl,Wf).call(this,t,n)}async getFromId(t){g(this,ti)||B(this,ti,new Map);const e=g(this,ti).get(t);if(!e)return null;if(e.bitmap)return e.refCounter+=1,e;if(e.file)return this.getFromFile(e.file);if(e.blobPromise){const{blobPromise:n}=e;return delete e.blobPromise,this.getFromBlob(e.id,n)}return this.getFromUrl(e.url)}getFromCanvas(t,e){g(this,ti)||B(this,ti,new Map);let n=g(this,ti).get(t);if(n!=null&&n.bitmap)return n.refCounter+=1,n;const a=new OffscreenCanvas(e.width,e.height);return a.getContext("2d").drawImage(e,0,0),n={bitmap:a.transferToImageBitmap(),id:`image_${g(this,fl)}_${li(this,Tc)._++}`,refCounter:1,isSvg:!1},g(this,ti).set(t,n),g(this,ti).set(n.id,n),n}getSvgUrl(t){const e=g(this,ti).get(t);return e!=null&&e.isSvg?e.svgUrl:null}deleteId(t){var a;g(this,ti)||B(this,ti,new Map);const e=g(this,ti).get(t);if(!e||(e.refCounter-=1,e.refCounter!==0))return;const{bitmap:n}=e;if(!e.url&&!e.file){const l=new OffscreenCanvas(n.width,n.height);l.getContext("bitmaprenderer").transferFromImageBitmap(n),e.blobPromise=l.convertToBlob()}(a=n.close)==null||a.call(n),e.bitmap=null}isValidId(t){return t.startsWith(`image_${g(this,fl)}_`)}};fl=new WeakMap,Tc=new WeakMap,ti=new WeakMap,dl=new WeakSet,Wf=async function(t,e){g(this,ti)||B(this,ti,new Map);let n=g(this,ti).get(t);if(n===null)return null;if(n!=null&&n.bitmap)return n.refCounter+=1,n;try{n||(n={bitmap:null,id:`image_${g(this,fl)}_${li(this,Tc)._++}`,refCounter:0,isSvg:!1});let a;if(typeof e=="string"?(n.url=e,a=await fetchData(e,"blob")):e instanceof File?a=n.file=e:e instanceof Blob&&(a=e),a.type==="image/svg+xml"){const l=q0._isSVGFittingCanvas,c=new FileReader,f=new Image,d=new Promise((m,y)=>{f.onload=()=>{n.bitmap=f,n.isSvg=!0,m()},c.onload=async()=>{const A=n.svgUrl=c.result;f.src=await l?`${A}#svgView(preserveAspectRatio(none))`:A},f.onerror=c.onerror=y});c.readAsDataURL(a),await d}else n.bitmap=await createImageBitmap(a);n.refCounter=1}catch(a){console.error(a),n=null}return g(this,ti).set(t,n),n&&g(this,ti).set(n.id,n),n};let ImageManager=q0;var Oe,Ar,wc,Ne;class CommandManager{constructor(t=128){U(this,Oe,[]);U(this,Ar,!1);U(this,wc);U(this,Ne,-1);B(this,wc,t)}add({cmd:t,undo:e,post:n,mustExec:a,type:l=NaN,overwriteIfSameType:c=!1,keepUndo:f=!1}){if(a&&t(),g(this,Ar))return;const d={cmd:t,undo:e,post:n,type:l};if(g(this,Ne)===-1){g(this,Oe).length>0&&(g(this,Oe).length=0),B(this,Ne,0),g(this,Oe).push(d);return}if(c&&g(this,Oe)[g(this,Ne)].type===l){f&&(d.undo=g(this,Oe)[g(this,Ne)].undo),g(this,Oe)[g(this,Ne)]=d;return}const m=g(this,Ne)+1;m===g(this,wc)?g(this,Oe).splice(0,1):(B(this,Ne,m),m<g(this,Oe).length&&g(this,Oe).splice(m)),g(this,Oe).push(d)}undo(){if(g(this,Ne)===-1)return;B(this,Ar,!0);const{undo:t,post:e}=g(this,Oe)[g(this,Ne)];t(),e==null||e(),B(this,Ar,!1),B(this,Ne,g(this,Ne)-1)}redo(){if(g(this,Ne)<g(this,Oe).length-1){B(this,Ne,g(this,Ne)+1),B(this,Ar,!0);const{cmd:t,post:e}=g(this,Oe)[g(this,Ne)];t(),e==null||e(),B(this,Ar,!1)}}hasSomethingToUndo(){return g(this,Ne)!==-1}hasSomethingToRedo(){return g(this,Ne)<g(this,Oe).length-1}destroy(){B(this,Oe,null)}}Oe=new WeakMap,Ar=new WeakMap,wc=new WeakMap,Ne=new WeakMap;var Sd,B1;class KeyboardManager{constructor(t){U(this,Sd);this.buffer=[],this.callbacks=new Map,this.allKeys=new Set;const{isMac:e}=util_FeatureTest.platform;for(const[n,a,l={}]of t)for(const c of n){const f=c.startsWith("mac+");e&&f?(this.callbacks.set(c.slice(4),{callback:a,options:l}),this.allKeys.add(c.split("+").at(-1))):!e&&!f&&(this.callbacks.set(c,{callback:a,options:l}),this.allKeys.add(c.split("+").at(-1)))}}exec(t,e){if(!this.allKeys.has(e.key))return;const n=this.callbacks.get(z(this,Sd,B1).call(this,e));if(!n)return;const{callback:a,options:{bubbles:l=!1,args:c=[],checker:f=null}}=n;f&&!f(t,e)||(a.bind(t,...c,e)(),l||(e.stopPropagation(),e.preventDefault()))}}Sd=new WeakSet,B1=function(t){t.altKey&&this.buffer.push("alt"),t.ctrlKey&&this.buffer.push("ctrl"),t.metaKey&&this.buffer.push("meta"),t.shiftKey&&this.buffer.push("shift"),this.buffer.push(t.key);const e=this.buffer.join("+");return this.buffer.length=0,e};const Td=class Td{get _colors(){const t=new Map([["CanvasText",null],["Canvas",null]]);return getColorValues(t),shadow(this,"_colors",t)}convert(t){const e=getRGB(t);if(!window.matchMedia("(forced-colors: active)").matches)return e;for(const[n,a]of this._colors)if(a.every((l,c)=>l===e[c]))return Td._colorsMapping.get(n);return e}getHexCode(t){const e=this._colors.get(t);return e?Util.makeHexColor(...e):t}};Mt(Td,"_colorsMapping",new Map([["CanvasText",[0,0,0]],["Canvas",[255,255,255]]]));let ColorManager=Td;var pl,Mi,Pe,$e,ml,_s,gl,yn,Er,yl,Ca,In,vn,Pa,Cc,Pc,vl,Mc,On,xr,bl,Sr,Nn,wd,Tr,Rc,wr,Ma,kc,Fc,Be,Xt,As,Ra,Dc,Lc,Cr,Bn,Es,Ic,tn,vt,Kf,Km,V1,z1,Qf,H1,G1,U1,Qm,j1,Zm,Jm,q1,hi,vr,$1,X1,t0,Y1,ac,e0;const ul=class ul{constructor(t,e,n,a,l,c,f,d,m,y,A){U(this,vt);U(this,pl,new AbortController);U(this,Mi,null);U(this,Pe,new Map);U(this,$e,new Map);U(this,ml,null);U(this,_s,null);U(this,gl,null);U(this,yn,new CommandManager);U(this,Er,null);U(this,yl,0);U(this,Ca,new Set);U(this,In,null);U(this,vn,null);U(this,Pa,new Set);U(this,Cc,!1);U(this,Pc,!1);U(this,vl,!1);U(this,Mc,null);U(this,On,null);U(this,xr,null);U(this,bl,null);U(this,Sr,!1);U(this,Nn,null);U(this,wd,new IdManager);U(this,Tr,!1);U(this,Rc,!1);U(this,wr,null);U(this,Ma,null);U(this,kc,null);U(this,Fc,null);U(this,Be,AnnotationEditorType.NONE);U(this,Xt,new Set);U(this,As,null);U(this,Ra,null);U(this,Dc,null);U(this,Lc,{isEditing:!1,isEmpty:!0,hasSomethingToUndo:!1,hasSomethingToRedo:!1,hasSelectedEditor:!1,hasSelectedText:!1});U(this,Cr,[0,0]);U(this,Bn,null);U(this,Es,null);U(this,Ic,null);U(this,tn,null);const b=this._signal=g(this,pl).signal;B(this,Es,t),B(this,Ic,e),B(this,ml,n),this._eventBus=a,a._on("editingaction",this.onEditingAction.bind(this),{signal:b}),a._on("pagechanging",this.onPageChanging.bind(this),{signal:b}),a._on("scalechanging",this.onScaleChanging.bind(this),{signal:b}),a._on("rotationchanging",this.onRotationChanging.bind(this),{signal:b}),a._on("setpreference",this.onSetPreference.bind(this),{signal:b}),a._on("switchannotationeditorparams",x=>this.updateParams(x.type,x.value),{signal:b}),z(this,vt,H1).call(this),z(this,vt,q1).call(this),z(this,vt,Qm).call(this),B(this,_s,l.annotationStorage),B(this,Mc,l.filterFactory),B(this,Ra,c),B(this,bl,f||null),B(this,Cc,d),B(this,Pc,m),B(this,vl,y),B(this,Fc,A||null),this.viewParameters={realScale:PixelsPerInch.PDF_TO_CSS_UNITS,rotation:0},this.isShiftKeyDown=!1}static get _keyboardManager(){const t=ul.prototype,e=c=>g(c,Es).contains(document.activeElement)&&document.activeElement.tagName!=="BUTTON"&&c.hasSomethingToControl(),n=(c,{target:f})=>{if(f instanceof HTMLInputElement){const{type:d}=f;return d!=="text"&&d!=="number"}return!0},a=this.TRANSLATE_SMALL,l=this.TRANSLATE_BIG;return shadow(this,"_keyboardManager",new KeyboardManager([[["ctrl+a","mac+meta+a"],t.selectAll,{checker:n}],[["ctrl+z","mac+meta+z"],t.undo,{checker:n}],[["ctrl+y","ctrl+shift+z","mac+meta+shift+z","ctrl+shift+Z","mac+meta+shift+Z"],t.redo,{checker:n}],[["Backspace","alt+Backspace","ctrl+Backspace","shift+Backspace","mac+Backspace","mac+alt+Backspace","mac+ctrl+Backspace","Delete","ctrl+Delete","shift+Delete","mac+Delete"],t.delete,{checker:n}],[["Enter","mac+Enter"],t.addNewEditorFromKeyboard,{checker:(c,{target:f})=>!(f instanceof HTMLButtonElement)&&g(c,Es).contains(f)&&!c.isEnterHandled}],[[" ","mac+ "],t.addNewEditorFromKeyboard,{checker:(c,{target:f})=>!(f instanceof HTMLButtonElement)&&g(c,Es).contains(document.activeElement)}],[["Escape","mac+Escape"],t.unselectAll],[["ArrowLeft","mac+ArrowLeft"],t.translateSelectedEditors,{args:[-a,0],checker:e}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],t.translateSelectedEditors,{args:[-l,0],checker:e}],[["ArrowRight","mac+ArrowRight"],t.translateSelectedEditors,{args:[a,0],checker:e}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],t.translateSelectedEditors,{args:[l,0],checker:e}],[["ArrowUp","mac+ArrowUp"],t.translateSelectedEditors,{args:[0,-a],checker:e}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],t.translateSelectedEditors,{args:[0,-l],checker:e}],[["ArrowDown","mac+ArrowDown"],t.translateSelectedEditors,{args:[0,a],checker:e}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],t.translateSelectedEditors,{args:[0,l],checker:e}]]))}destroy(){var t,e,n,a;(t=g(this,tn))==null||t.resolve(),B(this,tn,null),(e=g(this,pl))==null||e.abort(),B(this,pl,null),this._signal=null;for(const l of g(this,$e).values())l.destroy();g(this,$e).clear(),g(this,Pe).clear(),g(this,Pa).clear(),B(this,Mi,null),g(this,Xt).clear(),g(this,yn).destroy(),(n=g(this,ml))==null||n.destroy(),(a=g(this,Nn))==null||a.hide(),B(this,Nn,null),g(this,On)&&(clearTimeout(g(this,On)),B(this,On,null)),g(this,Bn)&&(clearTimeout(g(this,Bn)),B(this,Bn,null))}combinedSignal(t){return AbortSignal.any([this._signal,t.signal])}get mlManager(){return g(this,Fc)}get useNewAltTextFlow(){return g(this,Pc)}get useNewAltTextWhenAddingImage(){return g(this,vl)}get hcmFilter(){return shadow(this,"hcmFilter",g(this,Ra)?g(this,Mc).addHCMFilter(g(this,Ra).foreground,g(this,Ra).background):"none")}get direction(){return shadow(this,"direction",getComputedStyle(g(this,Es)).direction)}get highlightColors(){return shadow(this,"highlightColors",g(this,bl)?new Map(g(this,bl).split(",").map(t=>t.split("=").map(e=>e.trim()))):null)}get highlightColorNames(){return shadow(this,"highlightColorNames",this.highlightColors?new Map(Array.from(this.highlightColors,t=>t.reverse())):null)}setMainHighlightColorPicker(t){B(this,kc,t)}editAltText(t,e=!1){var n;(n=g(this,ml))==null||n.editAltText(this,t,e)}switchToMode(t,e){this._eventBus.on("annotationeditormodechanged",e,{once:!0,signal:this._signal}),this._eventBus.dispatch("showannotationeditorui",{source:this,mode:t})}setPreference(t,e){this._eventBus.dispatch("setpreference",{source:this,name:t,value:e})}onSetPreference({name:t,value:e}){switch(t){case"enableNewAltTextWhenAddingImage":B(this,vl,e);break}}onPageChanging({pageNumber:t}){B(this,yl,t-1)}focusMainContainer(){g(this,Es).focus()}findParent(t,e){for(const n of g(this,$e).values()){const{x:a,y:l,width:c,height:f}=n.div.getBoundingClientRect();if(t>=a&&t<=a+c&&e>=l&&e<=l+f)return n}return null}disableUserSelect(t=!1){g(this,Ic).classList.toggle("noUserSelect",t)}addShouldRescale(t){g(this,Pa).add(t)}removeShouldRescale(t){g(this,Pa).delete(t)}onScaleChanging({scale:t}){this.commitOrRemove(),this.viewParameters.realScale=t*PixelsPerInch.PDF_TO_CSS_UNITS;for(const e of g(this,Pa))e.onScaleChanging()}onRotationChanging({pagesRotation:t}){this.commitOrRemove(),this.viewParameters.rotation=t}highlightSelection(t=""){const e=document.getSelection();if(!e||e.isCollapsed)return;const{anchorNode:n,anchorOffset:a,focusNode:l,focusOffset:c}=e,f=e.toString(),m=z(this,vt,Kf).call(this,e).closest(".textLayer"),y=this.getSelectionBoxes(m);if(!y)return;e.empty();const A=z(this,vt,Km).call(this,m),b=g(this,Be)===AnnotationEditorType.NONE,x=()=>{A==null||A.createAndAddNewEditor({x:0,y:0},!1,{methodOfCreation:t,boxes:y,anchorNode:n,anchorOffset:a,focusNode:l,focusOffset:c,text:f}),b&&this.showAllEditors("highlight",!0,!0)};if(b){this.switchToMode(AnnotationEditorType.HIGHLIGHT,x);return}x()}addToAnnotationStorage(t){!t.isEmpty()&&g(this,_s)&&!g(this,_s).has(t.id)&&g(this,_s).setValue(t.id,t)}blur(){if(this.isShiftKeyDown=!1,g(this,Sr)&&(B(this,Sr,!1),z(this,vt,Qf).call(this,"main_toolbar")),!this.hasSelection)return;const{activeElement:t}=document;for(const e of g(this,Xt))if(e.div.contains(t)){B(this,Ma,[e,t]),e._focusEventsAllowed=!1;break}}focus(){if(!g(this,Ma))return;const[t,e]=g(this,Ma);B(this,Ma,null),e.addEventListener("focusin",()=>{t._focusEventsAllowed=!0},{once:!0,signal:this._signal}),e.focus()}addEditListeners(){z(this,vt,Qm).call(this),z(this,vt,Zm).call(this)}removeEditListeners(){z(this,vt,j1).call(this),z(this,vt,Jm).call(this)}dragOver(t){for(const{type:e}of t.dataTransfer.items)for(const n of g(this,vn))if(n.isHandlingMimeForPasting(e)){t.dataTransfer.dropEffect="copy",t.preventDefault();return}}drop(t){for(const e of t.dataTransfer.items)for(const n of g(this,vn))if(n.isHandlingMimeForPasting(e.type)){n.paste(e,this.currentLayer),t.preventDefault();return}}copy(t){var n;if(t.preventDefault(),(n=g(this,Mi))==null||n.commitOrRemove(),!this.hasSelection)return;const e=[];for(const a of g(this,Xt)){const l=a.serialize(!0);l&&e.push(l)}e.length!==0&&t.clipboardData.setData("application/pdfjs",JSON.stringify(e))}cut(t){this.copy(t),this.delete()}async paste(t){t.preventDefault();const{clipboardData:e}=t;for(const l of e.items)for(const c of g(this,vn))if(c.isHandlingMimeForPasting(l.type)){c.paste(l,this.currentLayer);return}let n=e.getData("application/pdfjs");if(!n)return;try{n=JSON.parse(n)}catch(l){warn(`paste: "${l.message}".`);return}if(!Array.isArray(n))return;this.unselectAll();const a=this.currentLayer;try{const l=[];for(const d of n){const m=await a.deserialize(d);if(!m)return;l.push(m)}const c=()=>{for(const d of l)z(this,vt,t0).call(this,d);z(this,vt,e0).call(this,l)},f=()=>{for(const d of l)d.remove()};this.addCommands({cmd:c,undo:f,mustExec:!0})}catch(l){warn(`paste: "${l.message}".`)}}keydown(t){!this.isShiftKeyDown&&t.key==="Shift"&&(this.isShiftKeyDown=!0),g(this,Be)!==AnnotationEditorType.NONE&&!this.isEditorHandlingKeyboard&&ul._keyboardManager.exec(this,t)}keyup(t){this.isShiftKeyDown&&t.key==="Shift"&&(this.isShiftKeyDown=!1,g(this,Sr)&&(B(this,Sr,!1),z(this,vt,Qf).call(this,"main_toolbar")))}onEditingAction({name:t}){switch(t){case"undo":case"redo":case"delete":case"selectAll":this[t]();break;case"highlightSelection":this.highlightSelection("context_menu");break}}setEditingState(t){t?(z(this,vt,G1).call(this),z(this,vt,Zm).call(this),z(this,vt,hi).call(this,{isEditing:g(this,Be)!==AnnotationEditorType.NONE,isEmpty:z(this,vt,ac).call(this),hasSomethingToUndo:g(this,yn).hasSomethingToUndo(),hasSomethingToRedo:g(this,yn).hasSomethingToRedo(),hasSelectedEditor:!1})):(z(this,vt,U1).call(this),z(this,vt,Jm).call(this),z(this,vt,hi).call(this,{isEditing:!1}),this.disableUserSelect(!1))}registerEditorTypes(t){if(!g(this,vn)){B(this,vn,t);for(const e of g(this,vn))z(this,vt,vr).call(this,e.defaultPropertiesToUpdate)}}getId(){return g(this,wd).id}get currentLayer(){return g(this,$e).get(g(this,yl))}getLayer(t){return g(this,$e).get(t)}get currentPageIndex(){return g(this,yl)}addLayer(t){g(this,$e).set(t.pageIndex,t),g(this,Tr)?t.enable():t.disable()}removeLayer(t){g(this,$e).delete(t.pageIndex)}async updateMode(t,e=null,n=!1){if(g(this,Be)!==t&&!(g(this,tn)&&(await g(this,tn).promise,!g(this,tn)))){if(B(this,tn,Promise.withResolvers()),B(this,Be,t),t===AnnotationEditorType.NONE){this.setEditingState(!1),z(this,vt,X1).call(this),g(this,tn).resolve();return}this.setEditingState(!0),await z(this,vt,$1).call(this),this.unselectAll();for(const a of g(this,$e).values())a.updateMode(t);if(!e){n&&this.addNewEditorFromKeyboard(),g(this,tn).resolve();return}for(const a of g(this,Pe).values())a.annotationElementId===e?(this.setSelected(a),a.enterInEditMode()):a.unselect();g(this,tn).resolve()}}addNewEditorFromKeyboard(){this.currentLayer.canCreateNewEmptyEditor()&&this.currentLayer.addNewEditor()}updateToolbar(t){t!==g(this,Be)&&this._eventBus.dispatch("switchannotationeditormode",{source:this,mode:t})}updateParams(t,e){var n;if(g(this,vn)){switch(t){case AnnotationEditorParamsType.CREATE:this.currentLayer.addNewEditor();return;case AnnotationEditorParamsType.HIGHLIGHT_DEFAULT_COLOR:(n=g(this,kc))==null||n.updateColor(e);break;case AnnotationEditorParamsType.HIGHLIGHT_SHOW_ALL:this._eventBus.dispatch("reporttelemetry",{source:this,details:{type:"editing",data:{type:"highlight",action:"toggle_visibility"}}}),(g(this,Dc)||B(this,Dc,new Map)).set(t,e),this.showAllEditors("highlight",e);break}for(const a of g(this,Xt))a.updateParams(t,e);for(const a of g(this,vn))a.updateDefaultParams(t,e)}}showAllEditors(t,e,n=!1){var l;for(const c of g(this,Pe).values())c.editorType===t&&c.show(e);(((l=g(this,Dc))==null?void 0:l.get(AnnotationEditorParamsType.HIGHLIGHT_SHOW_ALL))??!0)!==e&&z(this,vt,vr).call(this,[[AnnotationEditorParamsType.HIGHLIGHT_SHOW_ALL,e]])}enableWaiting(t=!1){if(g(this,Rc)!==t){B(this,Rc,t);for(const e of g(this,$e).values())t?e.disableClick():e.enableClick(),e.div.classList.toggle("waiting",t)}}getEditors(t){const e=[];for(const n of g(this,Pe).values())n.pageIndex===t&&e.push(n);return e}getEditor(t){return g(this,Pe).get(t)}addEditor(t){g(this,Pe).set(t.id,t)}removeEditor(t){var e;t.div.contains(document.activeElement)&&(g(this,On)&&clearTimeout(g(this,On)),B(this,On,setTimeout(()=>{this.focusMainContainer(),B(this,On,null)},0))),g(this,Pe).delete(t.id),this.unselect(t),(!t.annotationElementId||!g(this,Ca).has(t.annotationElementId))&&((e=g(this,_s))==null||e.remove(t.id))}addDeletedAnnotationElement(t){g(this,Ca).add(t.annotationElementId),this.addChangedExistingAnnotation(t),t.deleted=!0}isDeletedAnnotationElement(t){return g(this,Ca).has(t)}removeDeletedAnnotationElement(t){g(this,Ca).delete(t.annotationElementId),this.removeChangedExistingAnnotation(t),t.deleted=!1}setActiveEditor(t){g(this,Mi)!==t&&(B(this,Mi,t),t&&z(this,vt,vr).call(this,t.propertiesToUpdate))}updateUI(t){g(this,vt,Y1)===t&&z(this,vt,vr).call(this,t.propertiesToUpdate)}toggleSelected(t){if(g(this,Xt).has(t)){g(this,Xt).delete(t),t.unselect(),z(this,vt,hi).call(this,{hasSelectedEditor:this.hasSelection});return}g(this,Xt).add(t),t.select(),z(this,vt,vr).call(this,t.propertiesToUpdate),z(this,vt,hi).call(this,{hasSelectedEditor:!0})}setSelected(t){for(const e of g(this,Xt))e!==t&&e.unselect();g(this,Xt).clear(),g(this,Xt).add(t),t.select(),z(this,vt,vr).call(this,t.propertiesToUpdate),z(this,vt,hi).call(this,{hasSelectedEditor:!0})}isSelected(t){return g(this,Xt).has(t)}get firstSelectedEditor(){return g(this,Xt).values().next().value}unselect(t){t.unselect(),g(this,Xt).delete(t),z(this,vt,hi).call(this,{hasSelectedEditor:this.hasSelection})}get hasSelection(){return g(this,Xt).size!==0}get isEnterHandled(){return g(this,Xt).size===1&&this.firstSelectedEditor.isEnterHandled}undo(){g(this,yn).undo(),z(this,vt,hi).call(this,{hasSomethingToUndo:g(this,yn).hasSomethingToUndo(),hasSomethingToRedo:!0,isEmpty:z(this,vt,ac).call(this)})}redo(){g(this,yn).redo(),z(this,vt,hi).call(this,{hasSomethingToUndo:!0,hasSomethingToRedo:g(this,yn).hasSomethingToRedo(),isEmpty:z(this,vt,ac).call(this)})}addCommands(t){g(this,yn).add(t),z(this,vt,hi).call(this,{hasSomethingToUndo:!0,hasSomethingToRedo:!1,isEmpty:z(this,vt,ac).call(this)})}delete(){if(this.commitOrRemove(),!this.hasSelection)return;const t=[...g(this,Xt)],e=()=>{for(const a of t)a.remove()},n=()=>{for(const a of t)z(this,vt,t0).call(this,a)};this.addCommands({cmd:e,undo:n,mustExec:!0})}commitOrRemove(){var t;(t=g(this,Mi))==null||t.commitOrRemove()}hasSomethingToControl(){return g(this,Mi)||this.hasSelection}selectAll(){for(const t of g(this,Xt))t.commit();z(this,vt,e0).call(this,g(this,Pe).values())}unselectAll(){if(!(g(this,Mi)&&(g(this,Mi).commitOrRemove(),g(this,Be)!==AnnotationEditorType.NONE))&&this.hasSelection){for(const t of g(this,Xt))t.unselect();g(this,Xt).clear(),z(this,vt,hi).call(this,{hasSelectedEditor:!1})}}translateSelectedEditors(t,e,n=!1){if(n||this.commitOrRemove(),!this.hasSelection)return;g(this,Cr)[0]+=t,g(this,Cr)[1]+=e;const[a,l]=g(this,Cr),c=[...g(this,Xt)],f=1e3;g(this,Bn)&&clearTimeout(g(this,Bn)),B(this,Bn,setTimeout(()=>{B(this,Bn,null),g(this,Cr)[0]=g(this,Cr)[1]=0,this.addCommands({cmd:()=>{for(const d of c)g(this,Pe).has(d.id)&&d.translateInPage(a,l)},undo:()=>{for(const d of c)g(this,Pe).has(d.id)&&d.translateInPage(-a,-l)},mustExec:!1})},f));for(const d of c)d.translateInPage(t,e)}setUpDragSession(){if(this.hasSelection){this.disableUserSelect(!0),B(this,In,new Map);for(const t of g(this,Xt))g(this,In).set(t,{savedX:t.x,savedY:t.y,savedPageIndex:t.pageIndex,newX:0,newY:0,newPageIndex:-1})}}endDragSession(){if(!g(this,In))return!1;this.disableUserSelect(!1);const t=g(this,In);B(this,In,null);let e=!1;for(const[{x:a,y:l,pageIndex:c},f]of t)f.newX=a,f.newY=l,f.newPageIndex=c,e||(e=a!==f.savedX||l!==f.savedY||c!==f.savedPageIndex);if(!e)return!1;const n=(a,l,c,f)=>{if(g(this,Pe).has(a.id)){const d=g(this,$e).get(f);d?a._setParentAndPosition(d,l,c):(a.pageIndex=f,a.x=l,a.y=c)}};return this.addCommands({cmd:()=>{for(const[a,{newX:l,newY:c,newPageIndex:f}]of t)n(a,l,c,f)},undo:()=>{for(const[a,{savedX:l,savedY:c,savedPageIndex:f}]of t)n(a,l,c,f)},mustExec:!0}),!0}dragSelectedEditors(t,e){if(g(this,In))for(const n of g(this,In).keys())n.drag(t,e)}rebuild(t){if(t.parent===null){const e=this.getLayer(t.pageIndex);e?(e.changeParent(t),e.addOrRebuild(t)):(this.addEditor(t),this.addToAnnotationStorage(t),t.rebuild())}else t.parent.addOrRebuild(t)}get isEditorHandlingKeyboard(){var t;return((t=this.getActive())==null?void 0:t.shouldGetKeyboardEvents())||g(this,Xt).size===1&&this.firstSelectedEditor.shouldGetKeyboardEvents()}isActive(t){return g(this,Mi)===t}getActive(){return g(this,Mi)}getMode(){return g(this,Be)}get imageManager(){return shadow(this,"imageManager",new ImageManager)}getSelectionBoxes(t){if(!t)return null;const e=document.getSelection();for(let m=0,y=e.rangeCount;m<y;m++)if(!t.contains(e.getRangeAt(m).commonAncestorContainer))return null;const{x:n,y:a,width:l,height:c}=t.getBoundingClientRect();let f;switch(t.getAttribute("data-main-rotation")){case"90":f=(m,y,A,b)=>({x:(y-a)/c,y:1-(m+A-n)/l,width:b/c,height:A/l});break;case"180":f=(m,y,A,b)=>({x:1-(m+A-n)/l,y:1-(y+b-a)/c,width:A/l,height:b/c});break;case"270":f=(m,y,A,b)=>({x:1-(y+b-a)/c,y:(m-n)/l,width:b/c,height:A/l});break;default:f=(m,y,A,b)=>({x:(m-n)/l,y:(y-a)/c,width:A/l,height:b/c});break}const d=[];for(let m=0,y=e.rangeCount;m<y;m++){const A=e.getRangeAt(m);if(!A.collapsed)for(const{x:b,y:x,width:E,height:T}of A.getClientRects())E===0||T===0||d.push(f(b,x,E,T))}return d.length===0?null:d}addChangedExistingAnnotation({annotationElementId:t,id:e}){(g(this,gl)||B(this,gl,new Map)).set(t,e)}removeChangedExistingAnnotation({annotationElementId:t}){var e;(e=g(this,gl))==null||e.delete(t)}renderAnnotationElement(t){var a;const e=(a=g(this,gl))==null?void 0:a.get(t.data.id);if(!e)return;const n=g(this,_s).getRawValue(e);n&&(g(this,Be)===AnnotationEditorType.NONE&&!n.hasBeenModified||n.renderAnnotationElement(t))}};pl=new WeakMap,Mi=new WeakMap,Pe=new WeakMap,$e=new WeakMap,ml=new WeakMap,_s=new WeakMap,gl=new WeakMap,yn=new WeakMap,Er=new WeakMap,yl=new WeakMap,Ca=new WeakMap,In=new WeakMap,vn=new WeakMap,Pa=new WeakMap,Cc=new WeakMap,Pc=new WeakMap,vl=new WeakMap,Mc=new WeakMap,On=new WeakMap,xr=new WeakMap,bl=new WeakMap,Sr=new WeakMap,Nn=new WeakMap,wd=new WeakMap,Tr=new WeakMap,Rc=new WeakMap,wr=new WeakMap,Ma=new WeakMap,kc=new WeakMap,Fc=new WeakMap,Be=new WeakMap,Xt=new WeakMap,As=new WeakMap,Ra=new WeakMap,Dc=new WeakMap,Lc=new WeakMap,Cr=new WeakMap,Bn=new WeakMap,Es=new WeakMap,Ic=new WeakMap,tn=new WeakMap,vt=new WeakSet,Kf=function({anchorNode:t}){return t.nodeType===Node.TEXT_NODE?t.parentElement:t},Km=function(t){const{currentLayer:e}=this;if(e.hasTextLayer(t))return e;for(const n of g(this,$e).values())if(n.hasTextLayer(t))return n;return null},V1=function(){const t=document.getSelection();if(!t||t.isCollapsed)return;const n=z(this,vt,Kf).call(this,t).closest(".textLayer"),a=this.getSelectionBoxes(n);a&&(g(this,Nn)||B(this,Nn,new HighlightToolbar(this)),g(this,Nn).show(n,a,this.direction==="ltr"))},z1=function(){var l,c,f;const t=document.getSelection();if(!t||t.isCollapsed){g(this,As)&&((l=g(this,Nn))==null||l.hide(),B(this,As,null),z(this,vt,hi).call(this,{hasSelectedText:!1}));return}const{anchorNode:e}=t;if(e===g(this,As))return;const a=z(this,vt,Kf).call(this,t).closest(".textLayer");if(!a){g(this,As)&&((c=g(this,Nn))==null||c.hide(),B(this,As,null),z(this,vt,hi).call(this,{hasSelectedText:!1}));return}if((f=g(this,Nn))==null||f.hide(),B(this,As,e),z(this,vt,hi).call(this,{hasSelectedText:!0}),!(g(this,Be)!==AnnotationEditorType.HIGHLIGHT&&g(this,Be)!==AnnotationEditorType.NONE)&&(g(this,Be)===AnnotationEditorType.HIGHLIGHT&&this.showAllEditors("highlight",!0,!0),B(this,Sr,this.isShiftKeyDown),!this.isShiftKeyDown)){const d=g(this,Be)===AnnotationEditorType.HIGHLIGHT?z(this,vt,Km).call(this,a):null;d==null||d.toggleDrawing();const m=new AbortController,y=this.combinedSignal(m),A=b=>{b.type==="pointerup"&&b.button!==0||(m.abort(),d==null||d.toggleDrawing(!0),b.type==="pointerup"&&z(this,vt,Qf).call(this,"main_toolbar"))};window.addEventListener("pointerup",A,{signal:y}),window.addEventListener("blur",A,{signal:y})}},Qf=function(t=""){g(this,Be)===AnnotationEditorType.HIGHLIGHT?this.highlightSelection(t):g(this,Cc)&&z(this,vt,V1).call(this)},H1=function(){document.addEventListener("selectionchange",z(this,vt,z1).bind(this),{signal:this._signal})},G1=function(){if(g(this,xr))return;B(this,xr,new AbortController);const t=this.combinedSignal(g(this,xr));window.addEventListener("focus",this.focus.bind(this),{signal:t}),window.addEventListener("blur",this.blur.bind(this),{signal:t})},U1=function(){var t;(t=g(this,xr))==null||t.abort(),B(this,xr,null)},Qm=function(){if(g(this,wr))return;B(this,wr,new AbortController);const t=this.combinedSignal(g(this,wr));window.addEventListener("keydown",this.keydown.bind(this),{signal:t}),window.addEventListener("keyup",this.keyup.bind(this),{signal:t})},j1=function(){var t;(t=g(this,wr))==null||t.abort(),B(this,wr,null)},Zm=function(){if(g(this,Er))return;B(this,Er,new AbortController);const t=this.combinedSignal(g(this,Er));document.addEventListener("copy",this.copy.bind(this),{signal:t}),document.addEventListener("cut",this.cut.bind(this),{signal:t}),document.addEventListener("paste",this.paste.bind(this),{signal:t})},Jm=function(){var t;(t=g(this,Er))==null||t.abort(),B(this,Er,null)},q1=function(){const t=this._signal;document.addEventListener("dragover",this.dragOver.bind(this),{signal:t}),document.addEventListener("drop",this.drop.bind(this),{signal:t})},hi=function(t){Object.entries(t).some(([n,a])=>g(this,Lc)[n]!==a)&&(this._eventBus.dispatch("annotationeditorstateschanged",{source:this,details:Object.assign(g(this,Lc),t)}),g(this,Be)===AnnotationEditorType.HIGHLIGHT&&t.hasSelectedEditor===!1&&z(this,vt,vr).call(this,[[AnnotationEditorParamsType.HIGHLIGHT_FREE,!0]]))},vr=function(t){this._eventBus.dispatch("annotationeditorparamschanged",{source:this,details:t})},$1=async function(){if(!g(this,Tr)){B(this,Tr,!0);const t=[];for(const e of g(this,$e).values())t.push(e.enable());await Promise.all(t);for(const e of g(this,Pe).values())e.enable()}},X1=function(){if(this.unselectAll(),g(this,Tr)){B(this,Tr,!1);for(const t of g(this,$e).values())t.disable();for(const t of g(this,Pe).values())t.disable()}},t0=function(t){const e=g(this,$e).get(t.pageIndex);e?e.addOrRebuild(t):(this.addEditor(t),this.addToAnnotationStorage(t))},Y1=function(){let t=null;for(t of g(this,Xt));return t},ac=function(){if(g(this,Pe).size===0)return!0;if(g(this,Pe).size===1)for(const t of g(this,Pe).values())return t.isEmpty();return!1},e0=function(t){for(const e of g(this,Xt))e.unselect();g(this,Xt).clear();for(const e of t)e.isEmpty()||(g(this,Xt).add(e),e.select());z(this,vt,hi).call(this,{hasSelectedEditor:this.hasSelection})},Mt(ul,"TRANSLATE_SMALL",1),Mt(ul,"TRANSLATE_BIG",10);let AnnotationEditorUIManager=ul;var Ve,Vn,bn,_l,zn,Ri,Al,Hn,vi,xs,ka,Gn,Pr,Mn,oc,Zf;const ci=class ci{constructor(t){U(this,Mn);U(this,Ve,null);U(this,Vn,!1);U(this,bn,null);U(this,_l,null);U(this,zn,null);U(this,Ri,null);U(this,Al,!1);U(this,Hn,null);U(this,vi,null);U(this,xs,null);U(this,ka,null);U(this,Gn,!1);B(this,vi,t),B(this,Gn,t._uiManager.useNewAltTextFlow),g(ci,Pr)||B(ci,Pr,Object.freeze({added:"pdfjs-editor-new-alt-text-added-button","added-label":"pdfjs-editor-new-alt-text-added-button-label",missing:"pdfjs-editor-new-alt-text-missing-button","missing-label":"pdfjs-editor-new-alt-text-missing-button-label",review:"pdfjs-editor-new-alt-text-to-review-button","review-label":"pdfjs-editor-new-alt-text-to-review-button-label"}))}static initialize(t){ci._l10n??(ci._l10n=t)}async render(){const t=B(this,bn,document.createElement("button"));t.className="altText",t.tabIndex="0";const e=B(this,_l,document.createElement("span"));t.append(e),g(this,Gn)?(t.classList.add("new"),t.setAttribute("data-l10n-id",g(ci,Pr).missing),e.setAttribute("data-l10n-id",g(ci,Pr)["missing-label"])):(t.setAttribute("data-l10n-id","pdfjs-editor-alt-text-button"),e.setAttribute("data-l10n-id","pdfjs-editor-alt-text-button-label"));const n=g(this,vi)._uiManager._signal;t.addEventListener("contextmenu",noContextMenu,{signal:n}),t.addEventListener("pointerdown",l=>l.stopPropagation(),{signal:n});const a=l=>{l.preventDefault(),g(this,vi)._uiManager.editAltText(g(this,vi)),g(this,Gn)&&g(this,vi)._reportTelemetry({action:"pdfjs.image.alt_text.image_status_label_clicked",data:{label:g(this,Mn,oc)}})};return t.addEventListener("click",a,{capture:!0,signal:n}),t.addEventListener("keydown",l=>{l.target===t&&l.key==="Enter"&&(B(this,Al,!0),a(l))},{signal:n}),await z(this,Mn,Zf).call(this),t}finish(){g(this,bn)&&(g(this,bn).focus({focusVisible:g(this,Al)}),B(this,Al,!1))}isEmpty(){return g(this,Gn)?g(this,Ve)===null:!g(this,Ve)&&!g(this,Vn)}hasData(){return g(this,Gn)?g(this,Ve)!==null||!!g(this,xs):this.isEmpty()}get guessedText(){return g(this,xs)}async setGuessedText(t){g(this,Ve)===null&&(B(this,xs,t),B(this,ka,await ci._l10n.get("pdfjs-editor-new-alt-text-generated-alt-text-with-disclaimer",{generatedAltText:t})),z(this,Mn,Zf).call(this))}toggleAltTextBadge(t=!1){var e;if(!g(this,Gn)||g(this,Ve)){(e=g(this,Hn))==null||e.remove(),B(this,Hn,null);return}if(!g(this,Hn)){const n=B(this,Hn,document.createElement("div"));n.className="noAltTextBadge",g(this,vi).div.append(n)}g(this,Hn).classList.toggle("hidden",!t)}serialize(t){let e=g(this,Ve);return!t&&g(this,xs)===e&&(e=g(this,ka)),{altText:e,decorative:g(this,Vn),guessedText:g(this,xs),textWithDisclaimer:g(this,ka)}}get data(){return{altText:g(this,Ve),decorative:g(this,Vn)}}set data({altText:t,decorative:e,guessedText:n,textWithDisclaimer:a,cancel:l=!1}){n&&(B(this,xs,n),B(this,ka,a)),!(g(this,Ve)===t&&g(this,Vn)===e)&&(l||(B(this,Ve,t),B(this,Vn,e)),z(this,Mn,Zf).call(this))}toggle(t=!1){g(this,bn)&&(!t&&g(this,Ri)&&(clearTimeout(g(this,Ri)),B(this,Ri,null)),g(this,bn).disabled=!t)}shown(){g(this,vi)._reportTelemetry({action:"pdfjs.image.alt_text.image_status_label_displayed",data:{label:g(this,Mn,oc)}})}destroy(){var t,e;(t=g(this,bn))==null||t.remove(),B(this,bn,null),B(this,_l,null),B(this,zn,null),(e=g(this,Hn))==null||e.remove(),B(this,Hn,null)}};Ve=new WeakMap,Vn=new WeakMap,bn=new WeakMap,_l=new WeakMap,zn=new WeakMap,Ri=new WeakMap,Al=new WeakMap,Hn=new WeakMap,vi=new WeakMap,xs=new WeakMap,ka=new WeakMap,Gn=new WeakMap,Pr=new WeakMap,Mn=new WeakSet,oc=function(){return g(this,Ve)&&"added"||g(this,Ve)===null&&this.guessedText&&"review"||"missing"},Zf=async function(){var a,l,c;const t=g(this,bn);if(!t)return;if(g(this,Gn)){if(t.classList.toggle("done",!!g(this,Ve)),t.setAttribute("data-l10n-id",g(ci,Pr)[g(this,Mn,oc)]),(a=g(this,_l))==null||a.setAttribute("data-l10n-id",g(ci,Pr)[`${g(this,Mn,oc)}-label`]),!g(this,Ve)){(l=g(this,zn))==null||l.remove();return}}else{if(!g(this,Ve)&&!g(this,Vn)){t.classList.remove("done"),(c=g(this,zn))==null||c.remove();return}t.classList.add("done"),t.setAttribute("data-l10n-id","pdfjs-editor-alt-text-edit-button")}let e=g(this,zn);if(!e){B(this,zn,e=document.createElement("span")),e.className="tooltip",e.setAttribute("role","tooltip"),e.id=`alt-text-tooltip-${g(this,vi).id}`;const f=100,d=g(this,vi)._uiManager._signal;d.addEventListener("abort",()=>{clearTimeout(g(this,Ri)),B(this,Ri,null)},{once:!0}),t.addEventListener("mouseenter",()=>{B(this,Ri,setTimeout(()=>{B(this,Ri,null),g(this,zn).classList.add("show"),g(this,vi)._reportTelemetry({action:"alt_text_tooltip"})},f))},{signal:d}),t.addEventListener("mouseleave",()=>{var m;g(this,Ri)&&(clearTimeout(g(this,Ri)),B(this,Ri,null)),(m=g(this,zn))==null||m.classList.remove("show")},{signal:d})}g(this,Vn)?e.setAttribute("data-l10n-id","pdfjs-editor-alt-text-decorative-tooltip"):(e.removeAttribute("data-l10n-id"),e.textContent=g(this,Ve)),e.parentNode||t.append(e);const n=g(this,vi).getImageForAltText();n==null||n.setAttribute("aria-describedby",e.id)},U(ci,Pr,null),Mt(ci,"_l10n",null);let AltText=ci;var Fa,_n,ce,El,Da,Xe,La,Mr,Oc,Ia,Rr,Nc,Oa,Ss,Un,xl,Sl,en,Bc,Cd,Ft,i0,Vc,n0,s0,W1,K1,r0,a0,o0,Q1,l0,Z1,J1,tb,h0,lc;const $t=class $t{constructor(t){U(this,Ft);U(this,Fa,null);U(this,_n,null);U(this,ce,null);U(this,El,!1);U(this,Da,!1);U(this,Xe,null);U(this,La,null);U(this,Mr,null);U(this,Oc,"");U(this,Ia,!1);U(this,Rr,null);U(this,Nc,!1);U(this,Oa,!1);U(this,Ss,!1);U(this,Un,null);U(this,xl,0);U(this,Sl,0);U(this,en,null);Mt(this,"_editToolbar",null);Mt(this,"_initialOptions",Object.create(null));Mt(this,"_initialData",null);Mt(this,"_isVisible",!0);Mt(this,"_uiManager",null);Mt(this,"_focusEventsAllowed",!0);U(this,Bc,!1);U(this,Cd,$t._zIndex++);this.parent=t.parent,this.id=t.id,this.width=this.height=null,this.pageIndex=t.parent.pageIndex,this.name=t.name,this.div=null,this._uiManager=t.uiManager,this.annotationElementId=null,this._willKeepAspectRatio=!1,this._initialOptions.isCentered=t.isCentered,this._structTreeParentId=null;const{rotation:e,rawDims:{pageWidth:n,pageHeight:a,pageX:l,pageY:c}}=this.parent.viewport;this.rotation=e,this.pageRotation=(360+e-this._uiManager.viewParameters.rotation)%360,this.pageDimensions=[n,a],this.pageTranslation=[l,c];const[f,d]=this.parentDimensions;this.x=t.x/f,this.y=t.y/d,this.isAttachedToDOM=!1,this.deleted=!1}static get _resizerKeyboardManager(){const t=$t.prototype._resizeWithKeyboard,e=AnnotationEditorUIManager.TRANSLATE_SMALL,n=AnnotationEditorUIManager.TRANSLATE_BIG;return shadow(this,"_resizerKeyboardManager",new KeyboardManager([[["ArrowLeft","mac+ArrowLeft"],t,{args:[-e,0]}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],t,{args:[-n,0]}],[["ArrowRight","mac+ArrowRight"],t,{args:[e,0]}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],t,{args:[n,0]}],[["ArrowUp","mac+ArrowUp"],t,{args:[0,-e]}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],t,{args:[0,-n]}],[["ArrowDown","mac+ArrowDown"],t,{args:[0,e]}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],t,{args:[0,n]}],[["Escape","mac+Escape"],$t.prototype._stopResizingWithKeyboard]]))}get editorType(){return Object.getPrototypeOf(this).constructor._type}static get _defaultLineColor(){return shadow(this,"_defaultLineColor",this._colorManager.getHexCode("CanvasText"))}static deleteAnnotationElement(t){const e=new FakeEditor({id:t.parent.getNextId(),parent:t.parent,uiManager:t._uiManager});e.annotationElementId=t.annotationElementId,e.deleted=!0,e._uiManager.addToAnnotationStorage(e)}static initialize(t,e){if($t._l10n??($t._l10n=t),$t._l10nResizer||($t._l10nResizer=Object.freeze({topLeft:"pdfjs-editor-resizer-top-left",topMiddle:"pdfjs-editor-resizer-top-middle",topRight:"pdfjs-editor-resizer-top-right",middleRight:"pdfjs-editor-resizer-middle-right",bottomRight:"pdfjs-editor-resizer-bottom-right",bottomMiddle:"pdfjs-editor-resizer-bottom-middle",bottomLeft:"pdfjs-editor-resizer-bottom-left",middleLeft:"pdfjs-editor-resizer-middle-left"})),$t._borderLineWidth!==-1)return;const n=getComputedStyle(document.documentElement);$t._borderLineWidth=parseFloat(n.getPropertyValue("--outline-width"))||0}static updateDefaultParams(t,e){}static get defaultPropertiesToUpdate(){return[]}static isHandlingMimeForPasting(t){return!1}static paste(t,e){unreachable("Not implemented")}get propertiesToUpdate(){return[]}get _isDraggable(){return g(this,Bc)}set _isDraggable(t){var e;B(this,Bc,t),(e=this.div)==null||e.classList.toggle("draggable",t)}get isEnterHandled(){return!0}center(){const[t,e]=this.pageDimensions;switch(this.parentRotation){case 90:this.x-=this.height*e/(t*2),this.y+=this.width*t/(e*2);break;case 180:this.x+=this.width/2,this.y+=this.height/2;break;case 270:this.x+=this.height*e/(t*2),this.y-=this.width*t/(e*2);break;default:this.x-=this.width/2,this.y-=this.height/2;break}this.fixAndSetPosition()}addCommands(t){this._uiManager.addCommands(t)}get currentLayer(){return this._uiManager.currentLayer}setInBackground(){this.div.style.zIndex=0}setInForeground(){this.div.style.zIndex=g(this,Cd)}setParent(t){t!==null?(this.pageIndex=t.pageIndex,this.pageDimensions=t.pageDimensions):z(this,Ft,lc).call(this),this.parent=t}focusin(t){this._focusEventsAllowed&&(g(this,Ia)?B(this,Ia,!1):this.parent.setSelected(this))}focusout(t){var n;if(!this._focusEventsAllowed||!this.isAttachedToDOM)return;const e=t.relatedTarget;e!=null&&e.closest(`#${this.id}`)||(t.preventDefault(),(n=this.parent)!=null&&n.isMultipleSelection||this.commitOrRemove())}commitOrRemove(){this.isEmpty()?this.remove():this.commit()}commit(){this.addToAnnotationStorage()}addToAnnotationStorage(){this._uiManager.addToAnnotationStorage(this)}setAt(t,e,n,a){const[l,c]=this.parentDimensions;[n,a]=this.screenToPageTranslation(n,a),this.x=(t+n)/l,this.y=(e+a)/c,this.fixAndSetPosition()}translate(t,e){z(this,Ft,i0).call(this,this.parentDimensions,t,e)}translateInPage(t,e){g(this,Rr)||B(this,Rr,[this.x,this.y]),z(this,Ft,i0).call(this,this.pageDimensions,t,e),this.div.scrollIntoView({block:"nearest"})}drag(t,e){g(this,Rr)||B(this,Rr,[this.x,this.y]);const[n,a]=this.parentDimensions;if(this.x+=t/n,this.y+=e/a,this.parent&&(this.x<0||this.x>1||this.y<0||this.y>1)){const{x:m,y}=this.div.getBoundingClientRect();this.parent.findNewParent(this,m,y)&&(this.x-=Math.floor(this.x),this.y-=Math.floor(this.y))}let{x:l,y:c}=this;const[f,d]=this.getBaseTranslation();l+=f,c+=d,this.div.style.left=`${(100*l).toFixed(2)}%`,this.div.style.top=`${(100*c).toFixed(2)}%`,this.div.scrollIntoView({block:"nearest"})}get _hasBeenMoved(){return!!g(this,Rr)&&(g(this,Rr)[0]!==this.x||g(this,Rr)[1]!==this.y)}getBaseTranslation(){const[t,e]=this.parentDimensions,{_borderLineWidth:n}=$t,a=n/t,l=n/e;switch(this.rotation){case 90:return[-a,l];case 180:return[a,l];case 270:return[a,-l];default:return[-a,-l]}}get _mustFixPosition(){return!0}fixAndSetPosition(t=this.rotation){const[e,n]=this.pageDimensions;let{x:a,y:l,width:c,height:f}=this;if(c*=e,f*=n,a*=e,l*=n,this._mustFixPosition)switch(t){case 0:a=Math.max(0,Math.min(e-c,a)),l=Math.max(0,Math.min(n-f,l));break;case 90:a=Math.max(0,Math.min(e-f,a)),l=Math.min(n,Math.max(c,l));break;case 180:a=Math.min(e,Math.max(c,a)),l=Math.min(n,Math.max(f,l));break;case 270:a=Math.min(e,Math.max(f,a)),l=Math.max(0,Math.min(n-c,l));break}this.x=a/=e,this.y=l/=n;const[d,m]=this.getBaseTranslation();a+=d,l+=m;const{style:y}=this.div;y.left=`${(100*a).toFixed(2)}%`,y.top=`${(100*l).toFixed(2)}%`,this.moveInDOM()}screenToPageTranslation(t,e){var n;return z(n=$t,Vc,n0).call(n,t,e,this.parentRotation)}pageTranslationToScreen(t,e){var n;return z(n=$t,Vc,n0).call(n,t,e,360-this.parentRotation)}get parentScale(){return this._uiManager.viewParameters.realScale}get parentRotation(){return(this._uiManager.viewParameters.rotation+this.pageRotation)%360}get parentDimensions(){const{parentScale:t,pageDimensions:[e,n]}=this;return[e*t,n*t]}setDims(t,e){const[n,a]=this.parentDimensions;this.div.style.width=`${(100*t/n).toFixed(2)}%`,g(this,Da)||(this.div.style.height=`${(100*e/a).toFixed(2)}%`)}fixDims(){const{style:t}=this.div,{height:e,width:n}=t,a=n.endsWith("%"),l=!g(this,Da)&&e.endsWith("%");if(a&&l)return;const[c,f]=this.parentDimensions;a||(t.width=`${(100*parseFloat(n)/c).toFixed(2)}%`),!g(this,Da)&&!l&&(t.height=`${(100*parseFloat(e)/f).toFixed(2)}%`)}getInitialTranslation(){return[0,0]}altTextFinish(){var t;(t=g(this,ce))==null||t.finish()}async addEditToolbar(){return this._editToolbar||g(this,Oa)?this._editToolbar:(this._editToolbar=new EditorToolbar(this),this.div.append(this._editToolbar.render()),g(this,ce)&&await this._editToolbar.addAltText(g(this,ce)),this._editToolbar)}removeEditToolbar(){var t;this._editToolbar&&(this._editToolbar.remove(),this._editToolbar=null,(t=g(this,ce))==null||t.destroy())}addContainer(t){var n;const e=(n=this._editToolbar)==null?void 0:n.div;e?e.before(t):this.div.append(t)}getClientDimensions(){return this.div.getBoundingClientRect()}async addAltTextButton(){g(this,ce)||(AltText.initialize($t._l10n),B(this,ce,new AltText(this)),g(this,Fa)&&(g(this,ce).data=g(this,Fa),B(this,Fa,null)),await this.addEditToolbar())}get altTextData(){var t;return(t=g(this,ce))==null?void 0:t.data}set altTextData(t){g(this,ce)&&(g(this,ce).data=t)}get guessedAltText(){var t;return(t=g(this,ce))==null?void 0:t.guessedText}async setGuessedAltText(t){var e;await((e=g(this,ce))==null?void 0:e.setGuessedText(t))}serializeAltText(t){var e;return(e=g(this,ce))==null?void 0:e.serialize(t)}hasAltText(){return!!g(this,ce)&&!g(this,ce).isEmpty()}hasAltTextData(){var t;return((t=g(this,ce))==null?void 0:t.hasData())??!1}render(){this.div=document.createElement("div"),this.div.setAttribute("data-editor-rotation",(360-this.rotation)%360),this.div.className=this.name,this.div.setAttribute("id",this.id),this.div.tabIndex=g(this,El)?-1:0,this._isVisible||this.div.classList.add("hidden"),this.setInForeground(),z(this,Ft,l0).call(this);const[t,e]=this.parentDimensions;this.parentRotation%180!==0&&(this.div.style.maxWidth=`${(100*e/t).toFixed(2)}%`,this.div.style.maxHeight=`${(100*t/e).toFixed(2)}%`);const[n,a]=this.getInitialTranslation();return this.translate(n,a),bindEvents(this,this.div,["pointerdown"]),this.div}pointerdown(t){const{isMac:e}=util_FeatureTest.platform;if(t.button!==0||t.ctrlKey&&e){t.preventDefault();return}if(B(this,Ia,!0),this._isDraggable){z(this,Ft,Q1).call(this,t);return}z(this,Ft,o0).call(this,t)}get isSelected(){return this._uiManager.isSelected(this)}moveInDOM(){g(this,Un)&&clearTimeout(g(this,Un)),B(this,Un,setTimeout(()=>{var t;B(this,Un,null),(t=this.parent)==null||t.moveEditorInDOM(this)},0))}_setParentAndPosition(t,e,n){t.changeParent(this),this.x=e,this.y=n,this.fixAndSetPosition()}getRect(t,e,n=this.rotation){const a=this.parentScale,[l,c]=this.pageDimensions,[f,d]=this.pageTranslation,m=t/a,y=e/a,A=this.x*l,b=this.y*c,x=this.width*l,E=this.height*c;switch(n){case 0:return[A+m+f,c-b-y-E+d,A+m+x+f,c-b-y+d];case 90:return[A+y+f,c-b+m+d,A+y+E+f,c-b+m+x+d];case 180:return[A-m-x+f,c-b+y+d,A-m+f,c-b+y+E+d];case 270:return[A-y-E+f,c-b-m-x+d,A-y+f,c-b-m+d];default:throw new Error("Invalid rotation")}}getRectInCurrentCoords(t,e){const[n,a,l,c]=t,f=l-n,d=c-a;switch(this.rotation){case 0:return[n,e-c,f,d];case 90:return[n,e-a,d,f];case 180:return[l,e-a,f,d];case 270:return[l,e-c,d,f];default:throw new Error("Invalid rotation")}}onceAdded(){}isEmpty(){return!1}enableEditMode(){B(this,Oa,!0)}disableEditMode(){B(this,Oa,!1)}isInEditMode(){return g(this,Oa)}shouldGetKeyboardEvents(){return g(this,Ss)}needsToBeRebuilt(){return this.div&&!this.isAttachedToDOM}rebuild(){z(this,Ft,l0).call(this)}rotate(t){}serializeDeleted(){var t;return{id:this.annotationElementId,deleted:!0,pageIndex:this.pageIndex,popupRef:((t=this._initialData)==null?void 0:t.popupRef)||""}}serialize(t=!1,e=null){unreachable("An editor must be serializable")}static async deserialize(t,e,n){const a=new this.prototype.constructor({parent:e,id:e.getNextId(),uiManager:n});a.rotation=t.rotation,B(a,Fa,t.accessibilityData);const[l,c]=a.pageDimensions,[f,d,m,y]=a.getRectInCurrentCoords(t.rect,c);return a.x=f/l,a.y=d/c,a.width=m/l,a.height=y/c,a}get hasBeenModified(){return!!this.annotationElementId&&(this.deleted||this.serialize()!==null)}remove(){var t;if((t=g(this,Mr))==null||t.abort(),B(this,Mr,null),this.isEmpty()||this.commit(),this.parent?this.parent.remove(this):this._uiManager.removeEditor(this),g(this,Un)&&(clearTimeout(g(this,Un)),B(this,Un,null)),z(this,Ft,lc).call(this),this.removeEditToolbar(),g(this,en)){for(const e of g(this,en).values())clearTimeout(e);B(this,en,null)}this.parent=null}get isResizable(){return!1}makeResizable(){this.isResizable&&(z(this,Ft,W1).call(this),g(this,Xe).classList.remove("hidden"),bindEvents(this,this.div,["keydown"]))}get toolbarPosition(){return null}keydown(t){if(!this.isResizable||t.target!==this.div||t.key!=="Enter")return;this._uiManager.setSelected(this),B(this,La,{savedX:this.x,savedY:this.y,savedWidth:this.width,savedHeight:this.height});const e=g(this,Xe).children;if(!g(this,_n)){B(this,_n,Array.from(e));const c=z(this,Ft,Z1).bind(this),f=z(this,Ft,J1).bind(this),d=this._uiManager._signal;for(const m of g(this,_n)){const y=m.getAttribute("data-resizer-name");m.setAttribute("role","spinbutton"),m.addEventListener("keydown",c,{signal:d}),m.addEventListener("blur",f,{signal:d}),m.addEventListener("focus",z(this,Ft,tb).bind(this,y),{signal:d}),m.setAttribute("data-l10n-id",$t._l10nResizer[y])}}const n=g(this,_n)[0];let a=0;for(const c of e){if(c===n)break;a++}const l=(360-this.rotation+this.parentRotation)%360/90*(g(this,_n).length/4);if(l!==a){if(l<a)for(let f=0;f<a-l;f++)g(this,Xe).append(g(this,Xe).firstChild);else if(l>a)for(let f=0;f<l-a;f++)g(this,Xe).firstChild.before(g(this,Xe).lastChild);let c=0;for(const f of e){const m=g(this,_n)[c++].getAttribute("data-resizer-name");f.setAttribute("data-l10n-id",$t._l10nResizer[m])}}z(this,Ft,h0).call(this,0),B(this,Ss,!0),g(this,Xe).firstChild.focus({focusVisible:!0}),t.preventDefault(),t.stopImmediatePropagation()}_resizeWithKeyboard(t,e){g(this,Ss)&&z(this,Ft,a0).call(this,g(this,Oc),{movementX:t,movementY:e})}_stopResizingWithKeyboard(){z(this,Ft,lc).call(this),this.div.focus()}select(){var t,e,n;if(this.makeResizable(),(t=this.div)==null||t.classList.add("selectedEditor"),!this._editToolbar){this.addEditToolbar().then(()=>{var a,l;(a=this.div)!=null&&a.classList.contains("selectedEditor")&&((l=this._editToolbar)==null||l.show())});return}(e=this._editToolbar)==null||e.show(),(n=g(this,ce))==null||n.toggleAltTextBadge(!1)}unselect(){var t,e,n,a,l;(t=g(this,Xe))==null||t.classList.add("hidden"),(e=this.div)==null||e.classList.remove("selectedEditor"),(n=this.div)!=null&&n.contains(document.activeElement)&&this._uiManager.currentLayer.div.focus({preventScroll:!0}),(a=this._editToolbar)==null||a.hide(),(l=g(this,ce))==null||l.toggleAltTextBadge(!0)}updateParams(t,e){}disableEditing(){}enableEditing(){}enterInEditMode(){}getImageForAltText(){return null}get contentDiv(){return this.div}get isEditing(){return g(this,Nc)}set isEditing(t){B(this,Nc,t),this.parent&&(t?(this.parent.setSelected(this),this.parent.setActiveEditor(this)):this.parent.setActiveEditor(null))}setAspectRatio(t,e){B(this,Da,!0);const n=t/e,{style:a}=this.div;a.aspectRatio=n,a.height="auto"}static get MIN_SIZE(){return 16}static canCreateNewEmptyEditor(){return!0}get telemetryInitialData(){return{action:"added"}}get telemetryFinalData(){return null}_reportTelemetry(t,e=!1){if(e){g(this,en)||B(this,en,new Map);const{action:n}=t;let a=g(this,en).get(n);a&&clearTimeout(a),a=setTimeout(()=>{this._reportTelemetry(t),g(this,en).delete(n),g(this,en).size===0&&B(this,en,null)},$t._telemetryTimeout),g(this,en).set(n,a);return}t.type||(t.type=this.editorType),this._uiManager._eventBus.dispatch("reporttelemetry",{source:this,details:{type:"editing",data:t}})}show(t=this._isVisible){this.div.classList.toggle("hidden",!t),this._isVisible=t}enable(){this.div&&(this.div.tabIndex=0),B(this,El,!1)}disable(){this.div&&(this.div.tabIndex=-1),B(this,El,!0)}renderAnnotationElement(t){let e=t.container.querySelector(".annotationContent");if(!e)e=document.createElement("div"),e.classList.add("annotationContent",this.editorType),t.container.prepend(e);else if(e.nodeName==="CANVAS"){const n=e;e=document.createElement("div"),e.classList.add("annotationContent",this.editorType),n.before(e)}return e}resetAnnotationElement(t){const{firstChild:e}=t.container;(e==null?void 0:e.nodeName)==="DIV"&&e.classList.contains("annotationContent")&&e.remove()}};Fa=new WeakMap,_n=new WeakMap,ce=new WeakMap,El=new WeakMap,Da=new WeakMap,Xe=new WeakMap,La=new WeakMap,Mr=new WeakMap,Oc=new WeakMap,Ia=new WeakMap,Rr=new WeakMap,Nc=new WeakMap,Oa=new WeakMap,Ss=new WeakMap,Un=new WeakMap,xl=new WeakMap,Sl=new WeakMap,en=new WeakMap,Bc=new WeakMap,Cd=new WeakMap,Ft=new WeakSet,i0=function([t,e],n,a){[n,a]=this.screenToPageTranslation(n,a),this.x+=n/t,this.y+=a/e,this.fixAndSetPosition()},Vc=new WeakSet,n0=function(t,e,n){switch(n){case 90:return[e,-t];case 180:return[-t,-e];case 270:return[-e,t];default:return[t,e]}},s0=function(t){switch(t){case 90:{const[e,n]=this.pageDimensions;return[0,-e/n,n/e,0]}case 180:return[-1,0,0,-1];case 270:{const[e,n]=this.pageDimensions;return[0,e/n,-n/e,0]}default:return[1,0,0,1]}},W1=function(){if(g(this,Xe))return;B(this,Xe,document.createElement("div")),g(this,Xe).classList.add("resizers");const t=this._willKeepAspectRatio?["topLeft","topRight","bottomRight","bottomLeft"]:["topLeft","topMiddle","topRight","middleRight","bottomRight","bottomMiddle","bottomLeft","middleLeft"],e=this._uiManager._signal;for(const n of t){const a=document.createElement("div");g(this,Xe).append(a),a.classList.add("resizer",n),a.setAttribute("data-resizer-name",n),a.addEventListener("pointerdown",z(this,Ft,K1).bind(this,n),{signal:e}),a.addEventListener("contextmenu",noContextMenu,{signal:e}),a.tabIndex=-1}this.div.prepend(g(this,Xe))},K1=function(t,e){var E;e.preventDefault();const{isMac:n}=util_FeatureTest.platform;if(e.button!==0||e.ctrlKey&&n)return;(E=g(this,ce))==null||E.toggle(!1);const a=this._isDraggable;this._isDraggable=!1;const l=new AbortController,c=this._uiManager.combinedSignal(l);this.parent.togglePointerEvents(!1),window.addEventListener("pointermove",z(this,Ft,a0).bind(this,t),{passive:!0,capture:!0,signal:c}),window.addEventListener("contextmenu",noContextMenu,{signal:c});const f=this.x,d=this.y,m=this.width,y=this.height,A=this.parent.div.style.cursor,b=this.div.style.cursor;this.div.style.cursor=this.parent.div.style.cursor=window.getComputedStyle(e.target).cursor;const x=()=>{var T;l.abort(),this.parent.togglePointerEvents(!0),(T=g(this,ce))==null||T.toggle(!0),this._isDraggable=a,this.parent.div.style.cursor=A,this.div.style.cursor=b,z(this,Ft,r0).call(this,f,d,m,y)};window.addEventListener("pointerup",x,{signal:c}),window.addEventListener("blur",x,{signal:c})},r0=function(t,e,n,a){const l=this.x,c=this.y,f=this.width,d=this.height;l===t&&c===e&&f===n&&d===a||this.addCommands({cmd:()=>{this.width=f,this.height=d,this.x=l,this.y=c;const[m,y]=this.parentDimensions;this.setDims(m*f,y*d),this.fixAndSetPosition()},undo:()=>{this.width=n,this.height=a,this.x=t,this.y=e;const[m,y]=this.parentDimensions;this.setDims(m*n,y*a),this.fixAndSetPosition()},mustExec:!0})},a0=function(t,e){const[n,a]=this.parentDimensions,l=this.x,c=this.y,f=this.width,d=this.height,m=$t.MIN_SIZE/n,y=$t.MIN_SIZE/a,A=H=>Math.round(H*1e4)/1e4,b=z(this,Ft,s0).call(this,this.rotation),x=(H,F)=>[b[0]*H+b[2]*F,b[1]*H+b[3]*F],E=z(this,Ft,s0).call(this,360-this.rotation),T=(H,F)=>[E[0]*H+E[2]*F,E[1]*H+E[3]*F];let k,S,M=!1,P=!1;switch(t){case"topLeft":M=!0,k=(H,F)=>[0,0],S=(H,F)=>[H,F];break;case"topMiddle":k=(H,F)=>[H/2,0],S=(H,F)=>[H/2,F];break;case"topRight":M=!0,k=(H,F)=>[H,0],S=(H,F)=>[0,F];break;case"middleRight":P=!0,k=(H,F)=>[H,F/2],S=(H,F)=>[0,F/2];break;case"bottomRight":M=!0,k=(H,F)=>[H,F],S=(H,F)=>[0,0];break;case"bottomMiddle":k=(H,F)=>[H/2,F],S=(H,F)=>[H/2,0];break;case"bottomLeft":M=!0,k=(H,F)=>[0,F],S=(H,F)=>[H,0];break;case"middleLeft":P=!0,k=(H,F)=>[0,F/2],S=(H,F)=>[H,F/2];break}const R=k(f,d),D=S(f,d);let L=x(...D);const G=A(l+L[0]),q=A(c+L[1]);let X=1,J=1,[et,it]=this.screenToPageTranslation(e.movementX,e.movementY);if([et,it]=T(et/n,it/a),M){const H=Math.hypot(f,d);X=J=Math.max(Math.min(Math.hypot(D[0]-R[0]-et,D[1]-R[1]-it)/H,1/f,1/d),m/f,y/d)}else P?X=Math.max(m,Math.min(1,Math.abs(D[0]-R[0]-et)))/f:J=Math.max(y,Math.min(1,Math.abs(D[1]-R[1]-it)))/d;const lt=A(f*X),tt=A(d*J);L=x(...S(lt,tt));const W=G-L[0],O=q-L[1];this.width=lt,this.height=tt,this.x=W,this.y=O,this.setDims(n*lt,a*tt),this.fixAndSetPosition()},o0=function(t){const{isMac:e}=util_FeatureTest.platform;t.ctrlKey&&!e||t.shiftKey||t.metaKey&&e?this.parent.toggleSelected(this):this.parent.setSelected(this)},Q1=function(t){const{isSelected:e}=this;this._uiManager.setUpDragSession();const n=new AbortController,a=this._uiManager.combinedSignal(n);if(e){this.div.classList.add("moving"),B(this,xl,t.clientX),B(this,Sl,t.clientY);const c=f=>{const{clientX:d,clientY:m}=f,[y,A]=this.screenToPageTranslation(d-g(this,xl),m-g(this,Sl));B(this,xl,d),B(this,Sl,m),this._uiManager.dragSelectedEditors(y,A)};window.addEventListener("pointermove",c,{passive:!0,capture:!0,signal:a})}const l=()=>{n.abort(),e&&this.div.classList.remove("moving"),B(this,Ia,!1),this._uiManager.endDragSession()||z(this,Ft,o0).call(this,t)};window.addEventListener("pointerup",l,{signal:a}),window.addEventListener("blur",l,{signal:a})},l0=function(){if(g(this,Mr)||!this.div)return;B(this,Mr,new AbortController);const t=this._uiManager.combinedSignal(g(this,Mr));this.div.addEventListener("focusin",this.focusin.bind(this),{signal:t}),this.div.addEventListener("focusout",this.focusout.bind(this),{signal:t})},Z1=function(t){$t._resizerKeyboardManager.exec(this,t)},J1=function(t){var e;g(this,Ss)&&((e=t.relatedTarget)==null?void 0:e.parentNode)!==g(this,Xe)&&z(this,Ft,lc).call(this)},tb=function(t){B(this,Oc,g(this,Ss)?t:"")},h0=function(t){if(g(this,_n))for(const e of g(this,_n))e.tabIndex=t},lc=function(){if(B(this,Ss,!1),z(this,Ft,h0).call(this,-1),g(this,La)){const{savedX:t,savedY:e,savedWidth:n,savedHeight:a}=g(this,La);z(this,Ft,r0).call(this,t,e,n,a),B(this,La,null)}},U($t,Vc),Mt($t,"_l10n",null),Mt($t,"_l10nResizer",null),Mt($t,"_borderLineWidth",-1),Mt($t,"_colorManager",new ColorManager),Mt($t,"_zIndex",1),Mt($t,"_telemetryTimeout",1e3);let AnnotationEditor=$t;class FakeEditor extends AnnotationEditor{constructor(t){super(t),this.annotationElementId=t.annotationElementId,this.deleted=!0}serialize(){return this.serializeDeleted()}}const SEED=3285377520,MASK_HIGH=4294901760,MASK_LOW=65535;class MurmurHash3_64{constructor(t){this.h1=t?t&4294967295:SEED,this.h2=t?t&4294967295:SEED}update(t){let e,n;if(typeof t=="string"){e=new Uint8Array(t.length*2),n=0;for(let T=0,k=t.length;T<k;T++){const S=t.charCodeAt(T);S<=255?e[n++]=S:(e[n++]=S>>>8,e[n++]=S&255)}}else if(ArrayBuffer.isView(t))e=t.slice(),n=e.byteLength;else throw new Error("Invalid data format, must be a string or TypedArray.");const a=n>>2,l=n-a*4,c=new Uint32Array(e.buffer,0,a);let f=0,d=0,m=this.h1,y=this.h2;const A=3432918353,b=461845907,x=A&MASK_LOW,E=b&MASK_LOW;for(let T=0;T<a;T++)T&1?(f=c[T],f=f*A&MASK_HIGH|f*x&MASK_LOW,f=f<<15|f>>>17,f=f*b&MASK_HIGH|f*E&MASK_LOW,m^=f,m=m<<13|m>>>19,m=m*5+3864292196):(d=c[T],d=d*A&MASK_HIGH|d*x&MASK_LOW,d=d<<15|d>>>17,d=d*b&MASK_HIGH|d*E&MASK_LOW,y^=d,y=y<<13|y>>>19,y=y*5+3864292196);switch(f=0,l){case 3:f^=e[a*4+2]<<16;case 2:f^=e[a*4+1]<<8;case 1:f^=e[a*4],f=f*A&MASK_HIGH|f*x&MASK_LOW,f=f<<15|f>>>17,f=f*b&MASK_HIGH|f*E&MASK_LOW,a&1?m^=f:y^=f}this.h1=m,this.h2=y}hexdigest(){let t=this.h1,e=this.h2;return t^=e>>>1,t=t*3981806797&MASK_HIGH|t*36045&MASK_LOW,e=e*4283543511&MASK_HIGH|((e<<16|t>>>16)*2950163797&MASK_HIGH)>>>16,t^=e>>>1,t=t*444984403&MASK_HIGH|t*60499&MASK_LOW,e=e*3301882366&MASK_HIGH|((e<<16|t>>>16)*3120437893&MASK_HIGH)>>>16,t^=e>>>1,(t>>>0).toString(16).padStart(8,"0")+(e>>>0).toString(16).padStart(8,"0")}}const SerializableEmpty=Object.freeze({map:null,hash:"",transfer:void 0});var Na,Ba,ze,Pd,eb;class AnnotationStorage{constructor(){U(this,Pd);U(this,Na,!1);U(this,Ba,null);U(this,ze,new Map);this.onSetModified=null,this.onResetModified=null,this.onAnnotationEditor=null}getValue(t,e){const n=g(this,ze).get(t);return n===void 0?e:Object.assign(e,n)}getRawValue(t){return g(this,ze).get(t)}remove(t){if(g(this,ze).delete(t),g(this,ze).size===0&&this.resetModified(),typeof this.onAnnotationEditor=="function"){for(const e of g(this,ze).values())if(e instanceof AnnotationEditor)return;this.onAnnotationEditor(null)}}setValue(t,e){const n=g(this,ze).get(t);let a=!1;if(n!==void 0)for(const[l,c]of Object.entries(e))n[l]!==c&&(a=!0,n[l]=c);else a=!0,g(this,ze).set(t,e);a&&z(this,Pd,eb).call(this),e instanceof AnnotationEditor&&typeof this.onAnnotationEditor=="function"&&this.onAnnotationEditor(e.constructor._type)}has(t){return g(this,ze).has(t)}getAll(){return g(this,ze).size>0?objectFromMap(g(this,ze)):null}setAll(t){for(const[e,n]of Object.entries(t))this.setValue(e,n)}get size(){return g(this,ze).size}resetModified(){g(this,Na)&&(B(this,Na,!1),typeof this.onResetModified=="function"&&this.onResetModified())}get print(){return new PrintAnnotationStorage(this)}get serializable(){if(g(this,ze).size===0)return SerializableEmpty;const t=new Map,e=new MurmurHash3_64,n=[],a=Object.create(null);let l=!1;for(const[c,f]of g(this,ze)){const d=f instanceof AnnotationEditor?f.serialize(!1,a):f;d&&(t.set(c,d),e.update(`${c}:${JSON.stringify(d)}`),l||(l=!!d.bitmap))}if(l)for(const c of t.values())c.bitmap&&n.push(c.bitmap);return t.size>0?{map:t,hash:e.hexdigest(),transfer:n}:SerializableEmpty}get editorStats(){let t=null;const e=new Map;for(const n of g(this,ze).values()){if(!(n instanceof AnnotationEditor))continue;const a=n.telemetryFinalData;if(!a)continue;const{type:l}=a;e.has(l)||e.set(l,Object.getPrototypeOf(n).constructor),t||(t=Object.create(null));const c=t[l]||(t[l]=new Map);for(const[f,d]of Object.entries(a)){if(f==="type")continue;let m=c.get(f);m||(m=new Map,c.set(f,m));const y=m.get(d)??0;m.set(d,y+1)}}for(const[n,a]of e)t[n]=a.computeTelemetryFinalData(t[n]);return t}resetModifiedIds(){B(this,Ba,null)}get modifiedIds(){if(g(this,Ba))return g(this,Ba);const t=[];for(const e of g(this,ze).values())!(e instanceof AnnotationEditor)||!e.annotationElementId||!e.serialize()||t.push(e.annotationElementId);return B(this,Ba,{ids:new Set(t),hash:t.join(",")})}}Na=new WeakMap,Ba=new WeakMap,ze=new WeakMap,Pd=new WeakSet,eb=function(){g(this,Na)||(B(this,Na,!0),typeof this.onSetModified=="function"&&this.onSetModified())};var zc;class PrintAnnotationStorage extends AnnotationStorage{constructor(e){super();U(this,zc);const{map:n,hash:a,transfer:l}=e.serializable,c=structuredClone(n,l?{transfer:l}:null);B(this,zc,{map:c,hash:a,transfer:l})}get print(){unreachable("Should not call PrintAnnotationStorage.print")}get serializable(){return g(this,zc)}get modifiedIds(){return shadow(this,"modifiedIds",{ids:new Set,hash:""})}}zc=new WeakMap;var Tl;class FontLoader{constructor({ownerDocument:t=globalThis.document,styleElement:e=null}){U(this,Tl,new Set);this._document=t,this.nativeFontFaces=new Set,this.styleElement=null,this.loadingRequests=[],this.loadTestFontId=0}addNativeFontFace(t){this.nativeFontFaces.add(t),this._document.fonts.add(t)}removeNativeFontFace(t){this.nativeFontFaces.delete(t),this._document.fonts.delete(t)}insertRule(t){this.styleElement||(this.styleElement=this._document.createElement("style"),this._document.documentElement.getElementsByTagName("head")[0].append(this.styleElement));const e=this.styleElement.sheet;e.insertRule(t,e.cssRules.length)}clear(){for(const t of this.nativeFontFaces)this._document.fonts.delete(t);this.nativeFontFaces.clear(),g(this,Tl).clear(),this.styleElement&&(this.styleElement.remove(),this.styleElement=null)}async loadSystemFont({systemFontInfo:t,_inspectFont:e}){if(!(!t||g(this,Tl).has(t.loadedName))){if(assert(!this.disableFontFace,"loadSystemFont shouldn't be called when `disableFontFace` is set."),this.isFontLoadingAPISupported){const{loadedName:n,src:a,style:l}=t,c=new FontFace(n,a,l);this.addNativeFontFace(c);try{await c.load(),g(this,Tl).add(n),e==null||e(t)}catch{warn(`Cannot load system font: ${t.baseFontName}, installing it could help to improve PDF rendering.`),this.removeNativeFontFace(c)}return}unreachable("Not implemented: loadSystemFont without the Font Loading API.")}}async bind(t){if(t.attached||t.missingFile&&!t.systemFontInfo)return;if(t.attached=!0,t.systemFontInfo){await this.loadSystemFont(t);return}if(this.isFontLoadingAPISupported){const n=t.createNativeFontFace();if(n){this.addNativeFontFace(n);try{await n.loaded}catch(a){throw warn(`Failed to load font '${n.family}': '${a}'.`),t.disableFontFace=!0,a}}return}const e=t.createFontFaceRule();if(e){if(this.insertRule(e),this.isSyncFontLoadingSupported)return;await new Promise(n=>{const a=this._queueLoadingCallback(n);this._prepareFontLoadEvent(t,a)})}}get isFontLoadingAPISupported(){var e;const t=!!((e=this._document)!=null&&e.fonts);return shadow(this,"isFontLoadingAPISupported",t)}get isSyncFontLoadingSupported(){let t=!1;return(isNodeJS||typeof navigator<"u"&&typeof(navigator==null?void 0:navigator.userAgent)=="string"&&/Mozilla\/5.0.*?rv:\d+.*? Gecko/.test(navigator.userAgent))&&(t=!0),shadow(this,"isSyncFontLoadingSupported",t)}_queueLoadingCallback(t){function e(){for(assert(!a.done,"completeRequest() cannot be called twice."),a.done=!0;n.length>0&&n[0].done;){const l=n.shift();setTimeout(l.callback,0)}}const{loadingRequests:n}=this,a={done:!1,complete:e,callback:t};return n.push(a),a}get _loadTestFont(){const t=atob("T1RUTwALAIAAAwAwQ0ZGIDHtZg4AAAOYAAAAgUZGVE1lkzZwAAAEHAAAABxHREVGABQAFQAABDgAAAAeT1MvMlYNYwkAAAEgAAAAYGNtYXABDQLUAAACNAAAAUJoZWFk/xVFDQAAALwAAAA2aGhlYQdkA+oAAAD0AAAAJGhtdHgD6AAAAAAEWAAAAAZtYXhwAAJQAAAAARgAAAAGbmFtZVjmdH4AAAGAAAAAsXBvc3T/hgAzAAADeAAAACAAAQAAAAEAALZRFsRfDzz1AAsD6AAAAADOBOTLAAAAAM4KHDwAAAAAA+gDIQAAAAgAAgAAAAAAAAABAAADIQAAAFoD6AAAAAAD6AABAAAAAAAAAAAAAAAAAAAAAQAAUAAAAgAAAAQD6AH0AAUAAAKKArwAAACMAooCvAAAAeAAMQECAAACAAYJAAAAAAAAAAAAAQAAAAAAAAAAAAAAAFBmRWQAwAAuAC4DIP84AFoDIQAAAAAAAQAAAAAAAAAAACAAIAABAAAADgCuAAEAAAAAAAAAAQAAAAEAAAAAAAEAAQAAAAEAAAAAAAIAAQAAAAEAAAAAAAMAAQAAAAEAAAAAAAQAAQAAAAEAAAAAAAUAAQAAAAEAAAAAAAYAAQAAAAMAAQQJAAAAAgABAAMAAQQJAAEAAgABAAMAAQQJAAIAAgABAAMAAQQJAAMAAgABAAMAAQQJAAQAAgABAAMAAQQJAAUAAgABAAMAAQQJAAYAAgABWABYAAAAAAAAAwAAAAMAAAAcAAEAAAAAADwAAwABAAAAHAAEACAAAAAEAAQAAQAAAC7//wAAAC7////TAAEAAAAAAAABBgAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAAAAAD/gwAyAAAAAQAAAAAAAAAAAAAAAAAAAAABAAQEAAEBAQJYAAEBASH4DwD4GwHEAvgcA/gXBIwMAYuL+nz5tQXkD5j3CBLnEQACAQEBIVhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYAAABAQAADwACAQEEE/t3Dov6fAH6fAT+fPp8+nwHDosMCvm1Cvm1DAz6fBQAAAAAAAABAAAAAMmJbzEAAAAAzgTjFQAAAADOBOQpAAEAAAAAAAAADAAUAAQAAAABAAAAAgABAAAAAAAAAAAD6AAAAAAAAA==");return shadow(this,"_loadTestFont",t)}_prepareFontLoadEvent(t,e){function n(R,D){return R.charCodeAt(D)<<24|R.charCodeAt(D+1)<<16|R.charCodeAt(D+2)<<8|R.charCodeAt(D+3)&255}function a(R,D,L,G){const q=R.substring(0,D),X=R.substring(D+L);return q+G+X}let l,c;const f=this._document.createElement("canvas");f.width=1,f.height=1;const d=f.getContext("2d");let m=0;function y(R,D){if(++m>30){warn("Load test font never loaded."),D();return}if(d.font="30px "+R,d.fillText(".",0,20),d.getImageData(0,0,1,1).data[3]>0){D();return}setTimeout(y.bind(null,R,D))}const A=`lt${Date.now()}${this.loadTestFontId++}`;let b=this._loadTestFont;b=a(b,976,A.length,A);const E=16,T=1482184792;let k=n(b,E);for(l=0,c=A.length-3;l<c;l+=4)k=k-T+n(A,l)|0;l<A.length&&(k=k-T+n(A+"XXX",l)|0),b=a(b,E,4,string32(k));const S=`url(data:font/opentype;base64,${btoa(b)});`,M=`@font-face {font-family:"${A}";src:${S}}`;this.insertRule(M);const P=this._document.createElement("div");P.style.visibility="hidden",P.style.width=P.style.height="10px",P.style.position="absolute",P.style.top=P.style.left="0px";for(const R of[t.loadedName,A]){const D=this._document.createElement("span");D.textContent="Hi",D.style.fontFamily=R,P.append(D)}this._document.body.append(P),y(A,()=>{P.remove(),e.complete()})}}Tl=new WeakMap;class FontFaceObject{constructor(t,{disableFontFace:e=!1,inspectFont:n=null}){this.compiledGlyphs=Object.create(null);for(const a in t)this[a]=t[a];this.disableFontFace=e===!0,this._inspectFont=n}createNativeFontFace(){var e;if(!this.data||this.disableFontFace)return null;let t;if(!this.cssFontInfo)t=new FontFace(this.loadedName,this.data,{});else{const n={weight:this.cssFontInfo.fontWeight};this.cssFontInfo.italicAngle&&(n.style=`oblique ${this.cssFontInfo.italicAngle}deg`),t=new FontFace(this.cssFontInfo.fontFamily,this.data,n)}return(e=this._inspectFont)==null||e.call(this,this),t}createFontFaceRule(){var n;if(!this.data||this.disableFontFace)return null;const t=`url(data:${this.mimetype};base64,${toBase64Util(this.data)});`;let e;if(!this.cssFontInfo)e=`@font-face {font-family:"${this.loadedName}";src:${t}}`;else{let a=`font-weight: ${this.cssFontInfo.fontWeight};`;this.cssFontInfo.italicAngle&&(a+=`font-style: oblique ${this.cssFontInfo.italicAngle}deg;`),e=`@font-face {font-family:"${this.cssFontInfo.fontFamily}";${a}src:${t}}`}return(n=this._inspectFont)==null||n.call(this,this,t),e}getPathGenerator(t,e){if(this.compiledGlyphs[e]!==void 0)return this.compiledGlyphs[e];let n;try{n=t.get(this.loadedName+"_path_"+e)}catch(l){warn(`getPathGenerator - ignoring character: "${l}".`)}if(!Array.isArray(n)||n.length===0)return this.compiledGlyphs[e]=function(l,c){};const a=[];for(let l=0,c=n.length;l<c;)switch(n[l++]){case FontRenderOps.BEZIER_CURVE_TO:{const[f,d,m,y,A,b]=n.slice(l,l+6);a.push(x=>x.bezierCurveTo(f,d,m,y,A,b)),l+=6}break;case FontRenderOps.MOVE_TO:{const[f,d]=n.slice(l,l+2);a.push(m=>m.moveTo(f,d)),l+=2}break;case FontRenderOps.LINE_TO:{const[f,d]=n.slice(l,l+2);a.push(m=>m.lineTo(f,d)),l+=2}break;case FontRenderOps.QUADRATIC_CURVE_TO:{const[f,d,m,y]=n.slice(l,l+4);a.push(A=>A.quadraticCurveTo(f,d,m,y)),l+=4}break;case FontRenderOps.RESTORE:a.push(f=>f.restore());break;case FontRenderOps.SAVE:a.push(f=>f.save());break;case FontRenderOps.SCALE:assert(a.length===2,"Scale command is only valid at the third position.");break;case FontRenderOps.TRANSFORM:{const[f,d,m,y,A,b]=n.slice(l,l+6);a.push(x=>x.transform(f,d,m,y,A,b)),l+=6}break;case FontRenderOps.TRANSLATE:{const[f,d]=n.slice(l,l+2);a.push(m=>m.translate(f,d)),l+=2}break}return this.compiledGlyphs[e]=function(c,f){a[0](c),a[1](c),c.scale(f,-f);for(let d=2,m=a.length;d<m;d++)a[d](c)}}}var Hc;class BaseCanvasFactory{constructor({enableHWA:t=!1}){U(this,Hc,!1);B(this,Hc,t)}create(t,e){if(t<=0||e<=0)throw new Error("Invalid canvas size");const n=this._createCanvas(t,e);return{canvas:n,context:n.getContext("2d",{willReadFrequently:!g(this,Hc)})}}reset(t,e,n){if(!t.canvas)throw new Error("Canvas is not specified");if(e<=0||n<=0)throw new Error("Invalid canvas size");t.canvas.width=e,t.canvas.height=n}destroy(t){if(!t.canvas)throw new Error("Canvas is not specified");t.canvas.width=0,t.canvas.height=0,t.canvas=null,t.context=null}_createCanvas(t,e){unreachable("Abstract method `_createCanvas` called.")}}Hc=new WeakMap;class DOMCanvasFactory extends BaseCanvasFactory{constructor({ownerDocument:t=globalThis.document,enableHWA:e=!1}){super({enableHWA:e}),this._document=t}_createCanvas(t,e){const n=this._document.createElement("canvas");return n.width=t,n.height=e,n}}class BaseCMapReaderFactory{constructor({baseUrl:t=null,isCompressed:e=!0}){this.baseUrl=t,this.isCompressed=e}async fetch({name:t}){if(!this.baseUrl)throw new Error("Ensure that the `cMapUrl` and `cMapPacked` API parameters are provided.");if(!t)throw new Error("CMap name must be specified.");const e=this.baseUrl+t+(this.isCompressed?".bcmap":"");return this._fetch(e).then(n=>({cMapData:n,isCompressed:this.isCompressed})).catch(n=>{throw new Error(`Unable to load ${this.isCompressed?"binary ":""}CMap at: ${e}`)})}async _fetch(t){unreachable("Abstract method `_fetch` called.")}}class DOMCMapReaderFactory extends BaseCMapReaderFactory{async _fetch(t){const e=await fetchData(t,this.isCompressed?"arraybuffer":"text");return e instanceof ArrayBuffer?new Uint8Array(e):stringToBytes(e)}}class BaseFilterFactory{addFilter(t){return"none"}addHCMFilter(t,e){return"none"}addAlphaFilter(t){return"none"}addLuminosityFilter(t){return"none"}addHighlightHCMFilter(t,e,n,a,l){return"none"}destroy(t=!1){}}var Va,za,jn,Ts,ei,Md,Ha,bt,Je,sl,rl,Jf,al,ib,c0,ol,hc,cc,u0,uc;class DOMFilterFactory extends BaseFilterFactory{constructor({docId:e,ownerDocument:n=globalThis.document}){super();U(this,bt);U(this,Va);U(this,za);U(this,jn);U(this,Ts);U(this,ei);U(this,Md);U(this,Ha,0);B(this,Ts,e),B(this,ei,n)}addFilter(e){if(!e)return"none";let n=g(this,bt,Je).get(e);if(n)return n;const[a,l,c]=z(this,bt,Jf).call(this,e),f=e.length===1?a:`${a}${l}${c}`;if(n=g(this,bt,Je).get(f),n)return g(this,bt,Je).set(e,n),n;const d=`g_${g(this,Ts)}_transfer_map_${li(this,Ha)._++}`,m=z(this,bt,al).call(this,d);g(this,bt,Je).set(e,m),g(this,bt,Je).set(f,m);const y=z(this,bt,ol).call(this,d);return z(this,bt,cc).call(this,a,l,c,y),m}addHCMFilter(e,n){var E;const a=`${e}-${n}`,l="base";let c=g(this,bt,sl).get(l);if((c==null?void 0:c.key)===a||(c?((E=c.filter)==null||E.remove(),c.key=a,c.url="none",c.filter=null):(c={key:a,url:"none",filter:null},g(this,bt,sl).set(l,c)),!e||!n))return c.url;const f=z(this,bt,uc).call(this,e);e=Util.makeHexColor(...f);const d=z(this,bt,uc).call(this,n);if(n=Util.makeHexColor(...d),g(this,bt,rl).style.color="",e==="#000000"&&n==="#ffffff"||e===n)return c.url;const m=new Array(256);for(let T=0;T<=255;T++){const k=T/255;m[T]=k<=.03928?k/12.92:((k+.055)/1.055)**2.4}const y=m.join(","),A=`g_${g(this,Ts)}_hcm_filter`,b=c.filter=z(this,bt,ol).call(this,A);z(this,bt,cc).call(this,y,y,y,b),z(this,bt,c0).call(this,b);const x=(T,k)=>{const S=f[T]/255,M=d[T]/255,P=new Array(k+1);for(let R=0;R<=k;R++)P[R]=S+R/k*(M-S);return P.join(",")};return z(this,bt,cc).call(this,x(0,5),x(1,5),x(2,5),b),c.url=z(this,bt,al).call(this,A),c.url}addAlphaFilter(e){let n=g(this,bt,Je).get(e);if(n)return n;const[a]=z(this,bt,Jf).call(this,[e]),l=`alpha_${a}`;if(n=g(this,bt,Je).get(l),n)return g(this,bt,Je).set(e,n),n;const c=`g_${g(this,Ts)}_alpha_map_${li(this,Ha)._++}`,f=z(this,bt,al).call(this,c);g(this,bt,Je).set(e,f),g(this,bt,Je).set(l,f);const d=z(this,bt,ol).call(this,c);return z(this,bt,u0).call(this,a,d),f}addLuminosityFilter(e){let n=g(this,bt,Je).get(e||"luminosity");if(n)return n;let a,l;if(e?([a]=z(this,bt,Jf).call(this,[e]),l=`luminosity_${a}`):l="luminosity",n=g(this,bt,Je).get(l),n)return g(this,bt,Je).set(e,n),n;const c=`g_${g(this,Ts)}_luminosity_map_${li(this,Ha)._++}`,f=z(this,bt,al).call(this,c);g(this,bt,Je).set(e,f),g(this,bt,Je).set(l,f);const d=z(this,bt,ol).call(this,c);return z(this,bt,ib).call(this,d),e&&z(this,bt,u0).call(this,a,d),f}addHighlightHCMFilter(e,n,a,l,c){var M;const f=`${n}-${a}-${l}-${c}`;let d=g(this,bt,sl).get(e);if((d==null?void 0:d.key)===f||(d?((M=d.filter)==null||M.remove(),d.key=f,d.url="none",d.filter=null):(d={key:f,url:"none",filter:null},g(this,bt,sl).set(e,d)),!n||!a))return d.url;const[m,y]=[n,a].map(z(this,bt,uc).bind(this));let A=Math.round(.2126*m[0]+.7152*m[1]+.0722*m[2]),b=Math.round(.2126*y[0]+.7152*y[1]+.0722*y[2]),[x,E]=[l,c].map(z(this,bt,uc).bind(this));b<A&&([A,b,x,E]=[b,A,E,x]),g(this,bt,rl).style.color="";const T=(P,R,D)=>{const L=new Array(256),G=(b-A)/D,q=P/255,X=(R-P)/(255*D);let J=0;for(let et=0;et<=D;et++){const it=Math.round(A+et*G),lt=q+et*X;for(let tt=J;tt<=it;tt++)L[tt]=lt;J=it+1}for(let et=J;et<256;et++)L[et]=L[J-1];return L.join(",")},k=`g_${g(this,Ts)}_hcm_${e}_filter`,S=d.filter=z(this,bt,ol).call(this,k);return z(this,bt,c0).call(this,S),z(this,bt,cc).call(this,T(x[0],E[0],5),T(x[1],E[1],5),T(x[2],E[2],5),S),d.url=z(this,bt,al).call(this,k),d.url}destroy(e=!1){e&&g(this,bt,sl).size!==0||(g(this,jn)&&(g(this,jn).parentNode.parentNode.remove(),B(this,jn,null)),g(this,za)&&(g(this,za).clear(),B(this,za,null)),B(this,Ha,0))}}Va=new WeakMap,za=new WeakMap,jn=new WeakMap,Ts=new WeakMap,ei=new WeakMap,Md=new WeakMap,Ha=new WeakMap,bt=new WeakSet,Je=function(){return g(this,za)||B(this,za,new Map)},sl=function(){return g(this,Md)||B(this,Md,new Map)},rl=function(){if(!g(this,jn)){const e=g(this,ei).createElement("div"),{style:n}=e;n.visibility="hidden",n.contain="strict",n.width=n.height=0,n.position="absolute",n.top=n.left=0,n.zIndex=-1;const a=g(this,ei).createElementNS(SVG_NS,"svg");a.setAttribute("width",0),a.setAttribute("height",0),B(this,jn,g(this,ei).createElementNS(SVG_NS,"defs")),e.append(a),a.append(g(this,jn)),g(this,ei).body.append(e)}return g(this,jn)},Jf=function(e){if(e.length===1){const m=e[0],y=new Array(256);for(let b=0;b<256;b++)y[b]=m[b]/255;const A=y.join(",");return[A,A,A]}const[n,a,l]=e,c=new Array(256),f=new Array(256),d=new Array(256);for(let m=0;m<256;m++)c[m]=n[m]/255,f[m]=a[m]/255,d[m]=l[m]/255;return[c.join(","),f.join(","),d.join(",")]},al=function(e){if(g(this,Va)===void 0){B(this,Va,"");const n=g(this,ei).URL;n!==g(this,ei).baseURI&&(isDataScheme(n)?warn('#createUrl: ignore "data:"-URL for performance reasons.'):B(this,Va,n.split("#",1)[0]))}return`url(${g(this,Va)}#${e})`},ib=function(e){const n=g(this,ei).createElementNS(SVG_NS,"feColorMatrix");n.setAttribute("type","matrix"),n.setAttribute("values","0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.3 0.59 0.11 0 0"),e.append(n)},c0=function(e){const n=g(this,ei).createElementNS(SVG_NS,"feColorMatrix");n.setAttribute("type","matrix"),n.setAttribute("values","0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0 0 0 1 0"),e.append(n)},ol=function(e){const n=g(this,ei).createElementNS(SVG_NS,"filter");return n.setAttribute("color-interpolation-filters","sRGB"),n.setAttribute("id",e),g(this,bt,rl).append(n),n},hc=function(e,n,a){const l=g(this,ei).createElementNS(SVG_NS,n);l.setAttribute("type","discrete"),l.setAttribute("tableValues",a),e.append(l)},cc=function(e,n,a,l){const c=g(this,ei).createElementNS(SVG_NS,"feComponentTransfer");l.append(c),z(this,bt,hc).call(this,c,"feFuncR",e),z(this,bt,hc).call(this,c,"feFuncG",n),z(this,bt,hc).call(this,c,"feFuncB",a)},u0=function(e,n){const a=g(this,ei).createElementNS(SVG_NS,"feComponentTransfer");n.append(a),z(this,bt,hc).call(this,a,"feFuncA",e)},uc=function(e){return g(this,bt,rl).style.color=e,getRGB(getComputedStyle(g(this,bt,rl)).getPropertyValue("color"))};class BaseStandardFontDataFactory{constructor({baseUrl:t=null}){this.baseUrl=t}async fetch({filename:t}){if(!this.baseUrl)throw new Error("Ensure that the `standardFontDataUrl` API parameter is provided.");if(!t)throw new Error("Font filename must be specified.");const e=`${this.baseUrl}${t}`;return this._fetch(e).catch(n=>{throw new Error(`Unable to load font data at: ${e}`)})}async _fetch(t){unreachable("Abstract method `_fetch` called.")}}class DOMStandardFontDataFactory extends BaseStandardFontDataFactory{async _fetch(t){const e=await fetchData(t,"arraybuffer");return new Uint8Array(e)}}if(isNodeJS){var packageCapability=Promise.withResolvers(),packageMap=null;(async()=>{const t=await __vitePreload(()=>import("./__vite-browser-external-BIHI7g3E.js"),[]),e=await __vitePreload(()=>import("./__vite-browser-external-BIHI7g3E.js"),[]),n=await __vitePreload(()=>import("./__vite-browser-external-BIHI7g3E.js"),[]),a=await __vitePreload(()=>import("./__vite-browser-external-BIHI7g3E.js"),[]);let l,c;return new Map(Object.entries({fs:t,http:e,https:n,url:a,canvas:l,path2d:c}))})().then(t=>{packageMap=t,packageCapability.resolve()},t=>{warn(`loadPackages: ${t}`),packageMap=new Map,packageCapability.resolve()})}class NodePackages{static get promise(){return packageCapability.promise}static get(t){return packageMap==null?void 0:packageMap.get(t)}}async function node_utils_fetchData(i){const e=await NodePackages.get("fs").promises.readFile(i);return new Uint8Array(e)}class NodeFilterFactory extends BaseFilterFactory{}class NodeCanvasFactory extends BaseCanvasFactory{_createCanvas(t,e){return NodePackages.get("canvas").createCanvas(t,e)}}class NodeCMapReaderFactory extends BaseCMapReaderFactory{async _fetch(t){return node_utils_fetchData(t)}}class NodeStandardFontDataFactory extends BaseStandardFontDataFactory{async _fetch(t){return node_utils_fetchData(t)}}const PathType={FILL:"Fill",STROKE:"Stroke",SHADING:"Shading"};function applyBoundingBox(i,t){if(!t)return;const e=t[2]-t[0],n=t[3]-t[1],a=new Path2D;a.rect(t[0],t[1],e,n),i.clip(a)}class BaseShadingPattern{getPattern(){unreachable("Abstract method `getPattern` called.")}}class RadialAxialShadingPattern extends BaseShadingPattern{constructor(t){super(),this._type=t[1],this._bbox=t[2],this._colorStops=t[3],this._p0=t[4],this._p1=t[5],this._r0=t[6],this._r1=t[7],this.matrix=null}_createGradient(t){let e;this._type==="axial"?e=t.createLinearGradient(this._p0[0],this._p0[1],this._p1[0],this._p1[1]):this._type==="radial"&&(e=t.createRadialGradient(this._p0[0],this._p0[1],this._r0,this._p1[0],this._p1[1],this._r1));for(const n of this._colorStops)e.addColorStop(n[0],n[1]);return e}getPattern(t,e,n,a){let l;if(a===PathType.STROKE||a===PathType.FILL){const c=e.current.getClippedPathBoundingBox(a,getCurrentTransform(t))||[0,0,0,0],f=Math.ceil(c[2]-c[0])||1,d=Math.ceil(c[3]-c[1])||1,m=e.cachedCanvases.getCanvas("pattern",f,d),y=m.context;y.clearRect(0,0,y.canvas.width,y.canvas.height),y.beginPath(),y.rect(0,0,y.canvas.width,y.canvas.height),y.translate(-c[0],-c[1]),n=Util.transform(n,[1,0,0,1,c[0],c[1]]),y.transform(...e.baseTransform),this.matrix&&y.transform(...this.matrix),applyBoundingBox(y,this._bbox),y.fillStyle=this._createGradient(y),y.fill(),l=t.createPattern(m.canvas,"no-repeat");const A=new DOMMatrix(n);l.setTransform(A)}else applyBoundingBox(t,this._bbox),l=this._createGradient(t);return l}}function drawTriangle(i,t,e,n,a,l,c,f){const d=t.coords,m=t.colors,y=i.data,A=i.width*4;let b;d[e+1]>d[n+1]&&(b=e,e=n,n=b,b=l,l=c,c=b),d[n+1]>d[a+1]&&(b=n,n=a,a=b,b=c,c=f,f=b),d[e+1]>d[n+1]&&(b=e,e=n,n=b,b=l,l=c,c=b);const x=(d[e]+t.offsetX)*t.scaleX,E=(d[e+1]+t.offsetY)*t.scaleY,T=(d[n]+t.offsetX)*t.scaleX,k=(d[n+1]+t.offsetY)*t.scaleY,S=(d[a]+t.offsetX)*t.scaleX,M=(d[a+1]+t.offsetY)*t.scaleY;if(E>=M)return;const P=m[l],R=m[l+1],D=m[l+2],L=m[c],G=m[c+1],q=m[c+2],X=m[f],J=m[f+1],et=m[f+2],it=Math.round(E),lt=Math.round(M);let tt,W,O,H,F,N,V,$;for(let Q=it;Q<=lt;Q++){if(Q<k){const mt=Q<E?0:(E-Q)/(E-k);tt=x-(x-T)*mt,W=P-(P-L)*mt,O=R-(R-G)*mt,H=D-(D-q)*mt}else{let mt;Q>M?mt=1:k===M?mt=0:mt=(k-Q)/(k-M),tt=T-(T-S)*mt,W=L-(L-X)*mt,O=G-(G-J)*mt,H=q-(q-et)*mt}let st;Q<E?st=0:Q>M?st=1:st=(E-Q)/(E-M),F=x-(x-S)*st,N=P-(P-X)*st,V=R-(R-J)*st,$=D-(D-et)*st;const rt=Math.round(Math.min(tt,F)),pt=Math.round(Math.max(tt,F));let ht=A*Q+rt*4;for(let mt=rt;mt<=pt;mt++)st=(tt-mt)/(tt-F),st<0?st=0:st>1&&(st=1),y[ht++]=W-(W-N)*st|0,y[ht++]=O-(O-V)*st|0,y[ht++]=H-(H-$)*st|0,y[ht++]=255}}function drawFigure(i,t,e){const n=t.coords,a=t.colors;let l,c;switch(t.type){case"lattice":const f=t.verticesPerRow,d=Math.floor(n.length/f)-1,m=f-1;for(l=0;l<d;l++){let y=l*f;for(let A=0;A<m;A++,y++)drawTriangle(i,e,n[y],n[y+1],n[y+f],a[y],a[y+1],a[y+f]),drawTriangle(i,e,n[y+f+1],n[y+1],n[y+f],a[y+f+1],a[y+1],a[y+f])}break;case"triangles":for(l=0,c=n.length;l<c;l+=3)drawTriangle(i,e,n[l],n[l+1],n[l+2],a[l],a[l+1],a[l+2]);break;default:throw new Error("illegal figure")}}class MeshShadingPattern extends BaseShadingPattern{constructor(t){super(),this._coords=t[2],this._colors=t[3],this._figures=t[4],this._bounds=t[5],this._bbox=t[7],this._background=t[8],this.matrix=null}_createMeshCanvas(t,e,n){const f=Math.floor(this._bounds[0]),d=Math.floor(this._bounds[1]),m=Math.ceil(this._bounds[2])-f,y=Math.ceil(this._bounds[3])-d,A=Math.min(Math.ceil(Math.abs(m*t[0]*1.1)),3e3),b=Math.min(Math.ceil(Math.abs(y*t[1]*1.1)),3e3),x=m/A,E=y/b,T={coords:this._coords,colors:this._colors,offsetX:-f,offsetY:-d,scaleX:1/x,scaleY:1/E},k=A+2*2,S=b+2*2,M=n.getCanvas("mesh",k,S),P=M.context,R=P.createImageData(A,b);if(e){const L=R.data;for(let G=0,q=L.length;G<q;G+=4)L[G]=e[0],L[G+1]=e[1],L[G+2]=e[2],L[G+3]=255}for(const L of this._figures)drawFigure(R,L,T);return P.putImageData(R,2,2),{canvas:M.canvas,offsetX:f-2*x,offsetY:d-2*E,scaleX:x,scaleY:E}}getPattern(t,e,n,a){applyBoundingBox(t,this._bbox);let l;if(a===PathType.SHADING)l=Util.singularValueDecompose2dScale(getCurrentTransform(t));else if(l=Util.singularValueDecompose2dScale(e.baseTransform),this.matrix){const f=Util.singularValueDecompose2dScale(this.matrix);l=[l[0]*f[0],l[1]*f[1]]}const c=this._createMeshCanvas(l,a===PathType.SHADING?null:this._background,e.cachedCanvases);return a!==PathType.SHADING&&(t.setTransform(...e.baseTransform),this.matrix&&t.transform(...this.matrix)),t.translate(c.offsetX,c.offsetY),t.scale(c.scaleX,c.scaleY),t.createPattern(c.canvas,"no-repeat")}}class DummyShadingPattern extends BaseShadingPattern{getPattern(){return"hotpink"}}function getShadingPattern(i){switch(i[0]){case"RadialAxial":return new RadialAxialShadingPattern(i);case"Mesh":return new MeshShadingPattern(i);case"Dummy":return new DummyShadingPattern}throw new Error(`Unknown IR type: ${i[0]}`)}const PaintType={COLORED:1,UNCOLORED:2},Rd=class Rd{constructor(t,e,n,a,l){this.operatorList=t[2],this.matrix=t[3],this.bbox=t[4],this.xstep=t[5],this.ystep=t[6],this.paintType=t[7],this.tilingType=t[8],this.color=e,this.ctx=n,this.canvasGraphicsFactory=a,this.baseTransform=l}createPatternCanvas(t){const{bbox:e,operatorList:n,paintType:a,tilingType:l,color:c,canvasGraphicsFactory:f}=this;let{xstep:d,ystep:m}=this;d=Math.abs(d),m=Math.abs(m),info("TilingType: "+l);const y=e[0],A=e[1],b=e[2],x=e[3],E=b-y,T=x-A,k=Util.singularValueDecompose2dScale(this.matrix),S=Util.singularValueDecompose2dScale(this.baseTransform),M=k[0]*S[0],P=k[1]*S[1];let R=E,D=T,L=!1,G=!1;const q=Math.ceil(d*M),X=Math.ceil(m*P),J=Math.ceil(E*M),et=Math.ceil(T*P);q>=J?R=d:L=!0,X>=et?D=m:G=!0;const it=this.getSizeAndScale(R,this.ctx.canvas.width,M),lt=this.getSizeAndScale(D,this.ctx.canvas.height,P),tt=t.cachedCanvases.getCanvas("pattern",it.size,lt.size),W=tt.context,O=f.createCanvasGraphics(W);if(O.groupLevel=t.groupLevel,this.setFillAndStrokeStyleToContext(O,a,c),W.translate(-it.scale*y,-lt.scale*A),O.transform(it.scale,0,0,lt.scale,0,0),W.save(),this.clipBbox(O,y,A,b,x),O.baseTransform=getCurrentTransform(O.ctx),O.executeOperatorList(n),O.endDrawing(),W.restore(),L||G){const H=tt.canvas;L&&(R=d),G&&(D=m);const F=this.getSizeAndScale(R,this.ctx.canvas.width,M),N=this.getSizeAndScale(D,this.ctx.canvas.height,P),V=F.size,$=N.size,Q=t.cachedCanvases.getCanvas("pattern-workaround",V,$),st=Q.context,rt=L?Math.floor(E/d):0,pt=G?Math.floor(T/m):0;for(let ht=0;ht<=rt;ht++)for(let mt=0;mt<=pt;mt++)st.drawImage(H,V*ht,$*mt,V,$,0,0,V,$);return{canvas:Q.canvas,scaleX:F.scale,scaleY:N.scale,offsetX:y,offsetY:A}}return{canvas:tt.canvas,scaleX:it.scale,scaleY:lt.scale,offsetX:y,offsetY:A}}getSizeAndScale(t,e,n){const a=Math.max(Rd.MAX_PATTERN_SIZE,e);let l=Math.ceil(t*n);return l>=a?l=a:n=l/t,{scale:n,size:l}}clipBbox(t,e,n,a,l){const c=a-e,f=l-n;t.ctx.rect(e,n,c,f),t.current.updateRectMinMax(getCurrentTransform(t.ctx),[e,n,a,l]),t.clip(),t.endPath()}setFillAndStrokeStyleToContext(t,e,n){const a=t.ctx,l=t.current;switch(e){case PaintType.COLORED:const c=this.ctx;a.fillStyle=c.fillStyle,a.strokeStyle=c.strokeStyle,l.fillColor=c.fillStyle,l.strokeColor=c.strokeStyle;break;case PaintType.UNCOLORED:const f=Util.makeHexColor(n[0],n[1],n[2]);a.fillStyle=f,a.strokeStyle=f,l.fillColor=f,l.strokeColor=f;break;default:throw new FormatError(`Unsupported paint type: ${e}`)}}getPattern(t,e,n,a){let l=n;a!==PathType.SHADING&&(l=Util.transform(l,e.baseTransform),this.matrix&&(l=Util.transform(l,this.matrix)));const c=this.createPatternCanvas(e);let f=new DOMMatrix(l);f=f.translate(c.offsetX,c.offsetY),f=f.scale(1/c.scaleX,1/c.scaleY);const d=t.createPattern(c.canvas,"repeat");return d.setTransform(f),d}};Mt(Rd,"MAX_PATTERN_SIZE",3e3);let TilingPattern=Rd;function convertBlackAndWhiteToRGBA({src:i,srcPos:t=0,dest:e,width:n,height:a,nonBlackColor:l=4294967295,inverseDecode:c=!1}){const f=util_FeatureTest.isLittleEndian?4278190080:255,[d,m]=c?[l,f]:[f,l],y=n>>3,A=n&7,b=i.length;e=new Uint32Array(e.buffer);let x=0;for(let E=0;E<a;E++){for(const k=t+y;t<k;t++){const S=t<b?i[t]:255;e[x++]=S&128?m:d,e[x++]=S&64?m:d,e[x++]=S&32?m:d,e[x++]=S&16?m:d,e[x++]=S&8?m:d,e[x++]=S&4?m:d,e[x++]=S&2?m:d,e[x++]=S&1?m:d}if(A===0)continue;const T=t<b?i[t++]:255;for(let k=0;k<A;k++)e[x++]=T&1<<7-k?m:d}return{srcPos:t,destPos:x}}const MIN_FONT_SIZE=16,MAX_FONT_SIZE=100,EXECUTION_TIME=15,EXECUTION_STEPS=10,MAX_SIZE_TO_COMPILE=1e3,FULL_CHUNK_HEIGHT=16;function mirrorContextOperations(i,t){if(i._removeMirroring)throw new Error("Context is already forwarding operations.");i.__originalSave=i.save,i.__originalRestore=i.restore,i.__originalRotate=i.rotate,i.__originalScale=i.scale,i.__originalTranslate=i.translate,i.__originalTransform=i.transform,i.__originalSetTransform=i.setTransform,i.__originalResetTransform=i.resetTransform,i.__originalClip=i.clip,i.__originalMoveTo=i.moveTo,i.__originalLineTo=i.lineTo,i.__originalBezierCurveTo=i.bezierCurveTo,i.__originalRect=i.rect,i.__originalClosePath=i.closePath,i.__originalBeginPath=i.beginPath,i._removeMirroring=()=>{i.save=i.__originalSave,i.restore=i.__originalRestore,i.rotate=i.__originalRotate,i.scale=i.__originalScale,i.translate=i.__originalTranslate,i.transform=i.__originalTransform,i.setTransform=i.__originalSetTransform,i.resetTransform=i.__originalResetTransform,i.clip=i.__originalClip,i.moveTo=i.__originalMoveTo,i.lineTo=i.__originalLineTo,i.bezierCurveTo=i.__originalBezierCurveTo,i.rect=i.__originalRect,i.closePath=i.__originalClosePath,i.beginPath=i.__originalBeginPath,delete i._removeMirroring},i.save=function(){t.save(),this.__originalSave()},i.restore=function(){t.restore(),this.__originalRestore()},i.translate=function(n,a){t.translate(n,a),this.__originalTranslate(n,a)},i.scale=function(n,a){t.scale(n,a),this.__originalScale(n,a)},i.transform=function(n,a,l,c,f,d){t.transform(n,a,l,c,f,d),this.__originalTransform(n,a,l,c,f,d)},i.setTransform=function(n,a,l,c,f,d){t.setTransform(n,a,l,c,f,d),this.__originalSetTransform(n,a,l,c,f,d)},i.resetTransform=function(){t.resetTransform(),this.__originalResetTransform()},i.rotate=function(n){t.rotate(n),this.__originalRotate(n)},i.clip=function(n){t.clip(n),this.__originalClip(n)},i.moveTo=function(e,n){t.moveTo(e,n),this.__originalMoveTo(e,n)},i.lineTo=function(e,n){t.lineTo(e,n),this.__originalLineTo(e,n)},i.bezierCurveTo=function(e,n,a,l,c,f){t.bezierCurveTo(e,n,a,l,c,f),this.__originalBezierCurveTo(e,n,a,l,c,f)},i.rect=function(e,n,a,l){t.rect(e,n,a,l),this.__originalRect(e,n,a,l)},i.closePath=function(){t.closePath(),this.__originalClosePath()},i.beginPath=function(){t.beginPath(),this.__originalBeginPath()}}class CachedCanvases{constructor(t){this.canvasFactory=t,this.cache=Object.create(null)}getCanvas(t,e,n){let a;return this.cache[t]!==void 0?(a=this.cache[t],this.canvasFactory.reset(a,e,n)):(a=this.canvasFactory.create(e,n),this.cache[t]=a),a}delete(t){delete this.cache[t]}clear(){for(const t in this.cache){const e=this.cache[t];this.canvasFactory.destroy(e),delete this.cache[t]}}}function drawImageAtIntegerCoords(i,t,e,n,a,l,c,f,d,m){const[y,A,b,x,E,T]=getCurrentTransform(i);if(A===0&&b===0){const M=c*y+E,P=Math.round(M),R=f*x+T,D=Math.round(R),L=(c+d)*y+E,G=Math.abs(Math.round(L)-P)||1,q=(f+m)*x+T,X=Math.abs(Math.round(q)-D)||1;return i.setTransform(Math.sign(y),0,0,Math.sign(x),P,D),i.drawImage(t,e,n,a,l,0,0,G,X),i.setTransform(y,A,b,x,E,T),[G,X]}if(y===0&&x===0){const M=f*b+E,P=Math.round(M),R=c*A+T,D=Math.round(R),L=(f+m)*b+E,G=Math.abs(Math.round(L)-P)||1,q=(c+d)*A+T,X=Math.abs(Math.round(q)-D)||1;return i.setTransform(0,Math.sign(A),Math.sign(b),0,P,D),i.drawImage(t,e,n,a,l,0,0,X,G),i.setTransform(y,A,b,x,E,T),[X,G]}i.drawImage(t,e,n,a,l,c,f,d,m);const k=Math.hypot(y,A),S=Math.hypot(b,x);return[k*d,S*m]}function compileType3Glyph(i){const{width:t,height:e}=i;if(t>MAX_SIZE_TO_COMPILE||e>MAX_SIZE_TO_COMPILE)return null;const n=1e3,a=new Uint8Array([0,2,4,0,1,0,5,4,8,10,0,8,0,2,1,0]),l=t+1;let c=new Uint8Array(l*(e+1)),f,d,m;const y=t+7&-8;let A=new Uint8Array(y*e),b=0;for(const S of i.data){let M=128;for(;M>0;)A[b++]=S&M?0:255,M>>=1}let x=0;for(b=0,A[b]!==0&&(c[0]=1,++x),d=1;d<t;d++)A[b]!==A[b+1]&&(c[d]=A[b]?2:1,++x),b++;for(A[b]!==0&&(c[d]=2,++x),f=1;f<e;f++){b=f*y,m=f*l,A[b-y]!==A[b]&&(c[m]=A[b]?1:8,++x);let S=(A[b]?4:0)+(A[b-y]?8:0);for(d=1;d<t;d++)S=(S>>2)+(A[b+1]?4:0)+(A[b-y+1]?8:0),a[S]&&(c[m+d]=a[S],++x),b++;if(A[b-y]!==A[b]&&(c[m+d]=A[b]?2:4,++x),x>n)return null}for(b=y*(e-1),m=f*l,A[b]!==0&&(c[m]=8,++x),d=1;d<t;d++)A[b]!==A[b+1]&&(c[m+d]=A[b]?4:8,++x),b++;if(A[b]!==0&&(c[m+d]=4,++x),x>n)return null;const E=new Int32Array([0,l,-1,0,-l,0,0,0,1]),T=new Path2D;for(f=0;x&&f<=e;f++){let S=f*l;const M=S+t;for(;S<M&&!c[S];)S++;if(S===M)continue;T.moveTo(S%l,f);const P=S;let R=c[S];do{const D=E[R];do S+=D;while(!c[S]);const L=c[S];L!==5&&L!==10?(R=L,c[S]=0):(R=L&51*R>>4,c[S]&=R>>2|R<<2),T.lineTo(S%l,S/l|0),c[S]||--x}while(P!==S);--f}return A=null,c=null,function(S){S.save(),S.scale(1/t,-1/e),S.translate(0,-e),S.fill(T),S.beginPath(),S.restore()}}class CanvasExtraState{constructor(t,e){this.alphaIsShape=!1,this.fontSize=0,this.fontSizeScale=1,this.textMatrix=IDENTITY_MATRIX,this.textMatrixScale=1,this.fontMatrix=FONT_IDENTITY_MATRIX,this.leading=0,this.x=0,this.y=0,this.lineX=0,this.lineY=0,this.charSpacing=0,this.wordSpacing=0,this.textHScale=1,this.textRenderingMode=TextRenderingMode.FILL,this.textRise=0,this.fillColor="#000000",this.strokeColor="#000000",this.patternFill=!1,this.fillAlpha=1,this.strokeAlpha=1,this.lineWidth=1,this.activeSMask=null,this.transferMaps="none",this.startNewPathAndClipBox([0,0,t,e])}clone(){const t=Object.create(this);return t.clipBox=this.clipBox.slice(),t}setCurrentPoint(t,e){this.x=t,this.y=e}updatePathMinMax(t,e,n){[e,n]=Util.applyTransform([e,n],t),this.minX=Math.min(this.minX,e),this.minY=Math.min(this.minY,n),this.maxX=Math.max(this.maxX,e),this.maxY=Math.max(this.maxY,n)}updateRectMinMax(t,e){const n=Util.applyTransform(e,t),a=Util.applyTransform(e.slice(2),t),l=Util.applyTransform([e[0],e[3]],t),c=Util.applyTransform([e[2],e[1]],t);this.minX=Math.min(this.minX,n[0],a[0],l[0],c[0]),this.minY=Math.min(this.minY,n[1],a[1],l[1],c[1]),this.maxX=Math.max(this.maxX,n[0],a[0],l[0],c[0]),this.maxY=Math.max(this.maxY,n[1],a[1],l[1],c[1])}updateScalingPathMinMax(t,e){Util.scaleMinMax(t,e),this.minX=Math.min(this.minX,e[0]),this.minY=Math.min(this.minY,e[1]),this.maxX=Math.max(this.maxX,e[2]),this.maxY=Math.max(this.maxY,e[3])}updateCurvePathMinMax(t,e,n,a,l,c,f,d,m,y){const A=Util.bezierBoundingBox(e,n,a,l,c,f,d,m,y);y||this.updateRectMinMax(t,A)}getPathBoundingBox(t=PathType.FILL,e=null){const n=[this.minX,this.minY,this.maxX,this.maxY];if(t===PathType.STROKE){e||unreachable("Stroke bounding box must include transform.");const a=Util.singularValueDecompose2dScale(e),l=a[0]*this.lineWidth/2,c=a[1]*this.lineWidth/2;n[0]-=l,n[1]-=c,n[2]+=l,n[3]+=c}return n}updateClipFromPath(){const t=Util.intersect(this.clipBox,this.getPathBoundingBox());this.startNewPathAndClipBox(t||[0,0,0,0])}isEmptyClip(){return this.minX===1/0}startNewPathAndClipBox(t){this.clipBox=t,this.minX=1/0,this.minY=1/0,this.maxX=0,this.maxY=0}getClippedPathBoundingBox(t=PathType.FILL,e=null){return Util.intersect(this.clipBox,this.getPathBoundingBox(t,e))}}function putBinaryImageData(i,t){if(typeof ImageData<"u"&&t instanceof ImageData){i.putImageData(t,0,0);return}const e=t.height,n=t.width,a=e%FULL_CHUNK_HEIGHT,l=(e-a)/FULL_CHUNK_HEIGHT,c=a===0?l:l+1,f=i.createImageData(n,FULL_CHUNK_HEIGHT);let d=0,m;const y=t.data,A=f.data;let b,x,E,T;if(t.kind===util_ImageKind.GRAYSCALE_1BPP){const k=y.byteLength,S=new Uint32Array(A.buffer,0,A.byteLength>>2),M=S.length,P=n+7>>3,R=4294967295,D=util_FeatureTest.isLittleEndian?4278190080:255;for(b=0;b<c;b++){for(E=b<l?FULL_CHUNK_HEIGHT:a,m=0,x=0;x<E;x++){const L=k-d;let G=0;const q=L>P?n:L*8-7,X=q&-8;let J=0,et=0;for(;G<X;G+=8)et=y[d++],S[m++]=et&128?R:D,S[m++]=et&64?R:D,S[m++]=et&32?R:D,S[m++]=et&16?R:D,S[m++]=et&8?R:D,S[m++]=et&4?R:D,S[m++]=et&2?R:D,S[m++]=et&1?R:D;for(;G<q;G++)J===0&&(et=y[d++],J=128),S[m++]=et&J?R:D,J>>=1}for(;m<M;)S[m++]=0;i.putImageData(f,0,b*FULL_CHUNK_HEIGHT)}}else if(t.kind===util_ImageKind.RGBA_32BPP){for(x=0,T=n*FULL_CHUNK_HEIGHT*4,b=0;b<l;b++)A.set(y.subarray(d,d+T)),d+=T,i.putImageData(f,0,x),x+=FULL_CHUNK_HEIGHT;b<c&&(T=n*a*4,A.set(y.subarray(d,d+T)),i.putImageData(f,0,x))}else if(t.kind===util_ImageKind.RGB_24BPP)for(E=FULL_CHUNK_HEIGHT,T=n*E,b=0;b<c;b++){for(b>=l&&(E=a,T=n*E),m=0,x=T;x--;)A[m++]=y[d++],A[m++]=y[d++],A[m++]=y[d++],A[m++]=255;i.putImageData(f,0,b*FULL_CHUNK_HEIGHT)}else throw new Error(`bad image kind: ${t.kind}`)}function putBinaryImageMask(i,t){if(t.bitmap){i.drawImage(t.bitmap,0,0);return}const e=t.height,n=t.width,a=e%FULL_CHUNK_HEIGHT,l=(e-a)/FULL_CHUNK_HEIGHT,c=a===0?l:l+1,f=i.createImageData(n,FULL_CHUNK_HEIGHT);let d=0;const m=t.data,y=f.data;for(let A=0;A<c;A++){const b=A<l?FULL_CHUNK_HEIGHT:a;({srcPos:d}=convertBlackAndWhiteToRGBA({src:m,srcPos:d,dest:y,width:n,height:b,nonBlackColor:0})),i.putImageData(f,0,A*FULL_CHUNK_HEIGHT)}}function copyCtxState(i,t){const e=["strokeStyle","fillStyle","fillRule","globalAlpha","lineWidth","lineCap","lineJoin","miterLimit","globalCompositeOperation","font","filter"];for(const n of e)i[n]!==void 0&&(t[n]=i[n]);i.setLineDash!==void 0&&(t.setLineDash(i.getLineDash()),t.lineDashOffset=i.lineDashOffset)}function resetCtxToDefault(i){if(i.strokeStyle=i.fillStyle="#000000",i.fillRule="nonzero",i.globalAlpha=1,i.lineWidth=1,i.lineCap="butt",i.lineJoin="miter",i.miterLimit=10,i.globalCompositeOperation="source-over",i.font="10px sans-serif",i.setLineDash!==void 0&&(i.setLineDash([]),i.lineDashOffset=0),!isNodeJS){const{filter:t}=i;t!=="none"&&t!==""&&(i.filter="none")}}function getImageSmoothingEnabled(i,t){if(t)return!0;const e=Util.singularValueDecompose2dScale(i);e[0]=Math.fround(e[0]),e[1]=Math.fround(e[1]);const n=Math.fround((globalThis.devicePixelRatio||1)*PixelsPerInch.PDF_TO_CSS_UNITS);return e[0]<=n&&e[1]<=n}const LINE_CAP_STYLES=["butt","round","square"],LINE_JOIN_STYLES=["miter","round","bevel"],NORMAL_CLIP={},EO_CLIP={};var Yr,f0,d0;const $0=class $0{constructor(t,e,n,a,l,{optionalContentConfig:c,markedContentStack:f=null},d,m){U(this,Yr);this.ctx=t,this.current=new CanvasExtraState(this.ctx.canvas.width,this.ctx.canvas.height),this.stateStack=[],this.pendingClip=null,this.pendingEOFill=!1,this.res=null,this.xobjs=null,this.commonObjs=e,this.objs=n,this.canvasFactory=a,this.filterFactory=l,this.groupStack=[],this.processingType3=null,this.baseTransform=null,this.baseTransformStack=[],this.groupLevel=0,this.smaskStack=[],this.smaskCounter=0,this.tempSMask=null,this.suspendedCtx=null,this.contentVisible=!0,this.markedContentStack=f||[],this.optionalContentConfig=c,this.cachedCanvases=new CachedCanvases(this.canvasFactory),this.cachedPatterns=new Map,this.annotationCanvasMap=d,this.viewportScale=1,this.outputScaleX=1,this.outputScaleY=1,this.pageColors=m,this._cachedScaleForStroking=[-1,0],this._cachedGetSinglePixelWidth=null,this._cachedBitmapsMap=new Map}getObject(t,e=null){return typeof t=="string"?t.startsWith("g_")?this.commonObjs.get(t):this.objs.get(t):e}beginDrawing({transform:t,viewport:e,transparency:n=!1,background:a=null}){const l=this.ctx.canvas.width,c=this.ctx.canvas.height,f=this.ctx.fillStyle;if(this.ctx.fillStyle=a||"#ffffff",this.ctx.fillRect(0,0,l,c),this.ctx.fillStyle=f,n){const d=this.cachedCanvases.getCanvas("transparent",l,c);this.compositeCtx=this.ctx,this.transparentCanvas=d.canvas,this.ctx=d.context,this.ctx.save(),this.ctx.transform(...getCurrentTransform(this.compositeCtx))}this.ctx.save(),resetCtxToDefault(this.ctx),t&&(this.ctx.transform(...t),this.outputScaleX=t[0],this.outputScaleY=t[0]),this.ctx.transform(...e.transform),this.viewportScale=e.scale,this.baseTransform=getCurrentTransform(this.ctx)}executeOperatorList(t,e,n,a){const l=t.argsArray,c=t.fnArray;let f=e||0;const d=l.length;if(d===f)return f;const m=d-f>EXECUTION_STEPS&&typeof n=="function",y=m?Date.now()+EXECUTION_TIME:0;let A=0;const b=this.commonObjs,x=this.objs;let E;for(;;){if(a!==void 0&&f===a.nextBreakPoint)return a.breakIt(f,n),f;if(E=c[f],E!==OPS.dependency)this[E].apply(this,l[f]);else for(const T of l[f]){const k=T.startsWith("g_")?b:x;if(!k.has(T))return k.get(T,n),f}if(f++,f===d)return f;if(m&&++A>EXECUTION_STEPS){if(Date.now()>y)return n(),f;A=0}}}endDrawing(){z(this,Yr,f0).call(this),this.cachedCanvases.clear(),this.cachedPatterns.clear();for(const t of this._cachedBitmapsMap.values()){for(const e of t.values())typeof HTMLCanvasElement<"u"&&e instanceof HTMLCanvasElement&&(e.width=e.height=0);t.clear()}this._cachedBitmapsMap.clear(),z(this,Yr,d0).call(this)}_scaleImage(t,e){const n=t.width??t.displayWidth,a=t.height??t.displayHeight;let l=Math.max(Math.hypot(e[0],e[1]),1),c=Math.max(Math.hypot(e[2],e[3]),1),f=n,d=a,m="prescale1",y,A;for(;l>2&&f>1||c>2&&d>1;){let b=f,x=d;l>2&&f>1&&(b=f>=16384?Math.floor(f/2)-1||1:Math.ceil(f/2),l/=f/b),c>2&&d>1&&(x=d>=16384?Math.floor(d/2)-1||1:Math.ceil(d)/2,c/=d/x),y=this.cachedCanvases.getCanvas(m,b,x),A=y.context,A.clearRect(0,0,b,x),A.drawImage(t,0,0,f,d,0,0,b,x),t=y.canvas,f=b,d=x,m=m==="prescale1"?"prescale2":"prescale1"}return{img:t,paintWidth:f,paintHeight:d}}_createMaskCanvas(t){const e=this.ctx,{width:n,height:a}=t,l=this.current.fillColor,c=this.current.patternFill,f=getCurrentTransform(e);let d,m,y,A;if((t.bitmap||t.data)&&t.count>1){const q=t.bitmap||t.data.buffer;m=JSON.stringify(c?f:[f.slice(0,4),l]),d=this._cachedBitmapsMap.get(q),d||(d=new Map,this._cachedBitmapsMap.set(q,d));const X=d.get(m);if(X&&!c){const J=Math.round(Math.min(f[0],f[2])+f[4]),et=Math.round(Math.min(f[1],f[3])+f[5]);return{canvas:X,offsetX:J,offsetY:et}}y=X}y||(A=this.cachedCanvases.getCanvas("maskCanvas",n,a),putBinaryImageMask(A.context,t));let b=Util.transform(f,[1/n,0,0,-1/a,0,0]);b=Util.transform(b,[1,0,0,1,0,-a]);const[x,E,T,k]=Util.getAxialAlignedBoundingBox([0,0,n,a],b),S=Math.round(T-x)||1,M=Math.round(k-E)||1,P=this.cachedCanvases.getCanvas("fillCanvas",S,M),R=P.context,D=x,L=E;R.translate(-D,-L),R.transform(...b),y||(y=this._scaleImage(A.canvas,getCurrentTransformInverse(R)),y=y.img,d&&c&&d.set(m,y)),R.imageSmoothingEnabled=getImageSmoothingEnabled(getCurrentTransform(R),t.interpolate),drawImageAtIntegerCoords(R,y,0,0,y.width,y.height,0,0,n,a),R.globalCompositeOperation="source-in";const G=Util.transform(getCurrentTransformInverse(R),[1,0,0,1,-D,-L]);return R.fillStyle=c?l.getPattern(e,this,G,PathType.FILL):l,R.fillRect(0,0,n,a),d&&!c&&(this.cachedCanvases.delete("fillCanvas"),d.set(m,P.canvas)),{canvas:P.canvas,offsetX:Math.round(D),offsetY:Math.round(L)}}setLineWidth(t){t!==this.current.lineWidth&&(this._cachedScaleForStroking[0]=-1),this.current.lineWidth=t,this.ctx.lineWidth=t}setLineCap(t){this.ctx.lineCap=LINE_CAP_STYLES[t]}setLineJoin(t){this.ctx.lineJoin=LINE_JOIN_STYLES[t]}setMiterLimit(t){this.ctx.miterLimit=t}setDash(t,e){const n=this.ctx;n.setLineDash!==void 0&&(n.setLineDash(t),n.lineDashOffset=e)}setRenderingIntent(t){}setFlatness(t){}setGState(t){for(const[e,n]of t)switch(e){case"LW":this.setLineWidth(n);break;case"LC":this.setLineCap(n);break;case"LJ":this.setLineJoin(n);break;case"ML":this.setMiterLimit(n);break;case"D":this.setDash(n[0],n[1]);break;case"RI":this.setRenderingIntent(n);break;case"FL":this.setFlatness(n);break;case"Font":this.setFont(n[0],n[1]);break;case"CA":this.current.strokeAlpha=n;break;case"ca":this.current.fillAlpha=n,this.ctx.globalAlpha=n;break;case"BM":this.ctx.globalCompositeOperation=n;break;case"SMask":this.current.activeSMask=n?this.tempSMask:null,this.tempSMask=null,this.checkSMaskState();break;case"TR":this.ctx.filter=this.current.transferMaps=this.filterFactory.addFilter(n);break}}get inSMaskMode(){return!!this.suspendedCtx}checkSMaskState(){const t=this.inSMaskMode;this.current.activeSMask&&!t?this.beginSMaskMode():!this.current.activeSMask&&t&&this.endSMaskMode()}beginSMaskMode(){if(this.inSMaskMode)throw new Error("beginSMaskMode called while already in smask mode");const t=this.ctx.canvas.width,e=this.ctx.canvas.height,n="smaskGroupAt"+this.groupLevel,a=this.cachedCanvases.getCanvas(n,t,e);this.suspendedCtx=this.ctx,this.ctx=a.context;const l=this.ctx;l.setTransform(...getCurrentTransform(this.suspendedCtx)),copyCtxState(this.suspendedCtx,l),mirrorContextOperations(l,this.suspendedCtx),this.setGState([["BM","source-over"],["ca",1],["CA",1]])}endSMaskMode(){if(!this.inSMaskMode)throw new Error("endSMaskMode called while not in smask mode");this.ctx._removeMirroring(),copyCtxState(this.ctx,this.suspendedCtx),this.ctx=this.suspendedCtx,this.suspendedCtx=null}compose(t){if(!this.current.activeSMask)return;t?(t[0]=Math.floor(t[0]),t[1]=Math.floor(t[1]),t[2]=Math.ceil(t[2]),t[3]=Math.ceil(t[3])):t=[0,0,this.ctx.canvas.width,this.ctx.canvas.height];const e=this.current.activeSMask,n=this.suspendedCtx;this.composeSMask(n,e,this.ctx,t),this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.clearRect(0,0,this.ctx.canvas.width,this.ctx.canvas.height),this.ctx.restore()}composeSMask(t,e,n,a){const l=a[0],c=a[1],f=a[2]-l,d=a[3]-c;f===0||d===0||(this.genericComposeSMask(e.context,n,f,d,e.subtype,e.backdrop,e.transferMap,l,c,e.offsetX,e.offsetY),t.save(),t.globalAlpha=1,t.globalCompositeOperation="source-over",t.setTransform(1,0,0,1,0,0),t.drawImage(n.canvas,0,0),t.restore())}genericComposeSMask(t,e,n,a,l,c,f,d,m,y,A){let b=t.canvas,x=d-y,E=m-A;if(c){const k=Util.makeHexColor(...c);if(x<0||E<0||x+n>b.width||E+a>b.height){const S=this.cachedCanvases.getCanvas("maskExtension",n,a),M=S.context;M.drawImage(b,-x,-E),M.globalCompositeOperation="destination-atop",M.fillStyle=k,M.fillRect(0,0,n,a),M.globalCompositeOperation="source-over",b=S.canvas,x=E=0}else{t.save(),t.globalAlpha=1,t.setTransform(1,0,0,1,0,0);const S=new Path2D;S.rect(x,E,n,a),t.clip(S),t.globalCompositeOperation="destination-atop",t.fillStyle=k,t.fillRect(x,E,n,a),t.restore()}}e.save(),e.globalAlpha=1,e.setTransform(1,0,0,1,0,0),l==="Alpha"&&f?e.filter=this.filterFactory.addAlphaFilter(f):l==="Luminosity"&&(e.filter=this.filterFactory.addLuminosityFilter(f));const T=new Path2D;T.rect(d,m,n,a),e.clip(T),e.globalCompositeOperation="destination-in",e.drawImage(b,x,E,n,a,d,m,n,a),e.restore()}save(){this.inSMaskMode?(copyCtxState(this.ctx,this.suspendedCtx),this.suspendedCtx.save()):this.ctx.save();const t=this.current;this.stateStack.push(t),this.current=t.clone()}restore(){this.stateStack.length===0&&this.inSMaskMode&&this.endSMaskMode(),this.stateStack.length!==0&&(this.current=this.stateStack.pop(),this.inSMaskMode?(this.suspendedCtx.restore(),copyCtxState(this.suspendedCtx,this.ctx)):this.ctx.restore(),this.checkSMaskState(),this.pendingClip=null,this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null)}transform(t,e,n,a,l,c){this.ctx.transform(t,e,n,a,l,c),this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null}constructPath(t,e,n){const a=this.ctx,l=this.current;let c=l.x,f=l.y,d,m;const y=getCurrentTransform(a),A=y[0]===0&&y[3]===0||y[1]===0&&y[2]===0,b=A?n.slice(0):null;for(let x=0,E=0,T=t.length;x<T;x++)switch(t[x]|0){case OPS.rectangle:c=e[E++],f=e[E++];const k=e[E++],S=e[E++],M=c+k,P=f+S;a.moveTo(c,f),k===0||S===0?a.lineTo(M,P):(a.lineTo(M,f),a.lineTo(M,P),a.lineTo(c,P)),A||l.updateRectMinMax(y,[c,f,M,P]),a.closePath();break;case OPS.moveTo:c=e[E++],f=e[E++],a.moveTo(c,f),A||l.updatePathMinMax(y,c,f);break;case OPS.lineTo:c=e[E++],f=e[E++],a.lineTo(c,f),A||l.updatePathMinMax(y,c,f);break;case OPS.curveTo:d=c,m=f,c=e[E+4],f=e[E+5],a.bezierCurveTo(e[E],e[E+1],e[E+2],e[E+3],c,f),l.updateCurvePathMinMax(y,d,m,e[E],e[E+1],e[E+2],e[E+3],c,f,b),E+=6;break;case OPS.curveTo2:d=c,m=f,a.bezierCurveTo(c,f,e[E],e[E+1],e[E+2],e[E+3]),l.updateCurvePathMinMax(y,d,m,c,f,e[E],e[E+1],e[E+2],e[E+3],b),c=e[E+2],f=e[E+3],E+=4;break;case OPS.curveTo3:d=c,m=f,c=e[E+2],f=e[E+3],a.bezierCurveTo(e[E],e[E+1],c,f,c,f),l.updateCurvePathMinMax(y,d,m,e[E],e[E+1],c,f,c,f,b),E+=4;break;case OPS.closePath:a.closePath();break}A&&l.updateScalingPathMinMax(y,b),l.setCurrentPoint(c,f)}closePath(){this.ctx.closePath()}stroke(t=!0){const e=this.ctx,n=this.current.strokeColor;e.globalAlpha=this.current.strokeAlpha,this.contentVisible&&(typeof n=="object"&&(n!=null&&n.getPattern)?(e.save(),e.strokeStyle=n.getPattern(e,this,getCurrentTransformInverse(e),PathType.STROKE),this.rescaleAndStroke(!1),e.restore()):this.rescaleAndStroke(!0)),t&&this.consumePath(this.current.getClippedPathBoundingBox()),e.globalAlpha=this.current.fillAlpha}closeStroke(){this.closePath(),this.stroke()}fill(t=!0){const e=this.ctx,n=this.current.fillColor,a=this.current.patternFill;let l=!1;a&&(e.save(),e.fillStyle=n.getPattern(e,this,getCurrentTransformInverse(e),PathType.FILL),l=!0);const c=this.current.getClippedPathBoundingBox();this.contentVisible&&c!==null&&(this.pendingEOFill?(e.fill("evenodd"),this.pendingEOFill=!1):e.fill()),l&&e.restore(),t&&this.consumePath(c)}eoFill(){this.pendingEOFill=!0,this.fill()}fillStroke(){this.fill(!1),this.stroke(!1),this.consumePath()}eoFillStroke(){this.pendingEOFill=!0,this.fillStroke()}closeFillStroke(){this.closePath(),this.fillStroke()}closeEOFillStroke(){this.pendingEOFill=!0,this.closePath(),this.fillStroke()}endPath(){this.consumePath()}clip(){this.pendingClip=NORMAL_CLIP}eoClip(){this.pendingClip=EO_CLIP}beginText(){this.current.textMatrix=IDENTITY_MATRIX,this.current.textMatrixScale=1,this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}endText(){const t=this.pendingTextPaths,e=this.ctx;if(t===void 0){e.beginPath();return}e.save(),e.beginPath();for(const n of t)e.setTransform(...n.transform),e.translate(n.x,n.y),n.addToPath(e,n.fontSize);e.restore(),e.clip(),e.beginPath(),delete this.pendingTextPaths}setCharSpacing(t){this.current.charSpacing=t}setWordSpacing(t){this.current.wordSpacing=t}setHScale(t){this.current.textHScale=t/100}setLeading(t){this.current.leading=-t}setFont(t,e){var y;const n=this.commonObjs.get(t),a=this.current;if(!n)throw new Error(`Can't find font for ${t}`);if(a.fontMatrix=n.fontMatrix||FONT_IDENTITY_MATRIX,(a.fontMatrix[0]===0||a.fontMatrix[3]===0)&&warn("Invalid font matrix for font "+t),e<0?(e=-e,a.fontDirection=-1):a.fontDirection=1,this.current.font=n,this.current.fontSize=e,n.isType3Font)return;const l=n.loadedName||"sans-serif",c=((y=n.systemFontInfo)==null?void 0:y.css)||`"${l}", ${n.fallbackName}`;let f="normal";n.black?f="900":n.bold&&(f="bold");const d=n.italic?"italic":"normal";let m=e;e<MIN_FONT_SIZE?m=MIN_FONT_SIZE:e>MAX_FONT_SIZE&&(m=MAX_FONT_SIZE),this.current.fontSizeScale=e/m,this.ctx.font=`${d} ${f} ${m}px ${c}`}setTextRenderingMode(t){this.current.textRenderingMode=t}setTextRise(t){this.current.textRise=t}moveText(t,e){this.current.x=this.current.lineX+=t,this.current.y=this.current.lineY+=e}setLeadingMoveText(t,e){this.setLeading(-e),this.moveText(t,e)}setTextMatrix(t,e,n,a,l,c){this.current.textMatrix=[t,e,n,a,l,c],this.current.textMatrixScale=Math.hypot(t,e),this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}nextLine(){this.moveText(0,this.current.leading)}paintChar(t,e,n,a){const l=this.ctx,c=this.current,f=c.font,d=c.textRenderingMode,m=c.fontSize/c.fontSizeScale,y=d&TextRenderingMode.FILL_STROKE_MASK,A=!!(d&TextRenderingMode.ADD_TO_PATH_FLAG),b=c.patternFill&&!f.missingFile;let x;(f.disableFontFace||A||b)&&(x=f.getPathGenerator(this.commonObjs,t)),f.disableFontFace||b?(l.save(),l.translate(e,n),l.beginPath(),x(l,m),a&&l.setTransform(...a),(y===TextRenderingMode.FILL||y===TextRenderingMode.FILL_STROKE)&&l.fill(),(y===TextRenderingMode.STROKE||y===TextRenderingMode.FILL_STROKE)&&l.stroke(),l.restore()):((y===TextRenderingMode.FILL||y===TextRenderingMode.FILL_STROKE)&&l.fillText(t,e,n),(y===TextRenderingMode.STROKE||y===TextRenderingMode.FILL_STROKE)&&l.strokeText(t,e,n)),A&&(this.pendingTextPaths||(this.pendingTextPaths=[])).push({transform:getCurrentTransform(l),x:e,y:n,fontSize:m,addToPath:x})}get isFontSubpixelAAEnabled(){const{context:t}=this.cachedCanvases.getCanvas("isFontSubpixelAAEnabled",10,10);t.scale(1.5,1),t.fillText("I",0,10);const e=t.getImageData(0,0,10,10).data;let n=!1;for(let a=3;a<e.length;a+=4)if(e[a]>0&&e[a]<255){n=!0;break}return shadow(this,"isFontSubpixelAAEnabled",n)}showText(t){const e=this.current,n=e.font;if(n.isType3Font)return this.showType3Text(t);const a=e.fontSize;if(a===0)return;const l=this.ctx,c=e.fontSizeScale,f=e.charSpacing,d=e.wordSpacing,m=e.fontDirection,y=e.textHScale*m,A=t.length,b=n.vertical,x=b?1:-1,E=n.defaultVMetrics,T=a*e.fontMatrix[0],k=e.textRenderingMode===TextRenderingMode.FILL&&!n.disableFontFace&&!e.patternFill;l.save(),l.transform(...e.textMatrix),l.translate(e.x,e.y+e.textRise),m>0?l.scale(y,-1):l.scale(y,1);let S;if(e.patternFill){l.save();const L=e.fillColor.getPattern(l,this,getCurrentTransformInverse(l),PathType.FILL);S=getCurrentTransform(l),l.restore(),l.fillStyle=L}let M=e.lineWidth;const P=e.textMatrixScale;if(P===0||M===0){const L=e.textRenderingMode&TextRenderingMode.FILL_STROKE_MASK;(L===TextRenderingMode.STROKE||L===TextRenderingMode.FILL_STROKE)&&(M=this.getSinglePixelWidth())}else M/=P;if(c!==1&&(l.scale(c,c),M/=c),l.lineWidth=M,n.isInvalidPDFjsFont){const L=[];let G=0;for(const q of t)L.push(q.unicode),G+=q.width;l.fillText(L.join(""),0,0),e.x+=G*T*y,l.restore(),this.compose();return}let R=0,D;for(D=0;D<A;++D){const L=t[D];if(typeof L=="number"){R+=x*L*a/1e3;continue}let G=!1;const q=(L.isSpace?d:0)+f,X=L.fontChar,J=L.accent;let et,it,lt=L.width;if(b){const W=L.vmetric||E,O=-(L.vmetric?W[1]:lt*.5)*T,H=W[2]*T;lt=W?-W[0]:lt,et=O/c,it=(R+H)/c}else et=R/c,it=0;if(n.remeasure&&lt>0){const W=l.measureText(X).width*1e3/a*c;if(lt<W&&this.isFontSubpixelAAEnabled){const O=lt/W;G=!0,l.save(),l.scale(O,1),et/=O}else lt!==W&&(et+=(lt-W)/2e3*a/c)}if(this.contentVisible&&(L.isInFont||n.missingFile)){if(k&&!J)l.fillText(X,et,it);else if(this.paintChar(X,et,it,S),J){const W=et+a*J.offset.x/c,O=it-a*J.offset.y/c;this.paintChar(J.fontChar,W,O,S)}}const tt=b?lt*T-q*m:lt*T+q*m;R+=tt,G&&l.restore()}b?e.y-=R:e.x+=R*y,l.restore(),this.compose()}showType3Text(t){const e=this.ctx,n=this.current,a=n.font,l=n.fontSize,c=n.fontDirection,f=a.vertical?1:-1,d=n.charSpacing,m=n.wordSpacing,y=n.textHScale*c,A=n.fontMatrix||FONT_IDENTITY_MATRIX,b=t.length,x=n.textRenderingMode===TextRenderingMode.INVISIBLE;let E,T,k,S;if(!(x||l===0)){for(this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null,e.save(),e.transform(...n.textMatrix),e.translate(n.x,n.y),e.scale(y,c),E=0;E<b;++E){if(T=t[E],typeof T=="number"){S=f*T*l/1e3,this.ctx.translate(S,0),n.x+=S*y;continue}const M=(T.isSpace?m:0)+d,P=a.charProcOperatorList[T.operatorListId];if(!P){warn(`Type3 character "${T.operatorListId}" is not available.`);continue}this.contentVisible&&(this.processingType3=T,this.save(),e.scale(l,l),e.transform(...A),this.executeOperatorList(P),this.restore()),k=Util.applyTransform([T.width,0],A)[0]*l+M,e.translate(k,0),n.x+=k*y}e.restore(),this.processingType3=null}}setCharWidth(t,e){}setCharWidthAndBounds(t,e,n,a,l,c){this.ctx.rect(n,a,l-n,c-a),this.ctx.clip(),this.endPath()}getColorN_Pattern(t){let e;if(t[0]==="TilingPattern"){const n=t[1],a=this.baseTransform||getCurrentTransform(this.ctx),l={createCanvasGraphics:c=>new $0(c,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:this.optionalContentConfig,markedContentStack:this.markedContentStack})};e=new TilingPattern(t,n,this.ctx,l,a)}else e=this._getPattern(t[1],t[2]);return e}setStrokeColorN(){this.current.strokeColor=this.getColorN_Pattern(arguments)}setFillColorN(){this.current.fillColor=this.getColorN_Pattern(arguments),this.current.patternFill=!0}setStrokeRGBColor(t,e,n){this.ctx.strokeStyle=this.current.strokeColor=Util.makeHexColor(t,e,n)}setStrokeTransparent(){this.ctx.strokeStyle=this.current.strokeColor="transparent"}setFillRGBColor(t,e,n){this.ctx.fillStyle=this.current.fillColor=Util.makeHexColor(t,e,n),this.current.patternFill=!1}setFillTransparent(){this.ctx.fillStyle=this.current.fillColor="transparent",this.current.patternFill=!1}_getPattern(t,e=null){let n;return this.cachedPatterns.has(t)?n=this.cachedPatterns.get(t):(n=getShadingPattern(this.getObject(t)),this.cachedPatterns.set(t,n)),e&&(n.matrix=e),n}shadingFill(t){if(!this.contentVisible)return;const e=this.ctx;this.save();const n=this._getPattern(t);e.fillStyle=n.getPattern(e,this,getCurrentTransformInverse(e),PathType.SHADING);const a=getCurrentTransformInverse(e);if(a){const{width:l,height:c}=e.canvas,[f,d,m,y]=Util.getAxialAlignedBoundingBox([0,0,l,c],a);this.ctx.fillRect(f,d,m-f,y-d)}else this.ctx.fillRect(-1e10,-1e10,2e10,2e10);this.compose(this.current.getClippedPathBoundingBox()),this.restore()}beginInlineImage(){unreachable("Should not call beginInlineImage")}beginImageData(){unreachable("Should not call beginImageData")}paintFormXObjectBegin(t,e){if(this.contentVisible&&(this.save(),this.baseTransformStack.push(this.baseTransform),t&&this.transform(...t),this.baseTransform=getCurrentTransform(this.ctx),e)){const n=e[2]-e[0],a=e[3]-e[1];this.ctx.rect(e[0],e[1],n,a),this.current.updateRectMinMax(getCurrentTransform(this.ctx),e),this.clip(),this.endPath()}}paintFormXObjectEnd(){this.contentVisible&&(this.restore(),this.baseTransform=this.baseTransformStack.pop())}beginGroup(t){if(!this.contentVisible)return;this.save(),this.inSMaskMode&&(this.endSMaskMode(),this.current.activeSMask=null);const e=this.ctx;t.isolated||info("TODO: Support non-isolated groups."),t.knockout&&warn("Knockout groups not supported.");const n=getCurrentTransform(e);if(t.matrix&&e.transform(...t.matrix),!t.bbox)throw new Error("Bounding box is required.");let a=Util.getAxialAlignedBoundingBox(t.bbox,getCurrentTransform(e));const l=[0,0,e.canvas.width,e.canvas.height];a=Util.intersect(a,l)||[0,0,0,0];const c=Math.floor(a[0]),f=Math.floor(a[1]),d=Math.max(Math.ceil(a[2])-c,1),m=Math.max(Math.ceil(a[3])-f,1);this.current.startNewPathAndClipBox([0,0,d,m]);let y="groupAt"+this.groupLevel;t.smask&&(y+="_smask_"+this.smaskCounter++%2);const A=this.cachedCanvases.getCanvas(y,d,m),b=A.context;b.translate(-c,-f),b.transform(...n),t.smask?this.smaskStack.push({canvas:A.canvas,context:b,offsetX:c,offsetY:f,subtype:t.smask.subtype,backdrop:t.smask.backdrop,transferMap:t.smask.transferMap||null,startTransformInverse:null}):(e.setTransform(1,0,0,1,0,0),e.translate(c,f),e.save()),copyCtxState(e,b),this.ctx=b,this.setGState([["BM","source-over"],["ca",1],["CA",1]]),this.groupStack.push(e),this.groupLevel++}endGroup(t){if(!this.contentVisible)return;this.groupLevel--;const e=this.ctx,n=this.groupStack.pop();if(this.ctx=n,this.ctx.imageSmoothingEnabled=!1,t.smask)this.tempSMask=this.smaskStack.pop(),this.restore();else{this.ctx.restore();const a=getCurrentTransform(this.ctx);this.restore(),this.ctx.save(),this.ctx.setTransform(...a);const l=Util.getAxialAlignedBoundingBox([0,0,e.canvas.width,e.canvas.height],a);this.ctx.drawImage(e.canvas,0,0),this.ctx.restore(),this.compose(l)}}beginAnnotation(t,e,n,a,l){if(z(this,Yr,f0).call(this),resetCtxToDefault(this.ctx),this.ctx.save(),this.save(),this.baseTransform&&this.ctx.setTransform(...this.baseTransform),e){const c=e[2]-e[0],f=e[3]-e[1];if(l&&this.annotationCanvasMap){n=n.slice(),n[4]-=e[0],n[5]-=e[1],e=e.slice(),e[0]=e[1]=0,e[2]=c,e[3]=f;const[d,m]=Util.singularValueDecompose2dScale(getCurrentTransform(this.ctx)),{viewportScale:y}=this,A=Math.ceil(c*this.outputScaleX*y),b=Math.ceil(f*this.outputScaleY*y);this.annotationCanvas=this.canvasFactory.create(A,b);const{canvas:x,context:E}=this.annotationCanvas;this.annotationCanvasMap.set(t,x),this.annotationCanvas.savedCtx=this.ctx,this.ctx=E,this.ctx.save(),this.ctx.setTransform(d,0,0,-m,0,f*m),resetCtxToDefault(this.ctx)}else resetCtxToDefault(this.ctx),this.endPath(),this.ctx.rect(e[0],e[1],c,f),this.ctx.clip(),this.ctx.beginPath()}this.current=new CanvasExtraState(this.ctx.canvas.width,this.ctx.canvas.height),this.transform(...n),this.transform(...a)}endAnnotation(){this.annotationCanvas&&(this.ctx.restore(),z(this,Yr,d0).call(this),this.ctx=this.annotationCanvas.savedCtx,delete this.annotationCanvas.savedCtx,delete this.annotationCanvas)}paintImageMaskXObject(t){if(!this.contentVisible)return;const e=t.count;t=this.getObject(t.data,t),t.count=e;const n=this.ctx,a=this.processingType3;if(a&&(a.compiled===void 0&&(a.compiled=compileType3Glyph(t)),a.compiled)){a.compiled(n);return}const l=this._createMaskCanvas(t),c=l.canvas;n.save(),n.setTransform(1,0,0,1,0,0),n.drawImage(c,l.offsetX,l.offsetY),n.restore(),this.compose()}paintImageMaskXObjectRepeat(t,e,n=0,a=0,l,c){if(!this.contentVisible)return;t=this.getObject(t.data,t);const f=this.ctx;f.save();const d=getCurrentTransform(f);f.transform(e,n,a,l,0,0);const m=this._createMaskCanvas(t);f.setTransform(1,0,0,1,m.offsetX-d[4],m.offsetY-d[5]);for(let y=0,A=c.length;y<A;y+=2){const b=Util.transform(d,[e,n,a,l,c[y],c[y+1]]),[x,E]=Util.applyTransform([0,0],b);f.drawImage(m.canvas,x,E)}f.restore(),this.compose()}paintImageMaskXObjectGroup(t){if(!this.contentVisible)return;const e=this.ctx,n=this.current.fillColor,a=this.current.patternFill;for(const l of t){const{data:c,width:f,height:d,transform:m}=l,y=this.cachedCanvases.getCanvas("maskCanvas",f,d),A=y.context;A.save();const b=this.getObject(c,l);putBinaryImageMask(A,b),A.globalCompositeOperation="source-in",A.fillStyle=a?n.getPattern(A,this,getCurrentTransformInverse(e),PathType.FILL):n,A.fillRect(0,0,f,d),A.restore(),e.save(),e.transform(...m),e.scale(1,-1),drawImageAtIntegerCoords(e,y.canvas,0,0,f,d,0,-1,1,1),e.restore()}this.compose()}paintImageXObject(t){if(!this.contentVisible)return;const e=this.getObject(t);if(!e){warn("Dependent image isn't ready yet");return}this.paintInlineImageXObject(e)}paintImageXObjectRepeat(t,e,n,a){if(!this.contentVisible)return;const l=this.getObject(t);if(!l){warn("Dependent image isn't ready yet");return}const c=l.width,f=l.height,d=[];for(let m=0,y=a.length;m<y;m+=2)d.push({transform:[e,0,0,n,a[m],a[m+1]],x:0,y:0,w:c,h:f});this.paintInlineImageXObjectGroup(l,d)}applyTransferMapsToCanvas(t){return this.current.transferMaps!=="none"&&(t.filter=this.current.transferMaps,t.drawImage(t.canvas,0,0),t.filter="none"),t.canvas}applyTransferMapsToBitmap(t){if(this.current.transferMaps==="none")return t.bitmap;const{bitmap:e,width:n,height:a}=t,l=this.cachedCanvases.getCanvas("inlineImage",n,a),c=l.context;return c.filter=this.current.transferMaps,c.drawImage(e,0,0),c.filter="none",l.canvas}paintInlineImageXObject(t){if(!this.contentVisible)return;const e=t.width,n=t.height,a=this.ctx;if(this.save(),!isNodeJS){const{filter:f}=a;f!=="none"&&f!==""&&(a.filter="none")}a.scale(1/e,-1/n);let l;if(t.bitmap)l=this.applyTransferMapsToBitmap(t);else if(typeof HTMLElement=="function"&&t instanceof HTMLElement||!t.data)l=t;else{const d=this.cachedCanvases.getCanvas("inlineImage",e,n).context;putBinaryImageData(d,t),l=this.applyTransferMapsToCanvas(d)}const c=this._scaleImage(l,getCurrentTransformInverse(a));a.imageSmoothingEnabled=getImageSmoothingEnabled(getCurrentTransform(a),t.interpolate),drawImageAtIntegerCoords(a,c.img,0,0,c.paintWidth,c.paintHeight,0,-n,e,n),this.compose(),this.restore()}paintInlineImageXObjectGroup(t,e){if(!this.contentVisible)return;const n=this.ctx;let a;if(t.bitmap)a=t.bitmap;else{const l=t.width,c=t.height,d=this.cachedCanvases.getCanvas("inlineImage",l,c).context;putBinaryImageData(d,t),a=this.applyTransferMapsToCanvas(d)}for(const l of e)n.save(),n.transform(...l.transform),n.scale(1,-1),drawImageAtIntegerCoords(n,a,l.x,l.y,l.w,l.h,0,-1,1,1),n.restore();this.compose()}paintSolidColorImageMask(){this.contentVisible&&(this.ctx.fillRect(0,0,1,1),this.compose())}markPoint(t){}markPointProps(t,e){}beginMarkedContent(t){this.markedContentStack.push({visible:!0})}beginMarkedContentProps(t,e){t==="OC"?this.markedContentStack.push({visible:this.optionalContentConfig.isVisible(e)}):this.markedContentStack.push({visible:!0}),this.contentVisible=this.isContentVisible()}endMarkedContent(){this.markedContentStack.pop(),this.contentVisible=this.isContentVisible()}beginCompat(){}endCompat(){}consumePath(t){const e=this.current.isEmptyClip();this.pendingClip&&this.current.updateClipFromPath(),this.pendingClip||this.compose(t);const n=this.ctx;this.pendingClip&&(e||(this.pendingClip===EO_CLIP?n.clip("evenodd"):n.clip()),this.pendingClip=null),this.current.startNewPathAndClipBox(this.current.clipBox),n.beginPath()}getSinglePixelWidth(){if(!this._cachedGetSinglePixelWidth){const t=getCurrentTransform(this.ctx);if(t[1]===0&&t[2]===0)this._cachedGetSinglePixelWidth=1/Math.min(Math.abs(t[0]),Math.abs(t[3]));else{const e=Math.abs(t[0]*t[3]-t[2]*t[1]),n=Math.hypot(t[0],t[2]),a=Math.hypot(t[1],t[3]);this._cachedGetSinglePixelWidth=Math.max(n,a)/e}}return this._cachedGetSinglePixelWidth}getScaleForStroking(){if(this._cachedScaleForStroking[0]===-1){const{lineWidth:t}=this.current,{a:e,b:n,c:a,d:l}=this.ctx.getTransform();let c,f;if(n===0&&a===0){const d=Math.abs(e),m=Math.abs(l);if(d===m)if(t===0)c=f=1/d;else{const y=d*t;c=f=y<1?1/y:1}else if(t===0)c=1/d,f=1/m;else{const y=d*t,A=m*t;c=y<1?1/y:1,f=A<1?1/A:1}}else{const d=Math.abs(e*l-n*a),m=Math.hypot(e,n),y=Math.hypot(a,l);if(t===0)c=y/d,f=m/d;else{const A=t*d;c=y>A?y/A:1,f=m>A?m/A:1}}this._cachedScaleForStroking[0]=c,this._cachedScaleForStroking[1]=f}return this._cachedScaleForStroking}rescaleAndStroke(t){const{ctx:e}=this,{lineWidth:n}=this.current,[a,l]=this.getScaleForStroking();if(e.lineWidth=n||1,a===1&&l===1){e.stroke();return}const c=e.getLineDash();if(t&&e.save(),e.scale(a,l),c.length>0){const f=Math.max(a,l);e.setLineDash(c.map(d=>d/f)),e.lineDashOffset/=f}e.stroke(),t&&e.restore()}isContentVisible(){for(let t=this.markedContentStack.length-1;t>=0;t--)if(!this.markedContentStack[t].visible)return!1;return!0}};Yr=new WeakSet,f0=function(){for(;this.stateStack.length||this.inSMaskMode;)this.restore();this.current.activeSMask=null,this.ctx.restore(),this.transparentCanvas&&(this.ctx=this.compositeCtx,this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.drawImage(this.transparentCanvas,0,0),this.ctx.restore(),this.transparentCanvas=null)},d0=function(){if(this.pageColors){const t=this.filterFactory.addHCMFilter(this.pageColors.foreground,this.pageColors.background);if(t!=="none"){const e=this.ctx.filter;this.ctx.filter=t,this.ctx.drawImage(this.ctx.canvas,0,0),this.ctx.filter=e}}};let CanvasGraphics=$0;for(const i in OPS)CanvasGraphics.prototype[i]!==void 0&&(CanvasGraphics.prototype[OPS[i]]=CanvasGraphics.prototype[i]);var Gc,Uc;class GlobalWorkerOptions{static get workerPort(){return g(this,Gc)}static set workerPort(t){if(!(typeof Worker<"u"&&t instanceof Worker)&&t!==null)throw new Error("Invalid `workerPort` type.");B(this,Gc,t)}static get workerSrc(){return g(this,Uc)}static set workerSrc(t){if(typeof t!="string")throw new Error("Invalid `workerSrc` type.");B(this,Uc,t)}}Gc=new WeakMap,Uc=new WeakMap,U(GlobalWorkerOptions,Gc,null),U(GlobalWorkerOptions,Uc,"");const CallbackKind={DATA:1,ERROR:2},StreamKind={CANCEL:1,CANCEL_COMPLETE:2,CLOSE:3,ENQUEUE:4,ERROR:5,PULL:6,PULL_COMPLETE:7,START_COMPLETE:8};function wrapReason(i){switch(i instanceof Error||typeof i=="object"&&i!==null||unreachable('wrapReason: Expected "reason" to be a (possibly cloned) Error.'),i.name){case"AbortException":return new AbortException(i.message);case"MissingPDFException":return new MissingPDFException(i.message);case"PasswordException":return new PasswordException(i.message,i.code);case"UnexpectedResponseException":return new UnexpectedResponseException(i.message,i.status);case"UnknownErrorException":return new UnknownErrorException(i.message,i.details);default:return new UnknownErrorException(i.message,i.toString())}}var wl,ln,nb,sb,rb,td;class MessageHandler{constructor(t,e,n){U(this,ln);U(this,wl,new AbortController);this.sourceName=t,this.targetName=e,this.comObj=n,this.callbackId=1,this.streamId=1,this.streamSinks=Object.create(null),this.streamControllers=Object.create(null),this.callbackCapabilities=Object.create(null),this.actionHandler=Object.create(null),n.addEventListener("message",z(this,ln,nb).bind(this),{signal:g(this,wl).signal})}on(t,e){const n=this.actionHandler;if(n[t])throw new Error(`There is already an actionName called "${t}"`);n[t]=e}send(t,e,n){this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:t,data:e},n)}sendWithPromise(t,e,n){const a=this.callbackId++,l=Promise.withResolvers();this.callbackCapabilities[a]=l;try{this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:t,callbackId:a,data:e},n)}catch(c){l.reject(c)}return l.promise}sendWithStream(t,e,n,a){const l=this.streamId++,c=this.sourceName,f=this.targetName,d=this.comObj;return new ReadableStream({start:m=>{const y=Promise.withResolvers();return this.streamControllers[l]={controller:m,startCall:y,pullCall:null,cancelCall:null,isClosed:!1},d.postMessage({sourceName:c,targetName:f,action:t,streamId:l,data:e,desiredSize:m.desiredSize},a),y.promise},pull:m=>{const y=Promise.withResolvers();return this.streamControllers[l].pullCall=y,d.postMessage({sourceName:c,targetName:f,stream:StreamKind.PULL,streamId:l,desiredSize:m.desiredSize}),y.promise},cancel:m=>{assert(m instanceof Error,"cancel must have a valid reason");const y=Promise.withResolvers();return this.streamControllers[l].cancelCall=y,this.streamControllers[l].isClosed=!0,d.postMessage({sourceName:c,targetName:f,stream:StreamKind.CANCEL,streamId:l,reason:wrapReason(m)}),y.promise}},n)}destroy(){var t;(t=g(this,wl))==null||t.abort(),B(this,wl,null)}}wl=new WeakMap,ln=new WeakSet,nb=function({data:t}){if(t.targetName!==this.sourceName)return;if(t.stream){z(this,ln,rb).call(this,t);return}if(t.callback){const n=t.callbackId,a=this.callbackCapabilities[n];if(!a)throw new Error(`Cannot resolve callback ${n}`);if(delete this.callbackCapabilities[n],t.callback===CallbackKind.DATA)a.resolve(t.data);else if(t.callback===CallbackKind.ERROR)a.reject(wrapReason(t.reason));else throw new Error("Unexpected callback case");return}const e=this.actionHandler[t.action];if(!e)throw new Error(`Unknown action from worker: ${t.action}`);if(t.callbackId){const n=this.sourceName,a=t.sourceName,l=this.comObj;new Promise(function(c){c(e(t.data))}).then(function(c){l.postMessage({sourceName:n,targetName:a,callback:CallbackKind.DATA,callbackId:t.callbackId,data:c})},function(c){l.postMessage({sourceName:n,targetName:a,callback:CallbackKind.ERROR,callbackId:t.callbackId,reason:wrapReason(c)})});return}if(t.streamId){z(this,ln,sb).call(this,t);return}e(t.data)},sb=function(t){const e=t.streamId,n=this.sourceName,a=t.sourceName,l=this.comObj,c=this,f=this.actionHandler[t.action],d={enqueue(m,y=1,A){if(this.isCancelled)return;const b=this.desiredSize;this.desiredSize-=y,b>0&&this.desiredSize<=0&&(this.sinkCapability=Promise.withResolvers(),this.ready=this.sinkCapability.promise),l.postMessage({sourceName:n,targetName:a,stream:StreamKind.ENQUEUE,streamId:e,chunk:m},A)},close(){this.isCancelled||(this.isCancelled=!0,l.postMessage({sourceName:n,targetName:a,stream:StreamKind.CLOSE,streamId:e}),delete c.streamSinks[e])},error(m){assert(m instanceof Error,"error must have a valid reason"),!this.isCancelled&&(this.isCancelled=!0,l.postMessage({sourceName:n,targetName:a,stream:StreamKind.ERROR,streamId:e,reason:wrapReason(m)}))},sinkCapability:Promise.withResolvers(),onPull:null,onCancel:null,isCancelled:!1,desiredSize:t.desiredSize,ready:null};d.sinkCapability.resolve(),d.ready=d.sinkCapability.promise,this.streamSinks[e]=d,new Promise(function(m){m(f(t.data,d))}).then(function(){l.postMessage({sourceName:n,targetName:a,stream:StreamKind.START_COMPLETE,streamId:e,success:!0})},function(m){l.postMessage({sourceName:n,targetName:a,stream:StreamKind.START_COMPLETE,streamId:e,reason:wrapReason(m)})})},rb=function(t){const e=t.streamId,n=this.sourceName,a=t.sourceName,l=this.comObj,c=this.streamControllers[e],f=this.streamSinks[e];switch(t.stream){case StreamKind.START_COMPLETE:t.success?c.startCall.resolve():c.startCall.reject(wrapReason(t.reason));break;case StreamKind.PULL_COMPLETE:t.success?c.pullCall.resolve():c.pullCall.reject(wrapReason(t.reason));break;case StreamKind.PULL:if(!f){l.postMessage({sourceName:n,targetName:a,stream:StreamKind.PULL_COMPLETE,streamId:e,success:!0});break}f.desiredSize<=0&&t.desiredSize>0&&f.sinkCapability.resolve(),f.desiredSize=t.desiredSize,new Promise(function(d){var m;d((m=f.onPull)==null?void 0:m.call(f))}).then(function(){l.postMessage({sourceName:n,targetName:a,stream:StreamKind.PULL_COMPLETE,streamId:e,success:!0})},function(d){l.postMessage({sourceName:n,targetName:a,stream:StreamKind.PULL_COMPLETE,streamId:e,reason:wrapReason(d)})});break;case StreamKind.ENQUEUE:if(assert(c,"enqueue should have stream controller"),c.isClosed)break;c.controller.enqueue(t.chunk);break;case StreamKind.CLOSE:if(assert(c,"close should have stream controller"),c.isClosed)break;c.isClosed=!0,c.controller.close(),z(this,ln,td).call(this,c,e);break;case StreamKind.ERROR:assert(c,"error should have stream controller"),c.controller.error(wrapReason(t.reason)),z(this,ln,td).call(this,c,e);break;case StreamKind.CANCEL_COMPLETE:t.success?c.cancelCall.resolve():c.cancelCall.reject(wrapReason(t.reason)),z(this,ln,td).call(this,c,e);break;case StreamKind.CANCEL:if(!f)break;new Promise(function(d){var m;d((m=f.onCancel)==null?void 0:m.call(f,wrapReason(t.reason)))}).then(function(){l.postMessage({sourceName:n,targetName:a,stream:StreamKind.CANCEL_COMPLETE,streamId:e,success:!0})},function(d){l.postMessage({sourceName:n,targetName:a,stream:StreamKind.CANCEL_COMPLETE,streamId:e,reason:wrapReason(d)})}),f.sinkCapability.reject(wrapReason(t.reason)),f.isCancelled=!0,delete this.streamSinks[e];break;default:throw new Error("Unexpected stream case")}},td=async function(t,e){var n,a,l;await Promise.allSettled([(n=t.startCall)==null?void 0:n.promise,(a=t.pullCall)==null?void 0:a.promise,(l=t.cancelCall)==null?void 0:l.promise]),delete this.streamControllers[e]};var Ga,jc;class Metadata{constructor({parsedData:t,rawData:e}){U(this,Ga);U(this,jc);B(this,Ga,t),B(this,jc,e)}getRaw(){return g(this,jc)}get(t){return g(this,Ga).get(t)??null}getAll(){return objectFromMap(g(this,Ga))}has(t){return g(this,Ga).has(t)}}Ga=new WeakMap,jc=new WeakMap;const INTERNAL=Symbol("INTERNAL");var qc,$c,Xc,Cl;class OptionalContentGroup{constructor(t,{name:e,intent:n,usage:a,rbGroups:l}){U(this,qc,!1);U(this,$c,!1);U(this,Xc,!1);U(this,Cl,!0);B(this,qc,!!(t&RenderingIntentFlag.DISPLAY)),B(this,$c,!!(t&RenderingIntentFlag.PRINT)),this.name=e,this.intent=n,this.usage=a,this.rbGroups=l}get visible(){if(g(this,Xc))return g(this,Cl);if(!g(this,Cl))return!1;const{print:t,view:e}=this.usage;return g(this,qc)?(e==null?void 0:e.viewState)!=="OFF":g(this,$c)?(t==null?void 0:t.printState)!=="OFF":!0}_setVisible(t,e,n=!1){t!==INTERNAL&&unreachable("Internal method `_setVisible` called."),B(this,Xc,n),B(this,Cl,e)}}qc=new WeakMap,$c=new WeakMap,Xc=new WeakMap,Cl=new WeakMap;var kr,Yt,Pl,Ml,Yc,p0;class OptionalContentConfig{constructor(t,e=RenderingIntentFlag.DISPLAY){U(this,Yc);U(this,kr,null);U(this,Yt,new Map);U(this,Pl,null);U(this,Ml,null);if(this.renderingIntent=e,this.name=null,this.creator=null,t!==null){this.name=t.name,this.creator=t.creator,B(this,Ml,t.order);for(const n of t.groups)g(this,Yt).set(n.id,new OptionalContentGroup(e,n));if(t.baseState==="OFF")for(const n of g(this,Yt).values())n._setVisible(INTERNAL,!1);for(const n of t.on)g(this,Yt).get(n)._setVisible(INTERNAL,!0);for(const n of t.off)g(this,Yt).get(n)._setVisible(INTERNAL,!1);B(this,Pl,this.getHash())}}isVisible(t){if(g(this,Yt).size===0)return!0;if(!t)return info("Optional content group not defined."),!0;if(t.type==="OCG")return g(this,Yt).has(t.id)?g(this,Yt).get(t.id).visible:(warn(`Optional content group not found: ${t.id}`),!0);if(t.type==="OCMD"){if(t.expression)return z(this,Yc,p0).call(this,t.expression);if(!t.policy||t.policy==="AnyOn"){for(const e of t.ids){if(!g(this,Yt).has(e))return warn(`Optional content group not found: ${e}`),!0;if(g(this,Yt).get(e).visible)return!0}return!1}else if(t.policy==="AllOn"){for(const e of t.ids){if(!g(this,Yt).has(e))return warn(`Optional content group not found: ${e}`),!0;if(!g(this,Yt).get(e).visible)return!1}return!0}else if(t.policy==="AnyOff"){for(const e of t.ids){if(!g(this,Yt).has(e))return warn(`Optional content group not found: ${e}`),!0;if(!g(this,Yt).get(e).visible)return!0}return!1}else if(t.policy==="AllOff"){for(const e of t.ids){if(!g(this,Yt).has(e))return warn(`Optional content group not found: ${e}`),!0;if(g(this,Yt).get(e).visible)return!1}return!0}return warn(`Unknown optional content policy ${t.policy}.`),!0}return warn(`Unknown group type ${t.type}.`),!0}setVisibility(t,e=!0,n=!0){var l;const a=g(this,Yt).get(t);if(!a){warn(`Optional content group not found: ${t}`);return}if(n&&e&&a.rbGroups.length)for(const c of a.rbGroups)for(const f of c)f!==t&&((l=g(this,Yt).get(f))==null||l._setVisible(INTERNAL,!1,!0));a._setVisible(INTERNAL,!!e,!0),B(this,kr,null)}setOCGState({state:t,preserveRB:e}){let n;for(const a of t){switch(a){case"ON":case"OFF":case"Toggle":n=a;continue}const l=g(this,Yt).get(a);if(l)switch(n){case"ON":this.setVisibility(a,!0,e);break;case"OFF":this.setVisibility(a,!1,e);break;case"Toggle":this.setVisibility(a,!l.visible,e);break}}B(this,kr,null)}get hasInitialVisibility(){return g(this,Pl)===null||this.getHash()===g(this,Pl)}getOrder(){return g(this,Yt).size?g(this,Ml)?g(this,Ml).slice():[...g(this,Yt).keys()]:null}getGroups(){return g(this,Yt).size>0?objectFromMap(g(this,Yt)):null}getGroup(t){return g(this,Yt).get(t)||null}getHash(){if(g(this,kr)!==null)return g(this,kr);const t=new MurmurHash3_64;for(const[e,n]of g(this,Yt))t.update(`${e}:${n.visible}`);return B(this,kr,t.hexdigest())}}kr=new WeakMap,Yt=new WeakMap,Pl=new WeakMap,Ml=new WeakMap,Yc=new WeakSet,p0=function(t){const e=t.length;if(e<2)return!0;const n=t[0];for(let a=1;a<e;a++){const l=t[a];let c;if(Array.isArray(l))c=z(this,Yc,p0).call(this,l);else if(g(this,Yt).has(l))c=g(this,Yt).get(l).visible;else return warn(`Optional content group not found: ${l}`),!0;switch(n){case"And":if(!c)return!1;break;case"Or":if(c)return!0;break;case"Not":return!c;default:return!0}}return n==="And"};class PDFDataTransportStream{constructor(t,{disableRange:e=!1,disableStream:n=!1}){assert(t,'PDFDataTransportStream - missing required "pdfDataRangeTransport" argument.');const{length:a,initialData:l,progressiveDone:c,contentDispositionFilename:f}=t;if(this._queuedChunks=[],this._progressiveDone=c,this._contentDispositionFilename=f,(l==null?void 0:l.length)>0){const d=l instanceof Uint8Array&&l.byteLength===l.buffer.byteLength?l.buffer:new Uint8Array(l).buffer;this._queuedChunks.push(d)}this._pdfDataRangeTransport=t,this._isStreamingSupported=!n,this._isRangeSupported=!e,this._contentLength=a,this._fullRequestReader=null,this._rangeReaders=[],t.addRangeListener((d,m)=>{this._onReceiveData({begin:d,chunk:m})}),t.addProgressListener((d,m)=>{this._onProgress({loaded:d,total:m})}),t.addProgressiveReadListener(d=>{this._onReceiveData({chunk:d})}),t.addProgressiveDoneListener(()=>{this._onProgressiveDone()}),t.transportReady()}_onReceiveData({begin:t,chunk:e}){const n=e instanceof Uint8Array&&e.byteLength===e.buffer.byteLength?e.buffer:new Uint8Array(e).buffer;if(t===void 0)this._fullRequestReader?this._fullRequestReader._enqueue(n):this._queuedChunks.push(n);else{const a=this._rangeReaders.some(function(l){return l._begin!==t?!1:(l._enqueue(n),!0)});assert(a,"_onReceiveData - no `PDFDataTransportStreamRangeReader` instance found.")}}get _progressiveDataLength(){var t;return((t=this._fullRequestReader)==null?void 0:t._loaded)??0}_onProgress(t){var e,n,a,l;t.total===void 0?(n=(e=this._rangeReaders[0])==null?void 0:e.onProgress)==null||n.call(e,{loaded:t.loaded}):(l=(a=this._fullRequestReader)==null?void 0:a.onProgress)==null||l.call(a,{loaded:t.loaded,total:t.total})}_onProgressiveDone(){var t;(t=this._fullRequestReader)==null||t.progressiveDone(),this._progressiveDone=!0}_removeRangeReader(t){const e=this._rangeReaders.indexOf(t);e>=0&&this._rangeReaders.splice(e,1)}getFullReader(){assert(!this._fullRequestReader,"PDFDataTransportStream.getFullReader can only be called once.");const t=this._queuedChunks;return this._queuedChunks=null,new PDFDataTransportStreamReader(this,t,this._progressiveDone,this._contentDispositionFilename)}getRangeReader(t,e){if(e<=this._progressiveDataLength)return null;const n=new PDFDataTransportStreamRangeReader(this,t,e);return this._pdfDataRangeTransport.requestDataRange(t,e),this._rangeReaders.push(n),n}cancelAllRequests(t){var e;(e=this._fullRequestReader)==null||e.cancel(t);for(const n of this._rangeReaders.slice(0))n.cancel(t);this._pdfDataRangeTransport.abort()}}class PDFDataTransportStreamReader{constructor(t,e,n=!1,a=null){this._stream=t,this._done=n||!1,this._filename=isPdfFile(a)?a:null,this._queuedChunks=e||[],this._loaded=0;for(const l of this._queuedChunks)this._loaded+=l.byteLength;this._requests=[],this._headersReady=Promise.resolve(),t._fullRequestReader=this,this.onProgress=null}_enqueue(t){this._done||(this._requests.length>0?this._requests.shift().resolve({value:t,done:!1}):this._queuedChunks.push(t),this._loaded+=t.byteLength)}get headersReady(){return this._headersReady}get filename(){return this._filename}get isRangeSupported(){return this._stream._isRangeSupported}get isStreamingSupported(){return this._stream._isStreamingSupported}get contentLength(){return this._stream._contentLength}async read(){if(this._queuedChunks.length>0)return{value:this._queuedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const t=Promise.withResolvers();return this._requests.push(t),t.promise}cancel(t){this._done=!0;for(const e of this._requests)e.resolve({value:void 0,done:!0});this._requests.length=0}progressiveDone(){this._done||(this._done=!0)}}class PDFDataTransportStreamRangeReader{constructor(t,e,n){this._stream=t,this._begin=e,this._end=n,this._queuedChunk=null,this._requests=[],this._done=!1,this.onProgress=null}_enqueue(t){if(!this._done){if(this._requests.length===0)this._queuedChunk=t;else{this._requests.shift().resolve({value:t,done:!1});for(const n of this._requests)n.resolve({value:void 0,done:!0});this._requests.length=0}this._done=!0,this._stream._removeRangeReader(this)}}get isStreamingSupported(){return!1}async read(){if(this._queuedChunk){const e=this._queuedChunk;return this._queuedChunk=null,{value:e,done:!1}}if(this._done)return{value:void 0,done:!0};const t=Promise.withResolvers();return this._requests.push(t),t.promise}cancel(t){this._done=!0;for(const e of this._requests)e.resolve({value:void 0,done:!0});this._requests.length=0,this._stream._removeRangeReader(this)}}function getFilenameFromContentDispositionHeader(i){let t=!0,e=n("filename\\*","i").exec(i);if(e){e=e[1];let y=f(e);return y=unescape(y),y=d(y),y=m(y),l(y)}if(e=c(i),e){const y=m(e);return l(y)}if(e=n("filename","i").exec(i),e){e=e[1];let y=f(e);return y=m(y),l(y)}function n(y,A){return new RegExp("(?:^|;)\\s*"+y+'\\s*=\\s*([^";\\s][^;\\s]*|"(?:[^"\\\\]|\\\\"?)+"?)',A)}function a(y,A){if(y){if(!/^[\x00-\xFF]+$/.test(A))return A;try{const b=new TextDecoder(y,{fatal:!0}),x=stringToBytes(A);A=b.decode(x),t=!1}catch{}}return A}function l(y){return t&&/[\x80-\xff]/.test(y)&&(y=a("utf-8",y),t&&(y=a("iso-8859-1",y))),y}function c(y){const A=[];let b;const x=n("filename\\*((?!0\\d)\\d+)(\\*?)","ig");for(;(b=x.exec(y))!==null;){let[,T,k,S]=b;if(T=parseInt(T,10),T in A){if(T===0)break;continue}A[T]=[k,S]}const E=[];for(let T=0;T<A.length&&T in A;++T){let[k,S]=A[T];S=f(S),k&&(S=unescape(S),T===0&&(S=d(S))),E.push(S)}return E.join("")}function f(y){if(y.startsWith('"')){const A=y.slice(1).split('\\"');for(let b=0;b<A.length;++b){const x=A[b].indexOf('"');x!==-1&&(A[b]=A[b].slice(0,x),A.length=b+1),A[b]=A[b].replaceAll(/\\(.)/g,"$1")}y=A.join('"')}return y}function d(y){const A=y.indexOf("'");if(A===-1)return y;const b=y.slice(0,A),E=y.slice(A+1).replace(/^[^']*'/,"");return a(b,E)}function m(y){return!y.startsWith("=?")||/[\x00-\x19\x80-\xff]/.test(y)?y:y.replaceAll(/=\?([\w-]*)\?([QqBb])\?((?:[^?]|\?(?!=))*)\?=/g,function(A,b,x,E){if(x==="q"||x==="Q")return E=E.replaceAll("_"," "),E=E.replaceAll(/=([0-9a-fA-F]{2})/g,function(T,k){return String.fromCharCode(parseInt(k,16))}),a(b,E);try{E=atob(E)}catch{}return a(b,E)})}return""}function createHeaders(i,t){const e=new Headers;if(!i||!t||typeof t!="object")return e;for(const n in t){const a=t[n];a!==void 0&&e.append(n,a)}return e}function validateRangeRequestCapabilities({responseHeaders:i,isHttp:t,rangeChunkSize:e,disableRange:n}){const a={allowRangeRequests:!1,suggestedLength:void 0},l=parseInt(i.get("Content-Length"),10);return!Number.isInteger(l)||(a.suggestedLength=l,l<=2*e)||n||!t||i.get("Accept-Ranges")!=="bytes"||(i.get("Content-Encoding")||"identity")!=="identity"||(a.allowRangeRequests=!0),a}function extractFilenameFromHeader(i){const t=i.get("Content-Disposition");if(t){let e=getFilenameFromContentDispositionHeader(t);if(e.includes("%"))try{e=decodeURIComponent(e)}catch{}if(isPdfFile(e))return e}return null}function createResponseStatusError(i,t){return i===404||i===0&&t.startsWith("file:")?new MissingPDFException('Missing PDF "'+t+'".'):new UnexpectedResponseException(`Unexpected server response (${i}) while retrieving PDF "${t}".`,i)}function validateResponseStatus(i){return i===200||i===206}function createFetchOptions(i,t,e){return{method:"GET",headers:i,signal:e.signal,mode:"cors",credentials:t?"include":"same-origin",redirect:"follow"}}function getArrayBuffer(i){return i instanceof Uint8Array?i.buffer:i instanceof ArrayBuffer?i:(warn(`getArrayBuffer - unexpected data format: ${i}`),new Uint8Array(i).buffer)}class PDFFetchStream{constructor(t){this.source=t,this.isHttp=/^https?:/i.test(t.url),this.headers=createHeaders(this.isHttp,t.httpHeaders),this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){var t;return((t=this._fullRequestReader)==null?void 0:t._loaded)??0}getFullReader(){return assert(!this._fullRequestReader,"PDFFetchStream.getFullReader can only be called once."),this._fullRequestReader=new PDFFetchStreamReader(this),this._fullRequestReader}getRangeReader(t,e){if(e<=this._progressiveDataLength)return null;const n=new PDFFetchStreamRangeReader(this,t,e);return this._rangeRequestReaders.push(n),n}cancelAllRequests(t){var e;(e=this._fullRequestReader)==null||e.cancel(t);for(const n of this._rangeRequestReaders.slice(0))n.cancel(t)}}class PDFFetchStreamReader{constructor(t){this._stream=t,this._reader=null,this._loaded=0,this._filename=null;const e=t.source;this._withCredentials=e.withCredentials||!1,this._contentLength=e.length,this._headersCapability=Promise.withResolvers(),this._disableRange=e.disableRange||!1,this._rangeChunkSize=e.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._abortController=new AbortController,this._isStreamingSupported=!e.disableStream,this._isRangeSupported=!e.disableRange;const n=new Headers(t.headers),a=e.url;fetch(a,createFetchOptions(n,this._withCredentials,this._abortController)).then(l=>{if(!validateResponseStatus(l.status))throw createResponseStatusError(l.status,a);this._reader=l.body.getReader(),this._headersCapability.resolve();const c=l.headers,{allowRangeRequests:f,suggestedLength:d}=validateRangeRequestCapabilities({responseHeaders:c,isHttp:t.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=f,this._contentLength=d||this._contentLength,this._filename=extractFilenameFromHeader(c),!this._isStreamingSupported&&this._isRangeSupported&&this.cancel(new AbortException("Streaming is disabled."))}).catch(this._headersCapability.reject),this.onProgress=null}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){var n;await this._headersCapability.promise;const{value:t,done:e}=await this._reader.read();return e?{value:t,done:e}:(this._loaded+=t.byteLength,(n=this.onProgress)==null||n.call(this,{loaded:this._loaded,total:this._contentLength}),{value:getArrayBuffer(t),done:!1})}cancel(t){var e;(e=this._reader)==null||e.cancel(t),this._abortController.abort()}}class PDFFetchStreamRangeReader{constructor(t,e,n){this._stream=t,this._reader=null,this._loaded=0;const a=t.source;this._withCredentials=a.withCredentials||!1,this._readCapability=Promise.withResolvers(),this._isStreamingSupported=!a.disableStream,this._abortController=new AbortController;const l=new Headers(t.headers);l.append("Range",`bytes=${e}-${n-1}`);const c=a.url;fetch(c,createFetchOptions(l,this._withCredentials,this._abortController)).then(f=>{if(!validateResponseStatus(f.status))throw createResponseStatusError(f.status,c);this._readCapability.resolve(),this._reader=f.body.getReader()}).catch(this._readCapability.reject),this.onProgress=null}get isStreamingSupported(){return this._isStreamingSupported}async read(){var n;await this._readCapability.promise;const{value:t,done:e}=await this._reader.read();return e?{value:t,done:e}:(this._loaded+=t.byteLength,(n=this.onProgress)==null||n.call(this,{loaded:this._loaded}),{value:getArrayBuffer(t),done:!1})}cancel(t){var e;(e=this._reader)==null||e.cancel(t),this._abortController.abort()}}const OK_RESPONSE=200,PARTIAL_CONTENT_RESPONSE=206;function network_getArrayBuffer(i){const t=i.response;return typeof t!="string"?t:stringToBytes(t).buffer}class NetworkManager{constructor({url:t,httpHeaders:e,withCredentials:n}){this.url=t,this.isHttp=/^https?:/i.test(t),this.headers=createHeaders(this.isHttp,e),this.withCredentials=n||!1,this.currXhrId=0,this.pendingRequests=Object.create(null)}requestRange(t,e,n){const a={begin:t,end:e};for(const l in n)a[l]=n[l];return this.request(a)}requestFull(t){return this.request(t)}request(t){const e=new XMLHttpRequest,n=this.currXhrId++,a=this.pendingRequests[n]={xhr:e};e.open("GET",this.url),e.withCredentials=this.withCredentials;for(const[l,c]of this.headers)e.setRequestHeader(l,c);return this.isHttp&&"begin"in t&&"end"in t?(e.setRequestHeader("Range",`bytes=${t.begin}-${t.end-1}`),a.expectedStatus=PARTIAL_CONTENT_RESPONSE):a.expectedStatus=OK_RESPONSE,e.responseType="arraybuffer",t.onError&&(e.onerror=function(l){t.onError(e.status)}),e.onreadystatechange=this.onStateChange.bind(this,n),e.onprogress=this.onProgress.bind(this,n),a.onHeadersReceived=t.onHeadersReceived,a.onDone=t.onDone,a.onError=t.onError,a.onProgress=t.onProgress,e.send(null),n}onProgress(t,e){var a;const n=this.pendingRequests[t];n&&((a=n.onProgress)==null||a.call(n,e))}onStateChange(t,e){var d,m,y;const n=this.pendingRequests[t];if(!n)return;const a=n.xhr;if(a.readyState>=2&&n.onHeadersReceived&&(n.onHeadersReceived(),delete n.onHeadersReceived),a.readyState!==4||!(t in this.pendingRequests))return;if(delete this.pendingRequests[t],a.status===0&&this.isHttp){(d=n.onError)==null||d.call(n,a.status);return}const l=a.status||OK_RESPONSE;if(!(l===OK_RESPONSE&&n.expectedStatus===PARTIAL_CONTENT_RESPONSE)&&l!==n.expectedStatus){(m=n.onError)==null||m.call(n,a.status);return}const f=network_getArrayBuffer(a);if(l===PARTIAL_CONTENT_RESPONSE){const A=a.getResponseHeader("Content-Range"),b=/bytes (\d+)-(\d+)\/(\d+)/.exec(A);n.onDone({begin:parseInt(b[1],10),chunk:f})}else f?n.onDone({begin:0,chunk:f}):(y=n.onError)==null||y.call(n,a.status)}getRequestXhr(t){return this.pendingRequests[t].xhr}isPendingRequest(t){return t in this.pendingRequests}abortRequest(t){const e=this.pendingRequests[t].xhr;delete this.pendingRequests[t],e.abort()}}class PDFNetworkStream{constructor(t){this._source=t,this._manager=new NetworkManager(t),this._rangeChunkSize=t.rangeChunkSize,this._fullRequestReader=null,this._rangeRequestReaders=[]}_onRangeRequestReaderClosed(t){const e=this._rangeRequestReaders.indexOf(t);e>=0&&this._rangeRequestReaders.splice(e,1)}getFullReader(){return assert(!this._fullRequestReader,"PDFNetworkStream.getFullReader can only be called once."),this._fullRequestReader=new PDFNetworkStreamFullRequestReader(this._manager,this._source),this._fullRequestReader}getRangeReader(t,e){const n=new PDFNetworkStreamRangeRequestReader(this._manager,t,e);return n.onClosed=this._onRangeRequestReaderClosed.bind(this),this._rangeRequestReaders.push(n),n}cancelAllRequests(t){var e;(e=this._fullRequestReader)==null||e.cancel(t);for(const n of this._rangeRequestReaders.slice(0))n.cancel(t)}}class PDFNetworkStreamFullRequestReader{constructor(t,e){this._manager=t;const n={onHeadersReceived:this._onHeadersReceived.bind(this),onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)};this._url=e.url,this._fullRequestId=t.requestFull(n),this._headersCapability=Promise.withResolvers(),this._disableRange=e.disableRange||!1,this._contentLength=e.length,this._rangeChunkSize=e.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!1,this._isRangeSupported=!1,this._cachedChunks=[],this._requests=[],this._done=!1,this._storedError=void 0,this._filename=null,this.onProgress=null}_onHeadersReceived(){const t=this._fullRequestId,e=this._manager.getRequestXhr(t),n=new Headers(e.getAllResponseHeaders().trim().split(/[\r\n]+/).map(c=>{const[f,...d]=c.split(": ");return[f,d.join(": ")]})),{allowRangeRequests:a,suggestedLength:l}=validateRangeRequestCapabilities({responseHeaders:n,isHttp:this._manager.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});a&&(this._isRangeSupported=!0),this._contentLength=l||this._contentLength,this._filename=extractFilenameFromHeader(n),this._isRangeSupported&&this._manager.abortRequest(t),this._headersCapability.resolve()}_onDone(t){if(t&&(this._requests.length>0?this._requests.shift().resolve({value:t.chunk,done:!1}):this._cachedChunks.push(t.chunk)),this._done=!0,!(this._cachedChunks.length>0)){for(const e of this._requests)e.resolve({value:void 0,done:!0});this._requests.length=0}}_onError(t){this._storedError=createResponseStatusError(t,this._url),this._headersCapability.reject(this._storedError);for(const e of this._requests)e.reject(this._storedError);this._requests.length=0,this._cachedChunks.length=0}_onProgress(t){var e;(e=this.onProgress)==null||e.call(this,{loaded:t.loaded,total:t.lengthComputable?t.total:this._contentLength})}get filename(){return this._filename}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}get contentLength(){return this._contentLength}get headersReady(){return this._headersCapability.promise}async read(){if(this._storedError)throw this._storedError;if(this._cachedChunks.length>0)return{value:this._cachedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const t=Promise.withResolvers();return this._requests.push(t),t.promise}cancel(t){this._done=!0,this._headersCapability.reject(t);for(const e of this._requests)e.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._fullRequestId)&&this._manager.abortRequest(this._fullRequestId),this._fullRequestReader=null}}class PDFNetworkStreamRangeRequestReader{constructor(t,e,n){this._manager=t;const a={onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)};this._url=t.url,this._requestId=t.requestRange(e,n,a),this._requests=[],this._queuedChunk=null,this._done=!1,this._storedError=void 0,this.onProgress=null,this.onClosed=null}_close(){var t;(t=this.onClosed)==null||t.call(this,this)}_onDone(t){const e=t.chunk;this._requests.length>0?this._requests.shift().resolve({value:e,done:!1}):this._queuedChunk=e,this._done=!0;for(const n of this._requests)n.resolve({value:void 0,done:!0});this._requests.length=0,this._close()}_onError(t){this._storedError=createResponseStatusError(t,this._url);for(const e of this._requests)e.reject(this._storedError);this._requests.length=0,this._queuedChunk=null}_onProgress(t){var e;this.isStreamingSupported||(e=this.onProgress)==null||e.call(this,{loaded:t.loaded})}get isStreamingSupported(){return!1}async read(){if(this._storedError)throw this._storedError;if(this._queuedChunk!==null){const e=this._queuedChunk;return this._queuedChunk=null,{value:e,done:!1}}if(this._done)return{value:void 0,done:!0};const t=Promise.withResolvers();return this._requests.push(t),t.promise}cancel(t){this._done=!0;for(const e of this._requests)e.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._requestId)&&this._manager.abortRequest(this._requestId),this._close()}}const urlRegex=/^[a-z][a-z0-9\-+.]+:/i;function parseUrlOrPath(i){if(urlRegex.test(i))return new URL(i);const t=NodePackages.get("url");return new URL(t.pathToFileURL(i))}function createRequest(i,t,e){return i.protocol==="http:"?NodePackages.get("http").request(i,{headers:t},e):NodePackages.get("https").request(i,{headers:t},e)}class PDFNodeStream{constructor(t){this.source=t,this.url=parseUrlOrPath(t.url),this.isHttp=this.url.protocol==="http:"||this.url.protocol==="https:",this.isFsUrl=this.url.protocol==="file:",this.headers=createHeaders(this.isHttp,t.httpHeaders),this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){var t;return((t=this._fullRequestReader)==null?void 0:t._loaded)??0}getFullReader(){return assert(!this._fullRequestReader,"PDFNodeStream.getFullReader can only be called once."),this._fullRequestReader=this.isFsUrl?new PDFNodeStreamFsFullReader(this):new PDFNodeStreamFullReader(this),this._fullRequestReader}getRangeReader(t,e){if(e<=this._progressiveDataLength)return null;const n=this.isFsUrl?new PDFNodeStreamFsRangeReader(this,t,e):new PDFNodeStreamRangeReader(this,t,e);return this._rangeRequestReaders.push(n),n}cancelAllRequests(t){var e;(e=this._fullRequestReader)==null||e.cancel(t);for(const n of this._rangeRequestReaders.slice(0))n.cancel(t)}}class BaseFullReader{constructor(t){this._url=t.url,this._done=!1,this._storedError=null,this.onProgress=null;const e=t.source;this._contentLength=e.length,this._loaded=0,this._filename=null,this._disableRange=e.disableRange||!1,this._rangeChunkSize=e.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!e.disableStream,this._isRangeSupported=!e.disableRange,this._readableStream=null,this._readCapability=Promise.withResolvers(),this._headersCapability=Promise.withResolvers()}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){var n;if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const t=this._readableStream.read();return t===null?(this._readCapability=Promise.withResolvers(),this.read()):(this._loaded+=t.length,(n=this.onProgress)==null||n.call(this,{loaded:this._loaded,total:this._contentLength}),{value:new Uint8Array(t).buffer,done:!1})}cancel(t){if(!this._readableStream){this._error(t);return}this._readableStream.destroy(t)}_error(t){this._storedError=t,this._readCapability.resolve()}_setReadableStream(t){this._readableStream=t,t.on("readable",()=>{this._readCapability.resolve()}),t.on("end",()=>{t.destroy(),this._done=!0,this._readCapability.resolve()}),t.on("error",e=>{this._error(e)}),!this._isStreamingSupported&&this._isRangeSupported&&this._error(new AbortException("streaming is disabled")),this._storedError&&this._readableStream.destroy(this._storedError)}}class BaseRangeReader{constructor(t){this._url=t.url,this._done=!1,this._storedError=null,this.onProgress=null,this._loaded=0,this._readableStream=null,this._readCapability=Promise.withResolvers();const e=t.source;this._isStreamingSupported=!e.disableStream}get isStreamingSupported(){return this._isStreamingSupported}async read(){var n;if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const t=this._readableStream.read();return t===null?(this._readCapability=Promise.withResolvers(),this.read()):(this._loaded+=t.length,(n=this.onProgress)==null||n.call(this,{loaded:this._loaded}),{value:new Uint8Array(t).buffer,done:!1})}cancel(t){if(!this._readableStream){this._error(t);return}this._readableStream.destroy(t)}_error(t){this._storedError=t,this._readCapability.resolve()}_setReadableStream(t){this._readableStream=t,t.on("readable",()=>{this._readCapability.resolve()}),t.on("end",()=>{t.destroy(),this._done=!0,this._readCapability.resolve()}),t.on("error",e=>{this._error(e)}),this._storedError&&this._readableStream.destroy(this._storedError)}}class PDFNodeStreamFullReader extends BaseFullReader{constructor(t){super(t);const e=Object.fromEntries(t.headers),n=a=>{if(a.statusCode===404){const d=new MissingPDFException(`Missing PDF "${this._url}".`);this._storedError=d,this._headersCapability.reject(d);return}this._headersCapability.resolve(),this._setReadableStream(a);const l=new Headers(this._readableStream.headers),{allowRangeRequests:c,suggestedLength:f}=validateRangeRequestCapabilities({responseHeaders:l,isHttp:t.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=c,this._contentLength=f||this._contentLength,this._filename=extractFilenameFromHeader(l)};this._request=createRequest(this._url,e,n),this._request.on("error",a=>{this._storedError=a,this._headersCapability.reject(a)}),this._request.end()}}class PDFNodeStreamRangeReader extends BaseRangeReader{constructor(t,e,n){super(t);const a=Object.fromEntries(t.headers);a.Range=`bytes=${e}-${n-1}`;const l=c=>{if(c.statusCode===404){const f=new MissingPDFException(`Missing PDF "${this._url}".`);this._storedError=f;return}this._setReadableStream(c)};this._request=createRequest(this._url,a,l),this._request.on("error",c=>{this._storedError=c}),this._request.end()}}class PDFNodeStreamFsFullReader extends BaseFullReader{constructor(t){super(t);const e=NodePackages.get("fs");e.promises.lstat(this._url).then(n=>{this._contentLength=n.size,this._setReadableStream(e.createReadStream(this._url)),this._headersCapability.resolve()},n=>{n.code==="ENOENT"&&(n=new MissingPDFException(`Missing PDF "${this._url}".`)),this._storedError=n,this._headersCapability.reject(n)})}}class PDFNodeStreamFsRangeReader extends BaseRangeReader{constructor(t,e,n){super(t);const a=NodePackages.get("fs");this._setReadableStream(a.createReadStream(this._url,{start:e,end:n-1}))}}const MAX_TEXT_DIVS_TO_RENDER=1e5,DEFAULT_FONT_SIZE=30,DEFAULT_FONT_ASCENT=.8;var M1,Fr,bi,Wc,Kc,Ua,ws,Qc,Zc,ja,Rl,kl,Dr,Fl,Jc,Dl,qa,tu,eu,ge,$a,Xa,iu,Lr,Ll,$s,ab,lb,m0,Bi,ed,g0,hb,cb;let TextLayer$1=(ge=class{constructor({textContentSource:t,container:e,viewport:n}){U(this,$s);U(this,Fr,Promise.withResolvers());U(this,bi,null);U(this,Wc,!1);U(this,Kc,!!((M1=globalThis.FontInspector)!=null&&M1.enabled));U(this,Ua,null);U(this,ws,null);U(this,Qc,0);U(this,Zc,0);U(this,ja,null);U(this,Rl,null);U(this,kl,0);U(this,Dr,0);U(this,Fl,Object.create(null));U(this,Jc,[]);U(this,Dl,null);U(this,qa,[]);U(this,tu,new WeakMap);U(this,eu,null);var d;if(t instanceof ReadableStream)B(this,Dl,t);else if(typeof t=="object")B(this,Dl,new ReadableStream({start(m){m.enqueue(t),m.close()}}));else throw new Error('No "textContentSource" parameter specified.');B(this,bi,B(this,Rl,e)),B(this,Dr,n.scale*(globalThis.devicePixelRatio||1)),B(this,kl,n.rotation),B(this,ws,{div:null,properties:null,ctx:null});const{pageWidth:a,pageHeight:l,pageX:c,pageY:f}=n.rawDims;B(this,eu,[1,0,0,-1,-c,f+l]),B(this,Zc,a),B(this,Qc,l),z(d=ge,Bi,hb).call(d),setLayerDimensions(e,n),g(this,Fr).promise.finally(()=>{g(ge,Ll).delete(this),B(this,ws,null),B(this,Fl,null)}).catch(()=>{})}static get fontFamilyMap(){const{isWindows:t,isFirefox:e}=util_FeatureTest.platform;return shadow(this,"fontFamilyMap",new Map([["sans-serif",`${t&&e?"Calibri, ":""}sans-serif`],["monospace",`${t&&e?"Lucida Console, ":""}monospace`]]))}render(){const t=()=>{g(this,ja).read().then(({value:e,done:n})=>{if(n){g(this,Fr).resolve();return}g(this,Ua)??B(this,Ua,e.lang),Object.assign(g(this,Fl),e.styles),z(this,$s,ab).call(this,e.items),t()},g(this,Fr).reject)};return B(this,ja,g(this,Dl).getReader()),g(ge,Ll).add(this),t(),g(this,Fr).promise}update({viewport:t,onBefore:e=null}){var l;const n=t.scale*(globalThis.devicePixelRatio||1),a=t.rotation;if(a!==g(this,kl)&&(e==null||e(),B(this,kl,a),setLayerDimensions(g(this,Rl),{rotation:a})),n!==g(this,Dr)){e==null||e(),B(this,Dr,n);const c={div:null,properties:null,ctx:z(l=ge,Bi,ed).call(l,g(this,Ua))};for(const f of g(this,qa))c.properties=g(this,tu).get(f),c.div=f,z(this,$s,m0).call(this,c)}}cancel(){var e;const t=new AbortException("TextLayer task cancelled.");(e=g(this,ja))==null||e.cancel(t).catch(()=>{}),B(this,ja,null),g(this,Fr).reject(t)}get textDivs(){return g(this,qa)}get textContentItemsStr(){return g(this,Jc)}static cleanup(){if(!(g(this,Ll).size>0)){g(this,$a).clear();for(const{canvas:t}of g(this,Xa).values())t.remove();g(this,Xa).clear()}}},Fr=new WeakMap,bi=new WeakMap,Wc=new WeakMap,Kc=new WeakMap,Ua=new WeakMap,ws=new WeakMap,Qc=new WeakMap,Zc=new WeakMap,ja=new WeakMap,Rl=new WeakMap,kl=new WeakMap,Dr=new WeakMap,Fl=new WeakMap,Jc=new WeakMap,Dl=new WeakMap,qa=new WeakMap,tu=new WeakMap,eu=new WeakMap,$a=new WeakMap,Xa=new WeakMap,iu=new WeakMap,Lr=new WeakMap,Ll=new WeakMap,$s=new WeakSet,ab=function(t){var a,l;if(g(this,Wc))return;(l=g(this,ws)).ctx??(l.ctx=z(a=ge,Bi,ed).call(a,g(this,Ua)));const e=g(this,qa),n=g(this,Jc);for(const c of t){if(e.length>MAX_TEXT_DIVS_TO_RENDER){warn("Ignoring additional textDivs for performance reasons."),B(this,Wc,!0);return}if(c.str===void 0){if(c.type==="beginMarkedContentProps"||c.type==="beginMarkedContent"){const f=g(this,bi);B(this,bi,document.createElement("span")),g(this,bi).classList.add("markedContent"),c.id!==null&&g(this,bi).setAttribute("id",`${c.id}`),f.append(g(this,bi))}else c.type==="endMarkedContent"&&B(this,bi,g(this,bi).parentNode);continue}n.push(c.str),z(this,$s,lb).call(this,c)}},lb=function(t){var T;const e=document.createElement("span"),n={angle:0,canvasWidth:0,hasText:t.str!=="",hasEOL:t.hasEOL,fontSize:0};g(this,qa).push(e);const a=Util.transform(g(this,eu),t.transform);let l=Math.atan2(a[1],a[0]);const c=g(this,Fl)[t.fontName];c.vertical&&(l+=Math.PI/2);let f=g(this,Kc)&&c.fontSubstitution||c.fontFamily;f=ge.fontFamilyMap.get(f)||f;const d=Math.hypot(a[2],a[3]),m=d*z(T=ge,Bi,cb).call(T,f,g(this,Ua));let y,A;l===0?(y=a[4],A=a[5]-m):(y=a[4]+m*Math.sin(l),A=a[5]-m*Math.cos(l));const b="calc(var(--scale-factor)*",x=e.style;g(this,bi)===g(this,Rl)?(x.left=`${(100*y/g(this,Zc)).toFixed(2)}%`,x.top=`${(100*A/g(this,Qc)).toFixed(2)}%`):(x.left=`${b}${y.toFixed(2)}px)`,x.top=`${b}${A.toFixed(2)}px)`),x.fontSize=`${b}${(g(ge,Lr)*d).toFixed(2)}px)`,x.fontFamily=f,n.fontSize=d,e.setAttribute("role","presentation"),e.textContent=t.str,e.dir=t.dir,g(this,Kc)&&(e.dataset.fontName=c.fontSubstitutionLoadedName||t.fontName),l!==0&&(n.angle=l*(180/Math.PI));let E=!1;if(t.str.length>1)E=!0;else if(t.str!==" "&&t.transform[0]!==t.transform[3]){const k=Math.abs(t.transform[0]),S=Math.abs(t.transform[3]);k!==S&&Math.max(k,S)/Math.min(k,S)>1.5&&(E=!0)}if(E&&(n.canvasWidth=c.vertical?t.height:t.width),g(this,tu).set(e,n),g(this,ws).div=e,g(this,ws).properties=n,z(this,$s,m0).call(this,g(this,ws)),n.hasText&&g(this,bi).append(e),n.hasEOL){const k=document.createElement("br");k.setAttribute("role","presentation"),g(this,bi).append(k)}},m0=function(t){var f;const{div:e,properties:n,ctx:a}=t,{style:l}=e;let c="";if(g(ge,Lr)>1&&(c=`scale(${1/g(ge,Lr)})`),n.canvasWidth!==0&&n.hasText){const{fontFamily:d}=l,{canvasWidth:m,fontSize:y}=n;z(f=ge,Bi,g0).call(f,a,y*g(this,Dr),d);const{width:A}=a.measureText(e.textContent);A>0&&(c=`scaleX(${m*g(this,Dr)/A}) ${c}`)}n.angle!==0&&(c=`rotate(${n.angle}deg) ${c}`),c.length>0&&(l.transform=c)},Bi=new WeakSet,ed=function(t=null){let e=g(this,Xa).get(t||(t=""));if(!e){const n=document.createElement("canvas");n.className="hiddenCanvasElement",n.lang=t,document.body.append(n),e=n.getContext("2d",{alpha:!1,willReadFrequently:!0}),g(this,Xa).set(t,e),g(this,iu).set(e,{size:0,family:""})}return e},g0=function(t,e,n){const a=g(this,iu).get(t);e===a.size&&n===a.family||(t.font=`${e}px ${n}`,a.size=e,a.family=n)},hb=function(){if(g(this,Lr)!==null)return;const t=document.createElement("div");t.style.opacity=0,t.style.lineHeight=1,t.style.fontSize="1px",t.style.position="absolute",t.textContent="X",document.body.append(t),B(this,Lr,t.getBoundingClientRect().height),t.remove()},cb=function(t,e){const n=g(this,$a).get(t);if(n)return n;const a=z(this,Bi,ed).call(this,e);a.canvas.width=a.canvas.height=DEFAULT_FONT_SIZE,z(this,Bi,g0).call(this,a,DEFAULT_FONT_SIZE,t);const l=a.measureText("");let c=l.fontBoundingBoxAscent,f=Math.abs(l.fontBoundingBoxDescent);if(c){const y=c/(c+f);return g(this,$a).set(t,y),a.canvas.width=a.canvas.height=0,y}a.strokeStyle="red",a.clearRect(0,0,DEFAULT_FONT_SIZE,DEFAULT_FONT_SIZE),a.strokeText("g",0,0);let d=a.getImageData(0,0,DEFAULT_FONT_SIZE,DEFAULT_FONT_SIZE).data;f=0;for(let y=d.length-1-3;y>=0;y-=4)if(d[y]>0){f=Math.ceil(y/4/DEFAULT_FONT_SIZE);break}a.clearRect(0,0,DEFAULT_FONT_SIZE,DEFAULT_FONT_SIZE),a.strokeText("A",0,DEFAULT_FONT_SIZE),d=a.getImageData(0,0,DEFAULT_FONT_SIZE,DEFAULT_FONT_SIZE).data,c=0;for(let y=0,A=d.length;y<A;y+=4)if(d[y]>0){c=DEFAULT_FONT_SIZE-Math.floor(y/4/DEFAULT_FONT_SIZE);break}a.canvas.width=a.canvas.height=0;const m=c?c/(c+f):DEFAULT_FONT_ASCENT;return g(this,$a).set(t,m),m},U(ge,Bi),U(ge,$a,new Map),U(ge,Xa,new Map),U(ge,iu,new WeakMap),U(ge,Lr,null),U(ge,Ll,new Set),ge);class XfaText{static textContent(t){const e=[],n={items:e,styles:Object.create(null)};function a(l){var d;if(!l)return;let c=null;const f=l.name;if(f==="#text")c=l.value;else if(XfaText.shouldBuildText(f))(d=l==null?void 0:l.attributes)!=null&&d.textContent?c=l.attributes.textContent:l.value&&(c=l.value);else return;if(c!==null&&e.push({str:c}),!!l.children)for(const m of l.children)a(m)}return a(t),n}static shouldBuildText(t){return!(t==="textarea"||t==="input"||t==="option"||t==="select")}}const DEFAULT_RANGE_CHUNK_SIZE=65536,RENDERING_CANCELLED_TIMEOUT=100,DELAYED_CLEANUP_TIMEOUT=5e3,DefaultCanvasFactory=isNodeJS?NodeCanvasFactory:DOMCanvasFactory,DefaultCMapReaderFactory=isNodeJS?NodeCMapReaderFactory:DOMCMapReaderFactory,DefaultFilterFactory=isNodeJS?NodeFilterFactory:DOMFilterFactory,DefaultStandardFontDataFactory=isNodeJS?NodeStandardFontDataFactory:DOMStandardFontDataFactory;function getDocument(i={}){typeof i=="string"||i instanceof URL?i={url:i}:(i instanceof ArrayBuffer||ArrayBuffer.isView(i))&&(i={data:i});const t=new PDFDocumentLoadingTask,{docId:e}=t,n=i.url?getUrlProp(i.url):null,a=i.data?getDataProp(i.data):null,l=i.httpHeaders||null,c=i.withCredentials===!0,f=i.password??null,d=i.range instanceof PDFDataRangeTransport$1?i.range:null,m=Number.isInteger(i.rangeChunkSize)&&i.rangeChunkSize>0?i.rangeChunkSize:DEFAULT_RANGE_CHUNK_SIZE;let y=i.worker instanceof PDFWorker?i.worker:null;const A=i.verbosity,b=typeof i.docBaseUrl=="string"&&!isDataScheme(i.docBaseUrl)?i.docBaseUrl:null,x=typeof i.cMapUrl=="string"?i.cMapUrl:null,E=i.cMapPacked!==!1,T=i.CMapReaderFactory||DefaultCMapReaderFactory,k=typeof i.standardFontDataUrl=="string"?i.standardFontDataUrl:null,S=i.StandardFontDataFactory||DefaultStandardFontDataFactory,M=i.stopAtErrors!==!0,P=Number.isInteger(i.maxImageSize)&&i.maxImageSize>-1?i.maxImageSize:-1,R=i.isEvalSupported!==!1,D=typeof i.isOffscreenCanvasSupported=="boolean"?i.isOffscreenCanvasSupported:!isNodeJS,L=typeof i.isChrome=="boolean"?i.isChrome:!util_FeatureTest.platform.isFirefox&&typeof window<"u"&&!!(window!=null&&window.chrome),G=Number.isInteger(i.canvasMaxAreaInBytes)?i.canvasMaxAreaInBytes:-1,q=typeof i.disableFontFace=="boolean"?i.disableFontFace:isNodeJS,X=i.fontExtraProperties===!0,J=i.enableXfa===!0,et=i.ownerDocument||globalThis.document,it=i.disableRange===!0,lt=i.disableStream===!0,tt=i.disableAutoFetch===!0,W=i.pdfBug===!0,O=i.CanvasFactory||DefaultCanvasFactory,H=i.FilterFactory||DefaultFilterFactory,F=i.enableHWA===!0,N=d?d.length:i.length??NaN,V=typeof i.useSystemFonts=="boolean"?i.useSystemFonts:!isNodeJS&&!q,$=typeof i.useWorkerFetch=="boolean"?i.useWorkerFetch:T===DOMCMapReaderFactory&&S===DOMStandardFontDataFactory&&x&&k&&isValidFetchUrl(x,document.baseURI)&&isValidFetchUrl(k,document.baseURI);i.canvasFactory&&deprecated("`canvasFactory`-instance option, please use `CanvasFactory` instead."),i.filterFactory&&deprecated("`filterFactory`-instance option, please use `FilterFactory` instead.");const Q=null;setVerbosityLevel(A);const st={canvasFactory:new O({ownerDocument:et,enableHWA:F}),filterFactory:new H({docId:e,ownerDocument:et}),cMapReaderFactory:$?null:new T({baseUrl:x,isCompressed:E}),standardFontDataFactory:$?null:new S({baseUrl:k})};if(!y){const ht={verbosity:A,port:GlobalWorkerOptions.workerPort};y=ht.port?PDFWorker.fromPort(ht):new PDFWorker(ht),t._worker=y}const rt={docId:e,apiVersion:"4.8.69",data:a,password:f,disableAutoFetch:tt,rangeChunkSize:m,length:N,docBaseUrl:b,enableXfa:J,evaluatorOptions:{maxImageSize:P,disableFontFace:q,ignoreErrors:M,isEvalSupported:R,isOffscreenCanvasSupported:D,isChrome:L,canvasMaxAreaInBytes:G,fontExtraProperties:X,useSystemFonts:V,cMapUrl:$?x:null,standardFontDataUrl:$?k:null}},pt={disableFontFace:q,fontExtraProperties:X,ownerDocument:et,pdfBug:W,styleElement:Q,loadingParams:{disableAutoFetch:tt,enableXfa:J}};return y.promise.then(function(){if(t.destroyed)throw new Error("Loading aborted");if(y.destroyed)throw new Error("Worker was destroyed");const ht=y.messageHandler.sendWithPromise("GetDocRequest",rt,a?[a.buffer]:null);let mt;if(d)mt=new PDFDataTransportStream(d,{disableRange:it,disableStream:lt});else if(!a){if(!n)throw new Error("getDocument - no `url` parameter provided.");let At;isNodeJS?At=typeof fetch<"u"&&typeof Response<"u"&&"body"in Response.prototype&&isValidFetchUrl(n)?PDFFetchStream:PDFNodeStream:At=isValidFetchUrl(n)?PDFFetchStream:PDFNetworkStream,mt=new At({url:n,length:N,httpHeaders:l,withCredentials:c,rangeChunkSize:m,disableRange:it,disableStream:lt})}return ht.then(At=>{if(t.destroyed)throw new Error("Loading aborted");if(y.destroyed)throw new Error("Worker was destroyed");const Ct=new MessageHandler(e,At,y.port),_t=new WorkerTransport(Ct,t,mt,pt,st);t._transport=_t,Ct.send("Ready",null)})}).catch(t._capability.reject),t}function getUrlProp(i){if(i instanceof URL)return i.href;try{return new URL(i,window.location).href}catch{if(isNodeJS&&typeof i=="string")return i}throw new Error("Invalid PDF url data: either string or URL-object is expected in the url property.")}function getDataProp(i){if(isNodeJS&&typeof Buffer<"u"&&i instanceof Buffer)throw new Error("Please provide binary data as `Uint8Array`, rather than `Buffer`.");if(i instanceof Uint8Array&&i.byteLength===i.buffer.byteLength)return i;if(typeof i=="string")return stringToBytes(i);if(i instanceof ArrayBuffer||ArrayBuffer.isView(i)||typeof i=="object"&&!isNaN(i==null?void 0:i.length))return new Uint8Array(i);throw new Error("Invalid PDF binary data: either TypedArray, string, or array-like object is expected in the data property.")}function isRefProxy(i){return typeof i=="object"&&Number.isInteger(i==null?void 0:i.num)&&i.num>=0&&Number.isInteger(i==null?void 0:i.gen)&&i.gen>=0}var kd;const Fd=class Fd{constructor(){this._capability=Promise.withResolvers(),this._transport=null,this._worker=null,this.docId=`d${li(Fd,kd)._++}`,this.destroyed=!1,this.onPassword=null,this.onProgress=null}get promise(){return this._capability.promise}async destroy(){var t,e,n;this.destroyed=!0;try{(t=this._worker)!=null&&t.port&&(this._worker._pendingDestroy=!0),await((e=this._transport)==null?void 0:e.destroy())}catch(a){throw(n=this._worker)!=null&&n.port&&delete this._worker._pendingDestroy,a}this._transport=null,this._worker&&(this._worker.destroy(),this._worker=null)}};kd=new WeakMap,U(Fd,kd,0);let PDFDocumentLoadingTask=Fd,PDFDataRangeTransport$1=class{constructor(t,e,n=!1,a=null){this.length=t,this.initialData=e,this.progressiveDone=n,this.contentDispositionFilename=a,this._rangeListeners=[],this._progressListeners=[],this._progressiveReadListeners=[],this._progressiveDoneListeners=[],this._readyCapability=Promise.withResolvers()}addRangeListener(t){this._rangeListeners.push(t)}addProgressListener(t){this._progressListeners.push(t)}addProgressiveReadListener(t){this._progressiveReadListeners.push(t)}addProgressiveDoneListener(t){this._progressiveDoneListeners.push(t)}onDataRange(t,e){for(const n of this._rangeListeners)n(t,e)}onDataProgress(t,e){this._readyCapability.promise.then(()=>{for(const n of this._progressListeners)n(t,e)})}onDataProgressiveRead(t){this._readyCapability.promise.then(()=>{for(const e of this._progressiveReadListeners)e(t)})}onDataProgressiveDone(){this._readyCapability.promise.then(()=>{for(const t of this._progressiveDoneListeners)t()})}transportReady(){this._readyCapability.resolve()}requestDataRange(t,e){unreachable("Abstract method PDFDataRangeTransport.requestDataRange")}abort(){}};class PDFDocumentProxy{constructor(t,e){this._pdfInfo=t,this._transport=e}get annotationStorage(){return this._transport.annotationStorage}get canvasFactory(){return this._transport.canvasFactory}get filterFactory(){return this._transport.filterFactory}get numPages(){return this._pdfInfo.numPages}get fingerprints(){return this._pdfInfo.fingerprints}get isPureXfa(){return shadow(this,"isPureXfa",!!this._transport._htmlForXfa)}get allXfaHtml(){return this._transport._htmlForXfa}getPage(t){return this._transport.getPage(t)}getPageIndex(t){return this._transport.getPageIndex(t)}getDestinations(){return this._transport.getDestinations()}getDestination(t){return this._transport.getDestination(t)}getPageLabels(){return this._transport.getPageLabels()}getPageLayout(){return this._transport.getPageLayout()}getPageMode(){return this._transport.getPageMode()}getViewerPreferences(){return this._transport.getViewerPreferences()}getOpenAction(){return this._transport.getOpenAction()}getAttachments(){return this._transport.getAttachments()}getJSActions(){return this._transport.getDocJSActions()}getOutline(){return this._transport.getOutline()}getOptionalContentConfig({intent:t="display"}={}){const{renderingIntent:e}=this._transport.getRenderingIntent(t);return this._transport.getOptionalContentConfig(e)}getPermissions(){return this._transport.getPermissions()}getMetadata(){return this._transport.getMetadata()}getMarkInfo(){return this._transport.getMarkInfo()}getData(){return this._transport.getData()}saveDocument(){return this._transport.saveDocument()}getDownloadInfo(){return this._transport.downloadInfoCapability.promise}cleanup(t=!1){return this._transport.startCleanup(t||this.isPureXfa)}destroy(){return this.loadingTask.destroy()}cachedPageNumber(t){return this._transport.cachedPageNumber(t)}get loadingParams(){return this._transport.loadingParams}get loadingTask(){return this._transport.loadingTask}getFieldObjects(){return this._transport.getFieldObjects()}hasJSActions(){return this._transport.hasJSActions()}getCalculationOrderIds(){return this._transport.getCalculationOrderIds()}}var Ir,Cs,an,ll,id;class PDFPageProxy{constructor(t,e,n,a=!1){U(this,an);U(this,Ir,null);U(this,Cs,!1);this._pageIndex=t,this._pageInfo=e,this._transport=n,this._stats=a?new StatTimer:null,this._pdfBug=a,this.commonObjs=n.commonObjs,this.objs=new PDFObjects,this._maybeCleanupAfterRender=!1,this._intentStates=new Map,this.destroyed=!1}get pageNumber(){return this._pageIndex+1}get rotate(){return this._pageInfo.rotate}get ref(){return this._pageInfo.ref}get userUnit(){return this._pageInfo.userUnit}get view(){return this._pageInfo.view}getViewport({scale:t,rotation:e=this.rotate,offsetX:n=0,offsetY:a=0,dontFlip:l=!1}={}){return new PageViewport({viewBox:this.view,scale:t,rotation:e,offsetX:n,offsetY:a,dontFlip:l})}getAnnotations({intent:t="display"}={}){const{renderingIntent:e}=this._transport.getRenderingIntent(t);return this._transport.getAnnotations(this._pageIndex,e)}getJSActions(){return this._transport.getPageJSActions(this._pageIndex)}get filterFactory(){return this._transport.filterFactory}get isPureXfa(){return shadow(this,"isPureXfa",!!this._transport._htmlForXfa)}async getXfa(){var t;return((t=this._transport._htmlForXfa)==null?void 0:t.children[this._pageIndex])||null}render({canvasContext:t,viewport:e,intent:n="display",annotationMode:a=AnnotationMode.ENABLE,transform:l=null,background:c=null,optionalContentConfigPromise:f=null,annotationCanvasMap:d=null,pageColors:m=null,printAnnotationStorage:y=null,isEditing:A=!1}){var R,D;(R=this._stats)==null||R.time("Overall");const b=this._transport.getRenderingIntent(n,a,y,A),{renderingIntent:x,cacheKey:E}=b;B(this,Cs,!1),z(this,an,id).call(this),f||(f=this._transport.getOptionalContentConfig(x));let T=this._intentStates.get(E);T||(T=Object.create(null),this._intentStates.set(E,T)),T.streamReaderCancelTimeout&&(clearTimeout(T.streamReaderCancelTimeout),T.streamReaderCancelTimeout=null);const k=!!(x&RenderingIntentFlag.PRINT);T.displayReadyCapability||(T.displayReadyCapability=Promise.withResolvers(),T.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},(D=this._stats)==null||D.time("Page Request"),this._pumpOperatorList(b));const S=L=>{var G;T.renderTasks.delete(M),(this._maybeCleanupAfterRender||k)&&B(this,Cs,!0),z(this,an,ll).call(this,!k),L?(M.capability.reject(L),this._abortOperatorList({intentState:T,reason:L instanceof Error?L:new Error(L)})):M.capability.resolve(),this._stats&&(this._stats.timeEnd("Rendering"),this._stats.timeEnd("Overall"),(G=globalThis.Stats)!=null&&G.enabled&&globalThis.Stats.add(this.pageNumber,this._stats))},M=new InternalRenderTask({callback:S,params:{canvasContext:t,viewport:e,transform:l,background:c},objs:this.objs,commonObjs:this.commonObjs,annotationCanvasMap:d,operatorList:T.operatorList,pageIndex:this._pageIndex,canvasFactory:this._transport.canvasFactory,filterFactory:this._transport.filterFactory,useRequestAnimationFrame:!k,pdfBug:this._pdfBug,pageColors:m});(T.renderTasks||(T.renderTasks=new Set)).add(M);const P=M.task;return Promise.all([T.displayReadyCapability.promise,f]).then(([L,G])=>{var q;if(this.destroyed){S();return}if((q=this._stats)==null||q.time("Rendering"),!(G.renderingIntent&x))throw new Error("Must use the same `intent`-argument when calling the `PDFPageProxy.render` and `PDFDocumentProxy.getOptionalContentConfig` methods.");M.initializeGraphics({transparency:L,optionalContentConfig:G}),M.operatorListChanged()}).catch(S),P}getOperatorList({intent:t="display",annotationMode:e=AnnotationMode.ENABLE,printAnnotationStorage:n=null,isEditing:a=!1}={}){var m;function l(){f.operatorList.lastChunk&&(f.opListReadCapability.resolve(f.operatorList),f.renderTasks.delete(d))}const c=this._transport.getRenderingIntent(t,e,n,a,!0);let f=this._intentStates.get(c.cacheKey);f||(f=Object.create(null),this._intentStates.set(c.cacheKey,f));let d;return f.opListReadCapability||(d=Object.create(null),d.operatorListChanged=l,f.opListReadCapability=Promise.withResolvers(),(f.renderTasks||(f.renderTasks=new Set)).add(d),f.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},(m=this._stats)==null||m.time("Page Request"),this._pumpOperatorList(c)),f.opListReadCapability.promise}streamTextContent({includeMarkedContent:t=!1,disableNormalization:e=!1}={}){return this._transport.messageHandler.sendWithStream("GetTextContent",{pageIndex:this._pageIndex,includeMarkedContent:t===!0,disableNormalization:e===!0},{highWaterMark:100,size(a){return a.items.length}})}getTextContent(t={}){if(this._transport._htmlForXfa)return this.getXfa().then(n=>XfaText.textContent(n));const e=this.streamTextContent(t);return new Promise(function(n,a){function l(){c.read().then(function({value:d,done:m}){if(m){n(f);return}f.lang??(f.lang=d.lang),Object.assign(f.styles,d.styles),f.items.push(...d.items),l()},a)}const c=e.getReader(),f={items:[],styles:Object.create(null),lang:null};l()})}getStructTree(){return this._transport.getStructTree(this._pageIndex)}_destroy(){this.destroyed=!0;const t=[];for(const e of this._intentStates.values())if(this._abortOperatorList({intentState:e,reason:new Error("Page was destroyed."),force:!0}),!e.opListReadCapability)for(const n of e.renderTasks)t.push(n.completed),n.cancel();return this.objs.clear(),B(this,Cs,!1),z(this,an,id).call(this),Promise.all(t)}cleanup(t=!1){B(this,Cs,!0);const e=z(this,an,ll).call(this,!1);return t&&e&&this._stats&&(this._stats=new StatTimer),e}_startRenderPage(t,e){var a,l;const n=this._intentStates.get(e);n&&((a=this._stats)==null||a.timeEnd("Page Request"),(l=n.displayReadyCapability)==null||l.resolve(t))}_renderPageChunk(t,e){for(let n=0,a=t.length;n<a;n++)e.operatorList.fnArray.push(t.fnArray[n]),e.operatorList.argsArray.push(t.argsArray[n]);e.operatorList.lastChunk=t.lastChunk,e.operatorList.separateAnnots=t.separateAnnots;for(const n of e.renderTasks)n.operatorListChanged();t.lastChunk&&z(this,an,ll).call(this,!0)}_pumpOperatorList({renderingIntent:t,cacheKey:e,annotationStorageSerializable:n,modifiedIds:a}){const{map:l,transfer:c}=n,d=this._transport.messageHandler.sendWithStream("GetOperatorList",{pageIndex:this._pageIndex,intent:t,cacheKey:e,annotationStorage:l,modifiedIds:a},c).getReader(),m=this._intentStates.get(e);m.streamReader=d;const y=()=>{d.read().then(({value:A,done:b})=>{if(b){m.streamReader=null;return}this._transport.destroyed||(this._renderPageChunk(A,m),y())},A=>{if(m.streamReader=null,!this._transport.destroyed){if(m.operatorList){m.operatorList.lastChunk=!0;for(const b of m.renderTasks)b.operatorListChanged();z(this,an,ll).call(this,!0)}if(m.displayReadyCapability)m.displayReadyCapability.reject(A);else if(m.opListReadCapability)m.opListReadCapability.reject(A);else throw A}})};y()}_abortOperatorList({intentState:t,reason:e,force:n=!1}){if(t.streamReader){if(t.streamReaderCancelTimeout&&(clearTimeout(t.streamReaderCancelTimeout),t.streamReaderCancelTimeout=null),!n){if(t.renderTasks.size>0)return;if(e instanceof RenderingCancelledException){let a=RENDERING_CANCELLED_TIMEOUT;e.extraDelay>0&&e.extraDelay<1e3&&(a+=e.extraDelay),t.streamReaderCancelTimeout=setTimeout(()=>{t.streamReaderCancelTimeout=null,this._abortOperatorList({intentState:t,reason:e,force:!0})},a);return}}if(t.streamReader.cancel(new AbortException(e.message)).catch(()=>{}),t.streamReader=null,!this._transport.destroyed){for(const[a,l]of this._intentStates)if(l===t){this._intentStates.delete(a);break}this.cleanup()}}}get stats(){return this._stats}}Ir=new WeakMap,Cs=new WeakMap,an=new WeakSet,ll=function(t=!1){if(z(this,an,id).call(this),!g(this,Cs)||this.destroyed)return!1;if(t)return B(this,Ir,setTimeout(()=>{B(this,Ir,null),z(this,an,ll).call(this,!1)},DELAYED_CLEANUP_TIMEOUT)),!1;for(const{renderTasks:e,operatorList:n}of this._intentStates.values())if(e.size>0||!n.lastChunk)return!1;return this._intentStates.clear(),this.objs.clear(),B(this,Cs,!1),!0},id=function(){g(this,Ir)&&(clearTimeout(g(this,Ir)),B(this,Ir,null))};var Ps,Dd;class LoopbackPort{constructor(){U(this,Ps,new Map);U(this,Dd,Promise.resolve())}postMessage(t,e){const n={data:structuredClone(t,e?{transfer:e}:null)};g(this,Dd).then(()=>{for(const[a]of g(this,Ps))a.call(this,n)})}addEventListener(t,e,n=null){let a=null;if((n==null?void 0:n.signal)instanceof AbortSignal){const{signal:l}=n;if(l.aborted){warn("LoopbackPort - cannot use an `aborted` signal.");return}const c=()=>this.removeEventListener(t,e);a=()=>l.removeEventListener("abort",c),l.addEventListener("abort",c)}g(this,Ps).set(e,a)}removeEventListener(t,e){const n=g(this,Ps).get(e);n==null||n(),g(this,Ps).delete(e)}terminate(){for(const[,t]of g(this,Ps))t==null||t();g(this,Ps).clear()}}Ps=new WeakMap,Dd=new WeakMap;var Ld,Ya,Wa,Il,nd,Ol,sd;const re=class re{constructor({name:t=null,port:e=null,verbosity:n=getVerbosityLevel()}={}){U(this,Il);var a;if(this.name=t,this.destroyed=!1,this.verbosity=n,this._readyCapability=Promise.withResolvers(),this._port=null,this._webWorker=null,this._messageHandler=null,e){if((a=g(re,Wa))!=null&&a.has(e))throw new Error("Cannot use more than one PDFWorker per port.");(g(re,Wa)||B(re,Wa,new WeakMap)).set(e,this),this._initializeFromPort(e);return}this._initialize()}get promise(){return isNodeJS?Promise.all([NodePackages.promise,this._readyCapability.promise]):this._readyCapability.promise}get port(){return this._port}get messageHandler(){return this._messageHandler}_initializeFromPort(t){this._port=t,this._messageHandler=new MessageHandler("main","worker",t),this._messageHandler.on("ready",function(){}),z(this,Il,nd).call(this)}_initialize(){if(g(re,Ya)||g(re,Ol,sd)){this._setupFakeWorker();return}let{workerSrc:t}=re;try{re._isSameOrigin(window.location.href,t)||(t=re._createCDNWrapper(new URL(t,window.location).href));const e=new Worker(t,{type:"module"}),n=new MessageHandler("main","worker",e),a=()=>{l.abort(),n.destroy(),e.terminate(),this.destroyed?this._readyCapability.reject(new Error("Worker was destroyed")):this._setupFakeWorker()},l=new AbortController;e.addEventListener("error",()=>{this._webWorker||a()},{signal:l.signal}),n.on("test",f=>{if(l.abort(),this.destroyed||!f){a();return}this._messageHandler=n,this._port=e,this._webWorker=e,z(this,Il,nd).call(this)}),n.on("ready",f=>{if(l.abort(),this.destroyed){a();return}try{c()}catch{this._setupFakeWorker()}});const c=()=>{const f=new Uint8Array;n.send("test",f,[f.buffer])};c();return}catch{info("The worker has been disabled.")}this._setupFakeWorker()}_setupFakeWorker(){g(re,Ya)||(warn("Setting up fake worker."),B(re,Ya,!0)),re._setupFakeWorkerGlobal.then(t=>{if(this.destroyed){this._readyCapability.reject(new Error("Worker was destroyed"));return}const e=new LoopbackPort;this._port=e;const n=`fake${li(re,Ld)._++}`,a=new MessageHandler(n+"_worker",n,e);t.setup(a,e),this._messageHandler=new MessageHandler(n,n+"_worker",e),z(this,Il,nd).call(this)}).catch(t=>{this._readyCapability.reject(new Error(`Setting up fake worker failed: "${t.message}".`))})}destroy(){var t;this.destroyed=!0,this._webWorker&&(this._webWorker.terminate(),this._webWorker=null),(t=g(re,Wa))==null||t.delete(this._port),this._port=null,this._messageHandler&&(this._messageHandler.destroy(),this._messageHandler=null)}static fromPort(t){var n;if(!(t!=null&&t.port))throw new Error("PDFWorker.fromPort - invalid method signature.");const e=(n=g(this,Wa))==null?void 0:n.get(t.port);if(e){if(e._pendingDestroy)throw new Error("PDFWorker.fromPort - the worker is being destroyed.\nPlease remember to await `PDFDocumentLoadingTask.destroy()`-calls.");return e}return new re(t)}static get workerSrc(){if(GlobalWorkerOptions.workerSrc)return GlobalWorkerOptions.workerSrc;throw new Error('No "GlobalWorkerOptions.workerSrc" specified.')}static get _setupFakeWorkerGlobal(){return shadow(this,"_setupFakeWorkerGlobal",(async()=>g(this,Ol,sd)?g(this,Ol,sd):(await import(this.workerSrc)).WorkerMessageHandler)())}};Ld=new WeakMap,Ya=new WeakMap,Wa=new WeakMap,Il=new WeakSet,nd=function(){this._readyCapability.resolve(),this._messageHandler.send("configure",{verbosity:this.verbosity})},Ol=new WeakSet,sd=function(){var t;try{return((t=globalThis.pdfjsWorker)==null?void 0:t.WorkerMessageHandler)||null}catch{return null}},U(re,Ol),U(re,Ld,0),U(re,Ya,!1),U(re,Wa),isNodeJS&&(B(re,Ya,!0),GlobalWorkerOptions.workerSrc||(GlobalWorkerOptions.workerSrc="./pdf.worker.mjs")),re._isSameOrigin=(t,e)=>{let n;try{if(n=new URL(t),!n.origin||n.origin==="null")return!1}catch{return!1}const a=new URL(e,n);return n.origin===a.origin},re._createCDNWrapper=t=>{const e=`await import("${t}");`;return URL.createObjectURL(new Blob([e],{type:"text/javascript"}))};let PDFWorker=re;var Ms,qn,Nl,Bl,$n,Ka,fc;class WorkerTransport{constructor(t,e,n,a,l){U(this,Ka);U(this,Ms,new Map);U(this,qn,new Map);U(this,Nl,new Map);U(this,Bl,new Map);U(this,$n,null);this.messageHandler=t,this.loadingTask=e,this.commonObjs=new PDFObjects,this.fontLoader=new FontLoader({ownerDocument:a.ownerDocument,styleElement:a.styleElement}),this.loadingParams=a.loadingParams,this._params=a,this.canvasFactory=l.canvasFactory,this.filterFactory=l.filterFactory,this.cMapReaderFactory=l.cMapReaderFactory,this.standardFontDataFactory=l.standardFontDataFactory,this.destroyed=!1,this.destroyCapability=null,this._networkStream=n,this._fullReader=null,this._lastProgress=null,this.downloadInfoCapability=Promise.withResolvers(),this.setupMessageHandler()}get annotationStorage(){return shadow(this,"annotationStorage",new AnnotationStorage)}getRenderingIntent(t,e=AnnotationMode.ENABLE,n=null,a=!1,l=!1){let c=RenderingIntentFlag.DISPLAY,f=SerializableEmpty;switch(t){case"any":c=RenderingIntentFlag.ANY;break;case"display":break;case"print":c=RenderingIntentFlag.PRINT;break;default:warn(`getRenderingIntent - invalid intent: ${t}`)}const d=c&RenderingIntentFlag.PRINT&&n instanceof PrintAnnotationStorage?n:this.annotationStorage;switch(e){case AnnotationMode.DISABLE:c+=RenderingIntentFlag.ANNOTATIONS_DISABLE;break;case AnnotationMode.ENABLE:break;case AnnotationMode.ENABLE_FORMS:c+=RenderingIntentFlag.ANNOTATIONS_FORMS;break;case AnnotationMode.ENABLE_STORAGE:c+=RenderingIntentFlag.ANNOTATIONS_STORAGE,f=d.serializable;break;default:warn(`getRenderingIntent - invalid annotationMode: ${e}`)}a&&(c+=RenderingIntentFlag.IS_EDITING),l&&(c+=RenderingIntentFlag.OPLIST);const{ids:m,hash:y}=d.modifiedIds,A=[c,f.hash,y];return{renderingIntent:c,cacheKey:A.join("_"),annotationStorageSerializable:f,modifiedIds:m}}destroy(){var n;if(this.destroyCapability)return this.destroyCapability.promise;this.destroyed=!0,this.destroyCapability=Promise.withResolvers(),(n=g(this,$n))==null||n.reject(new Error("Worker was destroyed during onPassword callback"));const t=[];for(const a of g(this,qn).values())t.push(a._destroy());g(this,qn).clear(),g(this,Nl).clear(),g(this,Bl).clear(),this.hasOwnProperty("annotationStorage")&&this.annotationStorage.resetModified();const e=this.messageHandler.sendWithPromise("Terminate",null);return t.push(e),Promise.all(t).then(()=>{var a;this.commonObjs.clear(),this.fontLoader.clear(),g(this,Ms).clear(),this.filterFactory.destroy(),TextLayer$1.cleanup(),(a=this._networkStream)==null||a.cancelAllRequests(new AbortException("Worker was terminated.")),this.messageHandler&&(this.messageHandler.destroy(),this.messageHandler=null),this.destroyCapability.resolve()},this.destroyCapability.reject),this.destroyCapability.promise}setupMessageHandler(){const{messageHandler:t,loadingTask:e}=this;t.on("GetReader",(n,a)=>{assert(this._networkStream,"GetReader - no `IPDFStream` instance available."),this._fullReader=this._networkStream.getFullReader(),this._fullReader.onProgress=l=>{this._lastProgress={loaded:l.loaded,total:l.total}},a.onPull=()=>{this._fullReader.read().then(function({value:l,done:c}){if(c){a.close();return}assert(l instanceof ArrayBuffer,"GetReader - expected an ArrayBuffer."),a.enqueue(new Uint8Array(l),1,[l])}).catch(l=>{a.error(l)})},a.onCancel=l=>{this._fullReader.cancel(l),a.ready.catch(c=>{if(!this.destroyed)throw c})}}),t.on("ReaderHeadersReady",async n=>{var f;await this._fullReader.headersReady;const{isStreamingSupported:a,isRangeSupported:l,contentLength:c}=this._fullReader;return(!a||!l)&&(this._lastProgress&&((f=e.onProgress)==null||f.call(e,this._lastProgress)),this._fullReader.onProgress=d=>{var m;(m=e.onProgress)==null||m.call(e,{loaded:d.loaded,total:d.total})}),{isStreamingSupported:a,isRangeSupported:l,contentLength:c}}),t.on("GetRangeReader",(n,a)=>{assert(this._networkStream,"GetRangeReader - no `IPDFStream` instance available.");const l=this._networkStream.getRangeReader(n.begin,n.end);if(!l){a.close();return}a.onPull=()=>{l.read().then(function({value:c,done:f}){if(f){a.close();return}assert(c instanceof ArrayBuffer,"GetRangeReader - expected an ArrayBuffer."),a.enqueue(new Uint8Array(c),1,[c])}).catch(c=>{a.error(c)})},a.onCancel=c=>{l.cancel(c),a.ready.catch(f=>{if(!this.destroyed)throw f})}}),t.on("GetDoc",({pdfInfo:n})=>{this._numPages=n.numPages,this._htmlForXfa=n.htmlForXfa,delete n.htmlForXfa,e._capability.resolve(new PDFDocumentProxy(n,this))}),t.on("DocException",function(n){let a;switch(n.name){case"PasswordException":a=new PasswordException(n.message,n.code);break;case"InvalidPDFException":a=new InvalidPDFException(n.message);break;case"MissingPDFException":a=new MissingPDFException(n.message);break;case"UnexpectedResponseException":a=new UnexpectedResponseException(n.message,n.status);break;case"UnknownErrorException":a=new UnknownErrorException(n.message,n.details);break;default:unreachable("DocException - expected a valid Error.")}e._capability.reject(a)}),t.on("PasswordRequest",n=>{if(B(this,$n,Promise.withResolvers()),e.onPassword){const a=l=>{l instanceof Error?g(this,$n).reject(l):g(this,$n).resolve({password:l})};try{e.onPassword(a,n.code)}catch(l){g(this,$n).reject(l)}}else g(this,$n).reject(new PasswordException(n.message,n.code));return g(this,$n).promise}),t.on("DataLoaded",n=>{var a;(a=e.onProgress)==null||a.call(e,{loaded:n.length,total:n.length}),this.downloadInfoCapability.resolve(n)}),t.on("StartRenderPage",n=>{if(this.destroyed)return;g(this,qn).get(n.pageIndex)._startRenderPage(n.transparency,n.cacheKey)}),t.on("commonobj",([n,a,l])=>{var c;if(this.destroyed||this.commonObjs.has(n))return null;switch(a){case"Font":const{disableFontFace:f,fontExtraProperties:d,pdfBug:m}=this._params;if("error"in l){const x=l.error;warn(`Error during font loading: ${x}`),this.commonObjs.resolve(n,x);break}const y=m&&((c=globalThis.FontInspector)!=null&&c.enabled)?(x,E)=>globalThis.FontInspector.fontAdded(x,E):null,A=new FontFaceObject(l,{disableFontFace:f,inspectFont:y});this.fontLoader.bind(A).catch(()=>t.sendWithPromise("FontFallback",{id:n})).finally(()=>{!d&&A.data&&(A.data=null),this.commonObjs.resolve(n,A)});break;case"CopyLocalImage":const{imageRef:b}=l;assert(b,"The imageRef must be defined.");for(const x of g(this,qn).values())for(const[,E]of x.objs)if((E==null?void 0:E.ref)===b)return E.dataLen?(this.commonObjs.resolve(n,structuredClone(E)),E.dataLen):null;break;case"FontPath":case"Image":case"Pattern":this.commonObjs.resolve(n,l);break;default:throw new Error(`Got unknown common object type ${a}`)}return null}),t.on("obj",([n,a,l,c])=>{var d;if(this.destroyed)return;const f=g(this,qn).get(a);if(!f.objs.has(n)){if(f._intentStates.size===0){(d=c==null?void 0:c.bitmap)==null||d.close();return}switch(l){case"Image":f.objs.resolve(n,c),(c==null?void 0:c.dataLen)>MAX_IMAGE_SIZE_TO_CACHE&&(f._maybeCleanupAfterRender=!0);break;case"Pattern":f.objs.resolve(n,c);break;default:throw new Error(`Got unknown object type ${l}`)}}}),t.on("DocProgress",n=>{var a;this.destroyed||(a=e.onProgress)==null||a.call(e,{loaded:n.loaded,total:n.total})}),t.on("FetchBuiltInCMap",async n=>{if(this.destroyed)throw new Error("Worker was destroyed.");if(!this.cMapReaderFactory)throw new Error("CMapReaderFactory not initialized, see the `useWorkerFetch` parameter.");return this.cMapReaderFactory.fetch(n)}),t.on("FetchStandardFontData",async n=>{if(this.destroyed)throw new Error("Worker was destroyed.");if(!this.standardFontDataFactory)throw new Error("StandardFontDataFactory not initialized, see the `useWorkerFetch` parameter.");return this.standardFontDataFactory.fetch(n)})}getData(){return this.messageHandler.sendWithPromise("GetData",null)}saveDocument(){var n;this.annotationStorage.size<=0&&warn("saveDocument called while `annotationStorage` is empty, please use the getData-method instead.");const{map:t,transfer:e}=this.annotationStorage.serializable;return this.messageHandler.sendWithPromise("SaveDocument",{isPureXfa:!!this._htmlForXfa,numPages:this._numPages,annotationStorage:t,filename:((n=this._fullReader)==null?void 0:n.filename)??null},e).finally(()=>{this.annotationStorage.resetModified()})}getPage(t){if(!Number.isInteger(t)||t<=0||t>this._numPages)return Promise.reject(new Error("Invalid page request."));const e=t-1,n=g(this,Nl).get(e);if(n)return n;const a=this.messageHandler.sendWithPromise("GetPage",{pageIndex:e}).then(l=>{if(this.destroyed)throw new Error("Transport destroyed");l.refStr&&g(this,Bl).set(l.refStr,t);const c=new PDFPageProxy(e,l,this,this._params.pdfBug);return g(this,qn).set(e,c),c});return g(this,Nl).set(e,a),a}getPageIndex(t){return isRefProxy(t)?this.messageHandler.sendWithPromise("GetPageIndex",{num:t.num,gen:t.gen}):Promise.reject(new Error("Invalid pageIndex request."))}getAnnotations(t,e){return this.messageHandler.sendWithPromise("GetAnnotations",{pageIndex:t,intent:e})}getFieldObjects(){return z(this,Ka,fc).call(this,"GetFieldObjects")}hasJSActions(){return z(this,Ka,fc).call(this,"HasJSActions")}getCalculationOrderIds(){return this.messageHandler.sendWithPromise("GetCalculationOrderIds",null)}getDestinations(){return this.messageHandler.sendWithPromise("GetDestinations",null)}getDestination(t){return typeof t!="string"?Promise.reject(new Error("Invalid destination request.")):this.messageHandler.sendWithPromise("GetDestination",{id:t})}getPageLabels(){return this.messageHandler.sendWithPromise("GetPageLabels",null)}getPageLayout(){return this.messageHandler.sendWithPromise("GetPageLayout",null)}getPageMode(){return this.messageHandler.sendWithPromise("GetPageMode",null)}getViewerPreferences(){return this.messageHandler.sendWithPromise("GetViewerPreferences",null)}getOpenAction(){return this.messageHandler.sendWithPromise("GetOpenAction",null)}getAttachments(){return this.messageHandler.sendWithPromise("GetAttachments",null)}getDocJSActions(){return z(this,Ka,fc).call(this,"GetDocJSActions")}getPageJSActions(t){return this.messageHandler.sendWithPromise("GetPageJSActions",{pageIndex:t})}getStructTree(t){return this.messageHandler.sendWithPromise("GetStructTree",{pageIndex:t})}getOutline(){return this.messageHandler.sendWithPromise("GetOutline",null)}getOptionalContentConfig(t){return z(this,Ka,fc).call(this,"GetOptionalContentConfig").then(e=>new OptionalContentConfig(e,t))}getPermissions(){return this.messageHandler.sendWithPromise("GetPermissions",null)}getMetadata(){const t="GetMetadata",e=g(this,Ms).get(t);if(e)return e;const n=this.messageHandler.sendWithPromise(t,null).then(a=>{var l,c;return{info:a[0],metadata:a[1]?new Metadata(a[1]):null,contentDispositionFilename:((l=this._fullReader)==null?void 0:l.filename)??null,contentLength:((c=this._fullReader)==null?void 0:c.contentLength)??null}});return g(this,Ms).set(t,n),n}getMarkInfo(){return this.messageHandler.sendWithPromise("GetMarkInfo",null)}async startCleanup(t=!1){if(!this.destroyed){await this.messageHandler.sendWithPromise("Cleanup",null);for(const e of g(this,qn).values())if(!e.cleanup())throw new Error(`startCleanup: Page ${e.pageNumber} is currently rendering.`);this.commonObjs.clear(),t||this.fontLoader.clear(),g(this,Ms).clear(),this.filterFactory.destroy(!0),TextLayer$1.cleanup()}}cachedPageNumber(t){if(!isRefProxy(t))return null;const e=t.gen===0?`${t.num}R`:`${t.num}R${t.gen}`;return g(this,Bl).get(e)??null}}Ms=new WeakMap,qn=new WeakMap,Nl=new WeakMap,Bl=new WeakMap,$n=new WeakMap,Ka=new WeakSet,fc=function(t,e=null){const n=g(this,Ms).get(t);if(n)return n;const a=this.messageHandler.sendWithPromise(t,e);return g(this,Ms).set(t,a),a};const INITIAL_DATA=Symbol("INITIAL_DATA");var An,nu,y0;class PDFObjects{constructor(){U(this,nu);U(this,An,Object.create(null))}get(t,e=null){if(e){const a=z(this,nu,y0).call(this,t);return a.promise.then(()=>e(a.data)),null}const n=g(this,An)[t];if(!n||n.data===INITIAL_DATA)throw new Error(`Requesting object that isn't resolved yet ${t}.`);return n.data}has(t){const e=g(this,An)[t];return!!e&&e.data!==INITIAL_DATA}resolve(t,e=null){const n=z(this,nu,y0).call(this,t);n.data=e,n.resolve()}clear(){var t;for(const e in g(this,An)){const{data:n}=g(this,An)[e];(t=n==null?void 0:n.bitmap)==null||t.close()}B(this,An,Object.create(null))}*[Symbol.iterator](){for(const t in g(this,An)){const{data:e}=g(this,An)[t];e!==INITIAL_DATA&&(yield[t,e])}}}An=new WeakMap,nu=new WeakSet,y0=function(t){var e;return(e=g(this,An))[t]||(e[t]={...Promise.withResolvers(),data:INITIAL_DATA})};var Or;class RenderTask{constructor(t){U(this,Or,null);B(this,Or,t),this.onContinue=null}get promise(){return g(this,Or).capability.promise}cancel(t=0){g(this,Or).cancel(null,t)}get separateAnnots(){const{separateAnnots:t}=g(this,Or).operatorList;if(!t)return!1;const{annotationCanvasMap:e}=g(this,Or);return t.form||t.canvas&&(e==null?void 0:e.size)>0}}Or=new WeakMap;var Nr,Qa;const Ea=class Ea{constructor({callback:t,params:e,objs:n,commonObjs:a,annotationCanvasMap:l,operatorList:c,pageIndex:f,canvasFactory:d,filterFactory:m,useRequestAnimationFrame:y=!1,pdfBug:A=!1,pageColors:b=null}){U(this,Nr,null);this.callback=t,this.params=e,this.objs=n,this.commonObjs=a,this.annotationCanvasMap=l,this.operatorListIdx=null,this.operatorList=c,this._pageIndex=f,this.canvasFactory=d,this.filterFactory=m,this._pdfBug=A,this.pageColors=b,this.running=!1,this.graphicsReadyCallback=null,this.graphicsReady=!1,this._useRequestAnimationFrame=y===!0&&typeof window<"u",this.cancelled=!1,this.capability=Promise.withResolvers(),this.task=new RenderTask(this),this._cancelBound=this.cancel.bind(this),this._continueBound=this._continue.bind(this),this._scheduleNextBound=this._scheduleNext.bind(this),this._nextBound=this._next.bind(this),this._canvas=e.canvasContext.canvas}get completed(){return this.capability.promise.catch(function(){})}initializeGraphics({transparency:t=!1,optionalContentConfig:e}){var f,d;if(this.cancelled)return;if(this._canvas){if(g(Ea,Qa).has(this._canvas))throw new Error("Cannot use the same canvas during multiple render() operations. Use different canvas or ensure previous operations were cancelled or completed.");g(Ea,Qa).add(this._canvas)}this._pdfBug&&((f=globalThis.StepperManager)!=null&&f.enabled)&&(this.stepper=globalThis.StepperManager.create(this._pageIndex),this.stepper.init(this.operatorList),this.stepper.nextBreakPoint=this.stepper.getNextBreakPoint());const{canvasContext:n,viewport:a,transform:l,background:c}=this.params;this.gfx=new CanvasGraphics(n,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:e},this.annotationCanvasMap,this.pageColors),this.gfx.beginDrawing({transform:l,viewport:a,transparency:t,background:c}),this.operatorListIdx=0,this.graphicsReady=!0,(d=this.graphicsReadyCallback)==null||d.call(this)}cancel(t=null,e=0){var n;this.running=!1,this.cancelled=!0,(n=this.gfx)==null||n.endDrawing(),g(this,Nr)&&(window.cancelAnimationFrame(g(this,Nr)),B(this,Nr,null)),g(Ea,Qa).delete(this._canvas),this.callback(t||new RenderingCancelledException(`Rendering cancelled, page ${this._pageIndex+1}`,e))}operatorListChanged(){var t;if(!this.graphicsReady){this.graphicsReadyCallback||(this.graphicsReadyCallback=this._continueBound);return}(t=this.stepper)==null||t.updateOperatorList(this.operatorList),!this.running&&this._continue()}_continue(){this.running=!0,!this.cancelled&&(this.task.onContinue?this.task.onContinue(this._scheduleNextBound):this._scheduleNext())}_scheduleNext(){this._useRequestAnimationFrame?B(this,Nr,window.requestAnimationFrame(()=>{B(this,Nr,null),this._nextBound().catch(this._cancelBound)})):Promise.resolve().then(this._nextBound).catch(this._cancelBound)}async _next(){this.cancelled||(this.operatorListIdx=this.gfx.executeOperatorList(this.operatorList,this.operatorListIdx,this._continueBound,this.stepper),this.operatorListIdx===this.operatorList.argsArray.length&&(this.running=!1,this.operatorList.lastChunk&&(this.gfx.endDrawing(),g(Ea,Qa).delete(this._canvas),this.callback())))}};Nr=new WeakMap,Qa=new WeakMap,U(Ea,Qa,new WeakSet);let InternalRenderTask=Ea;const version="4.8.69",build="3634dab10";function makeColorComp(i){return Math.floor(Math.max(0,Math.min(1,i))*255).toString(16).padStart(2,"0")}function scaleAndClamp(i){return Math.max(0,Math.min(255,255*i))}class ColorConverters{static CMYK_G([t,e,n,a]){return["G",1-Math.min(1,.3*t+.59*n+.11*e+a)]}static G_CMYK([t]){return["CMYK",0,0,0,1-t]}static G_RGB([t]){return["RGB",t,t,t]}static G_rgb([t]){return t=scaleAndClamp(t),[t,t,t]}static G_HTML([t]){const e=makeColorComp(t);return`#${e}${e}${e}`}static RGB_G([t,e,n]){return["G",.3*t+.59*e+.11*n]}static RGB_rgb(t){return t.map(scaleAndClamp)}static RGB_HTML(t){return`#${t.map(makeColorComp).join("")}`}static T_HTML(){return"#00000000"}static T_rgb(){return[null]}static CMYK_RGB([t,e,n,a]){return["RGB",1-Math.min(1,t+a),1-Math.min(1,n+a),1-Math.min(1,e+a)]}static CMYK_rgb([t,e,n,a]){return[scaleAndClamp(1-Math.min(1,t+a)),scaleAndClamp(1-Math.min(1,n+a)),scaleAndClamp(1-Math.min(1,e+a))]}static CMYK_HTML(t){const e=this.CMYK_RGB(t).slice(1);return this.RGB_HTML(e)}static RGB_CMYK([t,e,n]){const a=1-t,l=1-e,c=1-n,f=Math.min(a,l,c);return["CMYK",a,l,c,f]}}class BaseSVGFactory{create(t,e,n=!1){if(t<=0||e<=0)throw new Error("Invalid SVG dimensions");const a=this._createSVG("svg:svg");return a.setAttribute("version","1.1"),n||(a.setAttribute("width",`${t}px`),a.setAttribute("height",`${e}px`)),a.setAttribute("preserveAspectRatio","none"),a.setAttribute("viewBox",`0 0 ${t} ${e}`),a}createElement(t){if(typeof t!="string")throw new Error("Invalid SVG element type");return this._createSVG(t)}_createSVG(t){unreachable("Abstract method `_createSVG` called.")}}class DOMSVGFactory extends BaseSVGFactory{_createSVG(t){return document.createElementNS(SVG_NS,t)}}class XfaLayer{static setupStorage(t,e,n,a,l){const c=a.getValue(e,{value:null});switch(n.name){case"textarea":if(c.value!==null&&(t.textContent=c.value),l==="print")break;t.addEventListener("input",f=>{a.setValue(e,{value:f.target.value})});break;case"input":if(n.attributes.type==="radio"||n.attributes.type==="checkbox"){if(c.value===n.attributes.xfaOn?t.setAttribute("checked",!0):c.value===n.attributes.xfaOff&&t.removeAttribute("checked"),l==="print")break;t.addEventListener("change",f=>{a.setValue(e,{value:f.target.checked?f.target.getAttribute("xfaOn"):f.target.getAttribute("xfaOff")})})}else{if(c.value!==null&&t.setAttribute("value",c.value),l==="print")break;t.addEventListener("input",f=>{a.setValue(e,{value:f.target.value})})}break;case"select":if(c.value!==null){t.setAttribute("value",c.value);for(const f of n.children)f.attributes.value===c.value?f.attributes.selected=!0:f.attributes.hasOwnProperty("selected")&&delete f.attributes.selected}t.addEventListener("input",f=>{const d=f.target.options,m=d.selectedIndex===-1?"":d[d.selectedIndex].value;a.setValue(e,{value:m})});break}}static setAttributes({html:t,element:e,storage:n=null,intent:a,linkService:l}){const{attributes:c}=e,f=t instanceof HTMLAnchorElement;c.type==="radio"&&(c.name=`${c.name}-${a}`);for(const[d,m]of Object.entries(c))if(m!=null)switch(d){case"class":m.length&&t.setAttribute(d,m.join(" "));break;case"dataId":break;case"id":t.setAttribute("data-element-id",m);break;case"style":Object.assign(t.style,m);break;case"textContent":t.textContent=m;break;default:(!f||d!=="href"&&d!=="newWindow")&&t.setAttribute(d,m)}f&&l.addLinkAttributes(t,c.href,c.newWindow),n&&c.dataId&&this.setupStorage(t,c.dataId,e,n)}static render(t){var A,b;const e=t.annotationStorage,n=t.linkService,a=t.xfaHtml,l=t.intent||"display",c=document.createElement(a.name);a.attributes&&this.setAttributes({html:c,element:a,intent:l,linkService:n});const f=l!=="richText",d=t.div;if(d.append(c),t.viewport){const x=`matrix(${t.viewport.transform.join(",")})`;d.style.transform=x}f&&d.setAttribute("class","xfaLayer xfaFont");const m=[];if(a.children.length===0){if(a.value){const x=document.createTextNode(a.value);c.append(x),f&&XfaText.shouldBuildText(a.name)&&m.push(x)}return{textDivs:m}}const y=[[a,-1,c]];for(;y.length>0;){const[x,E,T]=y.at(-1);if(E+1===x.children.length){y.pop();continue}const k=x.children[++y.at(-1)[1]];if(k===null)continue;const{name:S}=k;if(S==="#text"){const P=document.createTextNode(k.value);m.push(P),T.append(P);continue}const M=(A=k==null?void 0:k.attributes)!=null&&A.xmlns?document.createElementNS(k.attributes.xmlns,S):document.createElement(S);if(T.append(M),k.attributes&&this.setAttributes({html:M,element:k,storage:e,intent:l,linkService:n}),((b=k.children)==null?void 0:b.length)>0)y.push([k,-1,M]);else if(k.value){const P=document.createTextNode(k.value);f&&XfaText.shouldBuildText(S)&&m.push(P),M.append(P)}}for(const x of d.querySelectorAll(".xfaNonInteractive input, .xfaNonInteractive textarea"))x.setAttribute("readOnly",!0);return{textDivs:m}}static update(t){const e=`matrix(${t.viewport.transform.join(",")})`;t.div.style.transform=e,t.div.hidden=!1}}const DEFAULT_TAB_INDEX=1e3,annotation_layer_DEFAULT_FONT_SIZE=9,GetElementsByNameSet=new WeakSet;function getRectDims(i){return{width:i[2]-i[0],height:i[3]-i[1]}}class AnnotationElementFactory{static create(t){switch(t.data.annotationType){case AnnotationType.LINK:return new LinkAnnotationElement(t);case AnnotationType.TEXT:return new TextAnnotationElement(t);case AnnotationType.WIDGET:switch(t.data.fieldType){case"Tx":return new TextWidgetAnnotationElement(t);case"Btn":return t.data.radioButton?new RadioButtonWidgetAnnotationElement(t):t.data.checkBox?new CheckboxWidgetAnnotationElement(t):new PushButtonWidgetAnnotationElement(t);case"Ch":return new ChoiceWidgetAnnotationElement(t);case"Sig":return new SignatureWidgetAnnotationElement(t)}return new WidgetAnnotationElement(t);case AnnotationType.POPUP:return new PopupAnnotationElement(t);case AnnotationType.FREETEXT:return new FreeTextAnnotationElement(t);case AnnotationType.LINE:return new LineAnnotationElement(t);case AnnotationType.SQUARE:return new SquareAnnotationElement(t);case AnnotationType.CIRCLE:return new CircleAnnotationElement(t);case AnnotationType.POLYLINE:return new PolylineAnnotationElement(t);case AnnotationType.CARET:return new CaretAnnotationElement(t);case AnnotationType.INK:return new InkAnnotationElement(t);case AnnotationType.POLYGON:return new PolygonAnnotationElement(t);case AnnotationType.HIGHLIGHT:return new HighlightAnnotationElement(t);case AnnotationType.UNDERLINE:return new UnderlineAnnotationElement(t);case AnnotationType.SQUIGGLY:return new SquigglyAnnotationElement(t);case AnnotationType.STRIKEOUT:return new StrikeOutAnnotationElement(t);case AnnotationType.STAMP:return new StampAnnotationElement(t);case AnnotationType.FILEATTACHMENT:return new FileAttachmentAnnotationElement(t);default:return new AnnotationElement(t)}}}var Za,Vl,zl,su,v0;const X0=class X0{constructor(t,{isRenderable:e=!1,ignoreBorder:n=!1,createQuadrilaterals:a=!1}={}){U(this,su);U(this,Za,null);U(this,Vl,!1);U(this,zl,null);this.isRenderable=e,this.data=t.data,this.layer=t.layer,this.linkService=t.linkService,this.downloadManager=t.downloadManager,this.imageResourcesPath=t.imageResourcesPath,this.renderForms=t.renderForms,this.svgFactory=t.svgFactory,this.annotationStorage=t.annotationStorage,this.enableScripting=t.enableScripting,this.hasJSActions=t.hasJSActions,this._fieldObjects=t.fieldObjects,this.parent=t.parent,e&&(this.container=this._createContainer(n)),a&&this._createQuadrilaterals()}static _hasPopupData({titleObj:t,contentsObj:e,richText:n}){return!!(t!=null&&t.str||e!=null&&e.str||n!=null&&n.str)}get _isEditable(){return this.data.isEditable}get hasPopupData(){return X0._hasPopupData(this.data)}updateEdited(t){var n;if(!this.container)return;g(this,Za)||B(this,Za,{rect:this.data.rect.slice(0)});const{rect:e}=t;e&&z(this,su,v0).call(this,e),(n=g(this,zl))==null||n.popup.updateEdited(t)}resetEdited(){var t;g(this,Za)&&(z(this,su,v0).call(this,g(this,Za).rect),(t=g(this,zl))==null||t.popup.resetEdited(),B(this,Za,null))}_createContainer(t){const{data:e,parent:{page:n,viewport:a}}=this,l=document.createElement("section");l.setAttribute("data-annotation-id",e.id),this instanceof WidgetAnnotationElement||(l.tabIndex=DEFAULT_TAB_INDEX);const{style:c}=l;if(c.zIndex=this.parent.zIndex++,e.alternativeText&&(l.title=e.alternativeText),e.noRotate&&l.classList.add("norotate"),!e.rect||this instanceof PopupAnnotationElement){const{rotation:T}=e;return!e.hasOwnCanvas&&T!==0&&this.setRotation(T,l),l}const{width:f,height:d}=getRectDims(e.rect);if(!t&&e.borderStyle.width>0){c.borderWidth=`${e.borderStyle.width}px`;const T=e.borderStyle.horizontalCornerRadius,k=e.borderStyle.verticalCornerRadius;if(T>0||k>0){const M=`calc(${T}px * var(--scale-factor)) / calc(${k}px * var(--scale-factor))`;c.borderRadius=M}else if(this instanceof RadioButtonWidgetAnnotationElement){const M=`calc(${f}px * var(--scale-factor)) / calc(${d}px * var(--scale-factor))`;c.borderRadius=M}switch(e.borderStyle.style){case AnnotationBorderStyleType.SOLID:c.borderStyle="solid";break;case AnnotationBorderStyleType.DASHED:c.borderStyle="dashed";break;case AnnotationBorderStyleType.BEVELED:warn("Unimplemented border style: beveled");break;case AnnotationBorderStyleType.INSET:warn("Unimplemented border style: inset");break;case AnnotationBorderStyleType.UNDERLINE:c.borderBottomStyle="solid";break}const S=e.borderColor||null;S?(B(this,Vl,!0),c.borderColor=Util.makeHexColor(S[0]|0,S[1]|0,S[2]|0)):c.borderWidth=0}const m=Util.normalizeRect([e.rect[0],n.view[3]-e.rect[1]+n.view[1],e.rect[2],n.view[3]-e.rect[3]+n.view[1]]),{pageWidth:y,pageHeight:A,pageX:b,pageY:x}=a.rawDims;c.left=`${100*(m[0]-b)/y}%`,c.top=`${100*(m[1]-x)/A}%`;const{rotation:E}=e;return e.hasOwnCanvas||E===0?(c.width=`${100*f/y}%`,c.height=`${100*d/A}%`):this.setRotation(E,l),l}setRotation(t,e=this.container){if(!this.data.rect)return;const{pageWidth:n,pageHeight:a}=this.parent.viewport.rawDims,{width:l,height:c}=getRectDims(this.data.rect);let f,d;t%180===0?(f=100*l/n,d=100*c/a):(f=100*c/n,d=100*l/a),e.style.width=`${f}%`,e.style.height=`${d}%`,e.setAttribute("data-main-rotation",(360-t)%360)}get _commonActions(){const t=(e,n,a)=>{const l=a.detail[e],c=l[0],f=l.slice(1);a.target.style[n]=ColorConverters[`${c}_HTML`](f),this.annotationStorage.setValue(this.data.id,{[n]:ColorConverters[`${c}_rgb`](f)})};return shadow(this,"_commonActions",{display:e=>{const{display:n}=e.detail,a=n%2===1;this.container.style.visibility=a?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{noView:a,noPrint:n===1||n===2})},print:e=>{this.annotationStorage.setValue(this.data.id,{noPrint:!e.detail.print})},hidden:e=>{const{hidden:n}=e.detail;this.container.style.visibility=n?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{noPrint:n,noView:n})},focus:e=>{setTimeout(()=>e.target.focus({preventScroll:!1}),0)},userName:e=>{e.target.title=e.detail.userName},readonly:e=>{e.target.disabled=e.detail.readonly},required:e=>{this._setRequired(e.target,e.detail.required)},bgColor:e=>{t("bgColor","backgroundColor",e)},fillColor:e=>{t("fillColor","backgroundColor",e)},fgColor:e=>{t("fgColor","color",e)},textColor:e=>{t("textColor","color",e)},borderColor:e=>{t("borderColor","borderColor",e)},strokeColor:e=>{t("strokeColor","borderColor",e)},rotation:e=>{const n=e.detail.rotation;this.setRotation(n),this.annotationStorage.setValue(this.data.id,{rotation:n})}})}_dispatchEventFromSandbox(t,e){const n=this._commonActions;for(const a of Object.keys(e.detail)){const l=t[a]||n[a];l==null||l(e)}}_setDefaultPropertiesFromJS(t){if(!this.enableScripting)return;const e=this.annotationStorage.getRawValue(this.data.id);if(!e)return;const n=this._commonActions;for(const[a,l]of Object.entries(e)){const c=n[a];if(c){const f={detail:{[a]:l},target:t};c(f),delete e[a]}}}_createQuadrilaterals(){if(!this.container)return;const{quadPoints:t}=this.data;if(!t)return;const[e,n,a,l]=this.data.rect.map(T=>Math.fround(T));if(t.length===8){const[T,k,S,M]=t.subarray(2,6);if(a===T&&l===k&&e===S&&n===M)return}const{style:c}=this.container;let f;if(g(this,Vl)){const{borderColor:T,borderWidth:k}=c;c.borderWidth=0,f=["url('data:image/svg+xml;utf8,",'<svg xmlns="http://www.w3.org/2000/svg"',' preserveAspectRatio="none" viewBox="0 0 1 1">',`<g fill="transparent" stroke="${T}" stroke-width="${k}">`],this.container.classList.add("hasBorder")}const d=a-e,m=l-n,{svgFactory:y}=this,A=y.createElement("svg");A.classList.add("quadrilateralsContainer"),A.setAttribute("width",0),A.setAttribute("height",0);const b=y.createElement("defs");A.append(b);const x=y.createElement("clipPath"),E=`clippath_${this.data.id}`;x.setAttribute("id",E),x.setAttribute("clipPathUnits","objectBoundingBox"),b.append(x);for(let T=2,k=t.length;T<k;T+=8){const S=t[T],M=t[T+1],P=t[T+2],R=t[T+3],D=y.createElement("rect"),L=(P-e)/d,G=(l-M)/m,q=(S-P)/d,X=(M-R)/m;D.setAttribute("x",L),D.setAttribute("y",G),D.setAttribute("width",q),D.setAttribute("height",X),x.append(D),f==null||f.push(`<rect vector-effect="non-scaling-stroke" x="${L}" y="${G}" width="${q}" height="${X}"/>`)}g(this,Vl)&&(f.push("</g></svg>')"),c.backgroundImage=f.join("")),this.container.append(A),this.container.style.clipPath=`url(#${E})`}_createPopup(){const{data:t}=this,e=B(this,zl,new PopupAnnotationElement({data:{color:t.color,titleObj:t.titleObj,modificationDate:t.modificationDate,contentsObj:t.contentsObj,richText:t.richText,parentRect:t.rect,borderStyle:0,id:`popup_${t.id}`,rotation:t.rotation},parent:this.parent,elements:[this]}));this.parent.div.append(e.render())}render(){unreachable("Abstract method `AnnotationElement.render` called")}_getElementsByName(t,e=null){const n=[];if(this._fieldObjects){const a=this._fieldObjects[t];if(a)for(const{page:l,id:c,exportValues:f}of a){if(l===-1||c===e)continue;const d=typeof f=="string"?f:null,m=document.querySelector(`[data-element-id="${c}"]`);if(m&&!GetElementsByNameSet.has(m)){warn(`_getElementsByName - element not allowed: ${c}`);continue}n.push({id:c,exportValue:d,domElement:m})}return n}for(const a of document.getElementsByName(t)){const{exportValue:l}=a,c=a.getAttribute("data-element-id");c!==e&&GetElementsByNameSet.has(a)&&n.push({id:c,exportValue:l,domElement:a})}return n}show(){var t;this.container&&(this.container.hidden=!1),(t=this.popup)==null||t.maybeShow()}hide(){var t;this.container&&(this.container.hidden=!0),(t=this.popup)==null||t.forceHide()}getElementsToTriggerPopup(){return this.container}addHighlightArea(){const t=this.getElementsToTriggerPopup();if(Array.isArray(t))for(const e of t)e.classList.add("highlightArea");else t.classList.add("highlightArea")}_editOnDoubleClick(){if(!this._isEditable)return;const{annotationEditorType:t,data:{id:e}}=this;this.container.addEventListener("dblclick",()=>{var n;(n=this.linkService.eventBus)==null||n.dispatch("switchannotationeditormode",{source:this,mode:t,editId:e})})}};Za=new WeakMap,Vl=new WeakMap,zl=new WeakMap,su=new WeakSet,v0=function(t){const{container:{style:e},data:{rect:n,rotation:a},parent:{viewport:{rawDims:{pageWidth:l,pageHeight:c,pageX:f,pageY:d}}}}=this;n==null||n.splice(0,4,...t);const{width:m,height:y}=getRectDims(t);e.left=`${100*(t[0]-f)/l}%`,e.top=`${100*(c-t[3]+d)/c}%`,a===0?(e.width=`${100*m/l}%`,e.height=`${100*y/c}%`):this.setRotation(a)};let AnnotationElement=X0;var Ni,ya,ub,fb;class LinkAnnotationElement extends AnnotationElement{constructor(e,n=null){super(e,{isRenderable:!0,ignoreBorder:!!(n!=null&&n.ignoreBorder),createQuadrilaterals:!0});U(this,Ni);this.isTooltipOnly=e.data.isTooltipOnly}render(){const{data:e,linkService:n}=this,a=document.createElement("a");a.setAttribute("data-element-id",e.id);let l=!1;return e.url?(n.addLinkAttributes(a,e.url,e.newWindow),l=!0):e.action?(this._bindNamedAction(a,e.action),l=!0):e.attachment?(z(this,Ni,ub).call(this,a,e.attachment,e.attachmentDest),l=!0):e.setOCGState?(z(this,Ni,fb).call(this,a,e.setOCGState),l=!0):e.dest?(this._bindLink(a,e.dest),l=!0):(e.actions&&(e.actions.Action||e.actions["Mouse Up"]||e.actions["Mouse Down"])&&this.enableScripting&&this.hasJSActions&&(this._bindJSAction(a,e),l=!0),e.resetForm?(this._bindResetFormAction(a,e.resetForm),l=!0):this.isTooltipOnly&&!l&&(this._bindLink(a,""),l=!0)),this.container.classList.add("linkAnnotation"),l&&this.container.append(a),this.container}_bindLink(e,n){e.href=this.linkService.getDestinationHash(n),e.onclick=()=>(n&&this.linkService.goToDestination(n),!1),(n||n==="")&&z(this,Ni,ya).call(this)}_bindNamedAction(e,n){e.href=this.linkService.getAnchorUrl(""),e.onclick=()=>(this.linkService.executeNamedAction(n),!1),z(this,Ni,ya).call(this)}_bindJSAction(e,n){e.href=this.linkService.getAnchorUrl("");const a=new Map([["Action","onclick"],["Mouse Up","onmouseup"],["Mouse Down","onmousedown"]]);for(const l of Object.keys(n.actions)){const c=a.get(l);c&&(e[c]=()=>{var f;return(f=this.linkService.eventBus)==null||f.dispatch("dispatcheventinsandbox",{source:this,detail:{id:n.id,name:l}}),!1})}e.onclick||(e.onclick=()=>!1),z(this,Ni,ya).call(this)}_bindResetFormAction(e,n){const a=e.onclick;if(a||(e.href=this.linkService.getAnchorUrl("")),z(this,Ni,ya).call(this),!this._fieldObjects){warn('_bindResetFormAction - "resetForm" action not supported, ensure that the `fieldObjects` parameter is provided.'),a||(e.onclick=()=>!1);return}e.onclick=()=>{var A;a==null||a();const{fields:l,refs:c,include:f}=n,d=[];if(l.length!==0||c.length!==0){const b=new Set(c);for(const x of l){const E=this._fieldObjects[x]||[];for(const{id:T}of E)b.add(T)}for(const x of Object.values(this._fieldObjects))for(const E of x)b.has(E.id)===f&&d.push(E)}else for(const b of Object.values(this._fieldObjects))d.push(...b);const m=this.annotationStorage,y=[];for(const b of d){const{id:x}=b;switch(y.push(x),b.type){case"text":{const T=b.defaultValue||"";m.setValue(x,{value:T});break}case"checkbox":case"radiobutton":{const T=b.defaultValue===b.exportValues;m.setValue(x,{value:T});break}case"combobox":case"listbox":{const T=b.defaultValue||"";m.setValue(x,{value:T});break}default:continue}const E=document.querySelector(`[data-element-id="${x}"]`);if(E){if(!GetElementsByNameSet.has(E)){warn(`_bindResetFormAction - element not allowed: ${x}`);continue}}else continue;E.dispatchEvent(new Event("resetform"))}return this.enableScripting&&((A=this.linkService.eventBus)==null||A.dispatch("dispatcheventinsandbox",{source:this,detail:{id:"app",ids:y,name:"ResetForm"}})),!1}}}Ni=new WeakSet,ya=function(){this.container.setAttribute("data-internal-link","")},ub=function(e,n,a=null){e.href=this.linkService.getAnchorUrl(""),n.description&&(e.title=n.description),e.onclick=()=>{var l;return(l=this.downloadManager)==null||l.openOrDownloadData(n.content,n.filename,a),!1},z(this,Ni,ya).call(this)},fb=function(e,n){e.href=this.linkService.getAnchorUrl(""),e.onclick=()=>(this.linkService.executeSetOCGState(n),!1),z(this,Ni,ya).call(this)};class TextAnnotationElement extends AnnotationElement{constructor(t){super(t,{isRenderable:!0})}render(){this.container.classList.add("textAnnotation");const t=document.createElement("img");return t.src=this.imageResourcesPath+"annotation-"+this.data.name.toLowerCase()+".svg",t.setAttribute("data-l10n-id","pdfjs-text-annotation-type"),t.setAttribute("data-l10n-args",JSON.stringify({type:this.data.name})),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.append(t),this.container}}class WidgetAnnotationElement extends AnnotationElement{render(){return this.container}showElementAndHideCanvas(t){var e;this.data.hasOwnCanvas&&(((e=t.previousSibling)==null?void 0:e.nodeName)==="CANVAS"&&(t.previousSibling.hidden=!0),t.hidden=!1)}_getKeyModifier(t){return util_FeatureTest.platform.isMac?t.metaKey:t.ctrlKey}_setEventListener(t,e,n,a,l){n.includes("mouse")?t.addEventListener(n,c=>{var f;(f=this.linkService.eventBus)==null||f.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:a,value:l(c),shift:c.shiftKey,modifier:this._getKeyModifier(c)}})}):t.addEventListener(n,c=>{var f;if(n==="blur"){if(!e.focused||!c.relatedTarget)return;e.focused=!1}else if(n==="focus"){if(e.focused)return;e.focused=!0}l&&((f=this.linkService.eventBus)==null||f.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:a,value:l(c)}}))})}_setEventListeners(t,e,n,a){var l,c,f;for(const[d,m]of n)(m==="Action"||(l=this.data.actions)!=null&&l[m])&&((m==="Focus"||m==="Blur")&&(e||(e={focused:!1})),this._setEventListener(t,e,d,m,a),m==="Focus"&&!((c=this.data.actions)!=null&&c.Blur)?this._setEventListener(t,e,"blur","Blur",null):m==="Blur"&&!((f=this.data.actions)!=null&&f.Focus)&&this._setEventListener(t,e,"focus","Focus",null))}_setBackgroundColor(t){const e=this.data.backgroundColor||null;t.style.backgroundColor=e===null?"transparent":Util.makeHexColor(e[0],e[1],e[2])}_setTextStyle(t){const e=["left","center","right"],{fontColor:n}=this.data.defaultAppearanceData,a=this.data.defaultAppearanceData.fontSize||annotation_layer_DEFAULT_FONT_SIZE,l=t.style;let c;const f=2,d=m=>Math.round(10*m)/10;if(this.data.multiLine){const m=Math.abs(this.data.rect[3]-this.data.rect[1]-f),y=Math.round(m/(LINE_FACTOR*a))||1,A=m/y;c=Math.min(a,d(A/LINE_FACTOR))}else{const m=Math.abs(this.data.rect[3]-this.data.rect[1]-f);c=Math.min(a,d(m/LINE_FACTOR))}l.fontSize=`calc(${c}px * var(--scale-factor))`,l.color=Util.makeHexColor(n[0],n[1],n[2]),this.data.textAlignment!==null&&(l.textAlign=e[this.data.textAlignment])}_setRequired(t,e){e?t.setAttribute("required",!0):t.removeAttribute("required"),t.setAttribute("aria-required",e)}}class TextWidgetAnnotationElement extends WidgetAnnotationElement{constructor(t){const e=t.renderForms||t.data.hasOwnCanvas||!t.data.hasAppearance&&!!t.data.fieldValue;super(t,{isRenderable:e})}setPropertyOnSiblings(t,e,n,a){const l=this.annotationStorage;for(const c of this._getElementsByName(t.name,t.id))c.domElement&&(c.domElement[e]=n),l.setValue(c.id,{[a]:n})}render(){var a,l;const t=this.annotationStorage,e=this.data.id;this.container.classList.add("textWidgetAnnotation");let n=null;if(this.renderForms){const c=t.getValue(e,{value:this.data.fieldValue});let f=c.value||"";const d=t.getValue(e,{charLimit:this.data.maxLen}).charLimit;d&&f.length>d&&(f=f.slice(0,d));let m=c.formattedValue||((a=this.data.textContent)==null?void 0:a.join(`
`))||null;m&&this.data.comb&&(m=m.replaceAll(/\s+/g,""));const y={userValue:f,formattedValue:m,lastCommittedValue:null,commitKey:1,focused:!1};this.data.multiLine?(n=document.createElement("textarea"),n.textContent=m??f,this.data.doNotScroll&&(n.style.overflowY="hidden")):(n=document.createElement("input"),n.type="text",n.setAttribute("value",m??f),this.data.doNotScroll&&(n.style.overflowX="hidden")),this.data.hasOwnCanvas&&(n.hidden=!0),GetElementsByNameSet.add(n),n.setAttribute("data-element-id",e),n.disabled=this.data.readOnly,n.name=this.data.fieldName,n.tabIndex=DEFAULT_TAB_INDEX,this._setRequired(n,this.data.required),d&&(n.maxLength=d),n.addEventListener("input",b=>{t.setValue(e,{value:b.target.value}),this.setPropertyOnSiblings(n,"value",b.target.value,"value"),y.formattedValue=null}),n.addEventListener("resetform",b=>{const x=this.data.defaultFieldValue??"";n.value=y.userValue=x,y.formattedValue=null});let A=b=>{const{formattedValue:x}=y;x!=null&&(b.target.value=x),b.target.scrollLeft=0};if(this.enableScripting&&this.hasJSActions){n.addEventListener("focus",x=>{var T;if(y.focused)return;const{target:E}=x;y.userValue&&(E.value=y.userValue),y.lastCommittedValue=E.value,y.commitKey=1,(T=this.data.actions)!=null&&T.Focus||(y.focused=!0)}),n.addEventListener("updatefromsandbox",x=>{this.showElementAndHideCanvas(x.target);const E={value(T){y.userValue=T.detail.value??"",t.setValue(e,{value:y.userValue.toString()}),T.target.value=y.userValue},formattedValue(T){const{formattedValue:k}=T.detail;y.formattedValue=k,k!=null&&T.target!==document.activeElement&&(T.target.value=k),t.setValue(e,{formattedValue:k})},selRange(T){T.target.setSelectionRange(...T.detail.selRange)},charLimit:T=>{var P;const{charLimit:k}=T.detail,{target:S}=T;if(k===0){S.removeAttribute("maxLength");return}S.setAttribute("maxLength",k);let M=y.userValue;!M||M.length<=k||(M=M.slice(0,k),S.value=y.userValue=M,t.setValue(e,{value:M}),(P=this.linkService.eventBus)==null||P.dispatch("dispatcheventinsandbox",{source:this,detail:{id:e,name:"Keystroke",value:M,willCommit:!0,commitKey:1,selStart:S.selectionStart,selEnd:S.selectionEnd}}))}};this._dispatchEventFromSandbox(E,x)}),n.addEventListener("keydown",x=>{var k;y.commitKey=1;let E=-1;if(x.key==="Escape"?E=0:x.key==="Enter"&&!this.data.multiLine?E=2:x.key==="Tab"&&(y.commitKey=3),E===-1)return;const{value:T}=x.target;y.lastCommittedValue!==T&&(y.lastCommittedValue=T,y.userValue=T,(k=this.linkService.eventBus)==null||k.dispatch("dispatcheventinsandbox",{source:this,detail:{id:e,name:"Keystroke",value:T,willCommit:!0,commitKey:E,selStart:x.target.selectionStart,selEnd:x.target.selectionEnd}}))});const b=A;A=null,n.addEventListener("blur",x=>{var T,k;if(!y.focused||!x.relatedTarget)return;(T=this.data.actions)!=null&&T.Blur||(y.focused=!1);const{value:E}=x.target;y.userValue=E,y.lastCommittedValue!==E&&((k=this.linkService.eventBus)==null||k.dispatch("dispatcheventinsandbox",{source:this,detail:{id:e,name:"Keystroke",value:E,willCommit:!0,commitKey:y.commitKey,selStart:x.target.selectionStart,selEnd:x.target.selectionEnd}})),b(x)}),(l=this.data.actions)!=null&&l.Keystroke&&n.addEventListener("beforeinput",x=>{var D;y.lastCommittedValue=null;const{data:E,target:T}=x,{value:k,selectionStart:S,selectionEnd:M}=T;let P=S,R=M;switch(x.inputType){case"deleteWordBackward":{const L=k.substring(0,S).match(/\w*[^\w]*$/);L&&(P-=L[0].length);break}case"deleteWordForward":{const L=k.substring(S).match(/^[^\w]*\w*/);L&&(R+=L[0].length);break}case"deleteContentBackward":S===M&&(P-=1);break;case"deleteContentForward":S===M&&(R+=1);break}x.preventDefault(),(D=this.linkService.eventBus)==null||D.dispatch("dispatcheventinsandbox",{source:this,detail:{id:e,name:"Keystroke",value:k,change:E||"",willCommit:!1,selStart:P,selEnd:R}})}),this._setEventListeners(n,y,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],x=>x.target.value)}if(A&&n.addEventListener("blur",A),this.data.comb){const x=(this.data.rect[2]-this.data.rect[0])/d;n.classList.add("comb"),n.style.letterSpacing=`calc(${x}px * var(--scale-factor) - 1ch)`}}else n=document.createElement("div"),n.textContent=this.data.fieldValue,n.style.verticalAlign="middle",n.style.display="table-cell",this.data.hasOwnCanvas&&(n.hidden=!0);return this._setTextStyle(n),this._setBackgroundColor(n),this._setDefaultPropertiesFromJS(n),this.container.append(n),this.container}}class SignatureWidgetAnnotationElement extends WidgetAnnotationElement{constructor(t){super(t,{isRenderable:!!t.data.hasOwnCanvas})}}class CheckboxWidgetAnnotationElement extends WidgetAnnotationElement{constructor(t){super(t,{isRenderable:t.renderForms})}render(){const t=this.annotationStorage,e=this.data,n=e.id;let a=t.getValue(n,{value:e.exportValue===e.fieldValue}).value;typeof a=="string"&&(a=a!=="Off",t.setValue(n,{value:a})),this.container.classList.add("buttonWidgetAnnotation","checkBox");const l=document.createElement("input");return GetElementsByNameSet.add(l),l.setAttribute("data-element-id",n),l.disabled=e.readOnly,this._setRequired(l,this.data.required),l.type="checkbox",l.name=e.fieldName,a&&l.setAttribute("checked",!0),l.setAttribute("exportValue",e.exportValue),l.tabIndex=DEFAULT_TAB_INDEX,l.addEventListener("change",c=>{const{name:f,checked:d}=c.target;for(const m of this._getElementsByName(f,n)){const y=d&&m.exportValue===e.exportValue;m.domElement&&(m.domElement.checked=y),t.setValue(m.id,{value:y})}t.setValue(n,{value:d})}),l.addEventListener("resetform",c=>{const f=e.defaultFieldValue||"Off";c.target.checked=f===e.exportValue}),this.enableScripting&&this.hasJSActions&&(l.addEventListener("updatefromsandbox",c=>{const f={value(d){d.target.checked=d.detail.value!=="Off",t.setValue(n,{value:d.target.checked})}};this._dispatchEventFromSandbox(f,c)}),this._setEventListeners(l,null,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],c=>c.target.checked)),this._setBackgroundColor(l),this._setDefaultPropertiesFromJS(l),this.container.append(l),this.container}}class RadioButtonWidgetAnnotationElement extends WidgetAnnotationElement{constructor(t){super(t,{isRenderable:t.renderForms})}render(){this.container.classList.add("buttonWidgetAnnotation","radioButton");const t=this.annotationStorage,e=this.data,n=e.id;let a=t.getValue(n,{value:e.fieldValue===e.buttonValue}).value;if(typeof a=="string"&&(a=a!==e.buttonValue,t.setValue(n,{value:a})),a)for(const c of this._getElementsByName(e.fieldName,n))t.setValue(c.id,{value:!1});const l=document.createElement("input");if(GetElementsByNameSet.add(l),l.setAttribute("data-element-id",n),l.disabled=e.readOnly,this._setRequired(l,this.data.required),l.type="radio",l.name=e.fieldName,a&&l.setAttribute("checked",!0),l.tabIndex=DEFAULT_TAB_INDEX,l.addEventListener("change",c=>{const{name:f,checked:d}=c.target;for(const m of this._getElementsByName(f,n))t.setValue(m.id,{value:!1});t.setValue(n,{value:d})}),l.addEventListener("resetform",c=>{const f=e.defaultFieldValue;c.target.checked=f!=null&&f===e.buttonValue}),this.enableScripting&&this.hasJSActions){const c=e.buttonValue;l.addEventListener("updatefromsandbox",f=>{const d={value:m=>{const y=c===m.detail.value;for(const A of this._getElementsByName(m.target.name)){const b=y&&A.id===n;A.domElement&&(A.domElement.checked=b),t.setValue(A.id,{value:b})}}};this._dispatchEventFromSandbox(d,f)}),this._setEventListeners(l,null,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],f=>f.target.checked)}return this._setBackgroundColor(l),this._setDefaultPropertiesFromJS(l),this.container.append(l),this.container}}class PushButtonWidgetAnnotationElement extends LinkAnnotationElement{constructor(t){super(t,{ignoreBorder:t.data.hasAppearance})}render(){const t=super.render();t.classList.add("buttonWidgetAnnotation","pushButton");const e=t.lastChild;return this.enableScripting&&this.hasJSActions&&e&&(this._setDefaultPropertiesFromJS(e),e.addEventListener("updatefromsandbox",n=>{this._dispatchEventFromSandbox({},n)})),t}}class ChoiceWidgetAnnotationElement extends WidgetAnnotationElement{constructor(t){super(t,{isRenderable:t.renderForms})}render(){this.container.classList.add("choiceWidgetAnnotation");const t=this.annotationStorage,e=this.data.id,n=t.getValue(e,{value:this.data.fieldValue}),a=document.createElement("select");GetElementsByNameSet.add(a),a.setAttribute("data-element-id",e),a.disabled=this.data.readOnly,this._setRequired(a,this.data.required),a.name=this.data.fieldName,a.tabIndex=DEFAULT_TAB_INDEX;let l=this.data.combo&&this.data.options.length>0;this.data.combo||(a.size=this.data.options.length,this.data.multiSelect&&(a.multiple=!0)),a.addEventListener("resetform",y=>{const A=this.data.defaultFieldValue;for(const b of a.options)b.selected=b.value===A});for(const y of this.data.options){const A=document.createElement("option");A.textContent=y.displayValue,A.value=y.exportValue,n.value.includes(y.exportValue)&&(A.setAttribute("selected",!0),l=!1),a.append(A)}let c=null;if(l){const y=document.createElement("option");y.value=" ",y.setAttribute("hidden",!0),y.setAttribute("selected",!0),a.prepend(y),c=()=>{y.remove(),a.removeEventListener("input",c),c=null},a.addEventListener("input",c)}const f=y=>{const A=y?"value":"textContent",{options:b,multiple:x}=a;return x?Array.prototype.filter.call(b,E=>E.selected).map(E=>E[A]):b.selectedIndex===-1?null:b[b.selectedIndex][A]};let d=f(!1);const m=y=>{const A=y.target.options;return Array.prototype.map.call(A,b=>({displayValue:b.textContent,exportValue:b.value}))};return this.enableScripting&&this.hasJSActions?(a.addEventListener("updatefromsandbox",y=>{const A={value(b){c==null||c();const x=b.detail.value,E=new Set(Array.isArray(x)?x:[x]);for(const T of a.options)T.selected=E.has(T.value);t.setValue(e,{value:f(!0)}),d=f(!1)},multipleSelection(b){a.multiple=!0},remove(b){const x=a.options,E=b.detail.remove;x[E].selected=!1,a.remove(E),x.length>0&&Array.prototype.findIndex.call(x,k=>k.selected)===-1&&(x[0].selected=!0),t.setValue(e,{value:f(!0),items:m(b)}),d=f(!1)},clear(b){for(;a.length!==0;)a.remove(0);t.setValue(e,{value:null,items:[]}),d=f(!1)},insert(b){const{index:x,displayValue:E,exportValue:T}=b.detail.insert,k=a.children[x],S=document.createElement("option");S.textContent=E,S.value=T,k?k.before(S):a.append(S),t.setValue(e,{value:f(!0),items:m(b)}),d=f(!1)},items(b){const{items:x}=b.detail;for(;a.length!==0;)a.remove(0);for(const E of x){const{displayValue:T,exportValue:k}=E,S=document.createElement("option");S.textContent=T,S.value=k,a.append(S)}a.options.length>0&&(a.options[0].selected=!0),t.setValue(e,{value:f(!0),items:m(b)}),d=f(!1)},indices(b){const x=new Set(b.detail.indices);for(const E of b.target.options)E.selected=x.has(E.index);t.setValue(e,{value:f(!0)}),d=f(!1)},editable(b){b.target.disabled=!b.detail.editable}};this._dispatchEventFromSandbox(A,y)}),a.addEventListener("input",y=>{var x;const A=f(!0),b=f(!1);t.setValue(e,{value:A}),y.preventDefault(),(x=this.linkService.eventBus)==null||x.dispatch("dispatcheventinsandbox",{source:this,detail:{id:e,name:"Keystroke",value:d,change:b,changeEx:A,willCommit:!1,commitKey:1,keyDown:!1}})}),this._setEventListeners(a,null,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"],["input","Action"],["input","Validate"]],y=>y.target.value)):a.addEventListener("input",function(y){t.setValue(e,{value:f(!0)})}),this.data.combo&&this._setTextStyle(a),this._setBackgroundColor(a),this._setDefaultPropertiesFromJS(a),this.container.append(a),this.container}}class PopupAnnotationElement extends AnnotationElement{constructor(t){const{data:e,elements:n}=t;super(t,{isRenderable:AnnotationElement._hasPopupData(e)}),this.elements=n,this.popup=null}render(){this.container.classList.add("popupAnnotation");const t=this.popup=new PopupElement({container:this.container,color:this.data.color,titleObj:this.data.titleObj,modificationDate:this.data.modificationDate,contentsObj:this.data.contentsObj,richText:this.data.richText,rect:this.data.rect,parentRect:this.data.parentRect||null,parent:this.parent,elements:this.elements,open:this.data.open}),e=[];for(const n of this.elements)n.popup=t,n.container.ariaHasPopup="dialog",e.push(n.data.id),n.addHighlightArea();return this.container.setAttribute("aria-controls",e.map(n=>`${AnnotationPrefix}${n}`).join(",")),this.container}}var Hl,Id,Od,Gl,Ja,me,Rs,Ul,ru,au,jl,ks,En,Fs,ou,Ds,lu,eo,io,Zt,rd,b0,db,pb,mb,gb,ad,od,_0;class PopupElement{constructor({container:t,color:e,elements:n,titleObj:a,modificationDate:l,contentsObj:c,richText:f,parent:d,rect:m,parentRect:y,open:A}){U(this,Zt);U(this,Hl,z(this,Zt,mb).bind(this));U(this,Id,z(this,Zt,_0).bind(this));U(this,Od,z(this,Zt,od).bind(this));U(this,Gl,z(this,Zt,ad).bind(this));U(this,Ja,null);U(this,me,null);U(this,Rs,null);U(this,Ul,null);U(this,ru,null);U(this,au,null);U(this,jl,null);U(this,ks,!1);U(this,En,null);U(this,Fs,null);U(this,ou,null);U(this,Ds,null);U(this,lu,null);U(this,eo,null);U(this,io,!1);var b;B(this,me,t),B(this,lu,a),B(this,Rs,c),B(this,Ds,f),B(this,au,d),B(this,Ja,e),B(this,ou,m),B(this,jl,y),B(this,ru,n),B(this,Ul,PDFDateString.toDateObject(l)),this.trigger=n.flatMap(x=>x.getElementsToTriggerPopup());for(const x of this.trigger)x.addEventListener("click",g(this,Gl)),x.addEventListener("mouseenter",g(this,Od)),x.addEventListener("mouseleave",g(this,Id)),x.classList.add("popupTriggerArea");for(const x of n)(b=x.container)==null||b.addEventListener("keydown",g(this,Hl));g(this,me).hidden=!0,A&&z(this,Zt,ad).call(this)}render(){if(g(this,En))return;const t=B(this,En,document.createElement("div"));if(t.className="popup",g(this,Ja)){const l=t.style.outlineColor=Util.makeHexColor(...g(this,Ja));CSS.supports("background-color","color-mix(in srgb, red 30%, white)")?t.style.backgroundColor=`color-mix(in srgb, ${l} 30%, white)`:t.style.backgroundColor=Util.makeHexColor(...g(this,Ja).map(f=>Math.floor(.7*(255-f)+f)))}const e=document.createElement("span");e.className="header";const n=document.createElement("h1");if(e.append(n),{dir:n.dir,str:n.textContent}=g(this,lu),t.append(e),g(this,Ul)){const l=document.createElement("span");l.classList.add("popupDate"),l.setAttribute("data-l10n-id","pdfjs-annotation-date-time-string"),l.setAttribute("data-l10n-args",JSON.stringify({dateObj:g(this,Ul).valueOf()})),e.append(l)}const a=g(this,Zt,rd);if(a)XfaLayer.render({xfaHtml:a,intent:"richText",div:t}),t.lastChild.classList.add("richText","popupContent");else{const l=this._formatContents(g(this,Rs));t.append(l)}g(this,me).append(t)}_formatContents({str:t,dir:e}){const n=document.createElement("p");n.classList.add("popupContent"),n.dir=e;const a=t.split(/(?:\r\n?|\n)/);for(let l=0,c=a.length;l<c;++l){const f=a[l];n.append(document.createTextNode(f)),l<c-1&&n.append(document.createElement("br"))}return n}updateEdited({rect:t,popupContent:e}){var n;g(this,eo)||B(this,eo,{contentsObj:g(this,Rs),richText:g(this,Ds)}),t&&B(this,Fs,null),e&&(B(this,Ds,z(this,Zt,pb).call(this,e)),B(this,Rs,null)),(n=g(this,En))==null||n.remove(),B(this,En,null)}resetEdited(){var t;g(this,eo)&&({contentsObj:li(this,Rs)._,richText:li(this,Ds)._}=g(this,eo),B(this,eo,null),(t=g(this,En))==null||t.remove(),B(this,En,null),B(this,Fs,null))}forceHide(){B(this,io,this.isVisible),g(this,io)&&(g(this,me).hidden=!0)}maybeShow(){g(this,io)&&(g(this,En)||z(this,Zt,od).call(this),B(this,io,!1),g(this,me).hidden=!1)}get isVisible(){return g(this,me).hidden===!1}}Hl=new WeakMap,Id=new WeakMap,Od=new WeakMap,Gl=new WeakMap,Ja=new WeakMap,me=new WeakMap,Rs=new WeakMap,Ul=new WeakMap,ru=new WeakMap,au=new WeakMap,jl=new WeakMap,ks=new WeakMap,En=new WeakMap,Fs=new WeakMap,ou=new WeakMap,Ds=new WeakMap,lu=new WeakMap,eo=new WeakMap,io=new WeakMap,Zt=new WeakSet,rd=function(){const t=g(this,Ds),e=g(this,Rs);return t!=null&&t.str&&(!(e!=null&&e.str)||e.str===t.str)&&g(this,Ds).html||null},b0=function(){var t,e,n;return((n=(e=(t=g(this,Zt,rd))==null?void 0:t.attributes)==null?void 0:e.style)==null?void 0:n.fontSize)||0},db=function(){var t,e,n;return((n=(e=(t=g(this,Zt,rd))==null?void 0:t.attributes)==null?void 0:e.style)==null?void 0:n.color)||null},pb=function(t){const e=[],n={str:t,html:{name:"div",attributes:{dir:"auto"},children:[{name:"p",children:e}]}},a={style:{color:g(this,Zt,db),fontSize:g(this,Zt,b0)?`calc(${g(this,Zt,b0)}px * var(--scale-factor))`:""}};for(const l of t.split(`
`))e.push({name:"span",value:l,attributes:a});return n},mb=function(t){t.altKey||t.shiftKey||t.ctrlKey||t.metaKey||(t.key==="Enter"||t.key==="Escape"&&g(this,ks))&&z(this,Zt,ad).call(this)},gb=function(){if(g(this,Fs)!==null)return;const{page:{view:t},viewport:{rawDims:{pageWidth:e,pageHeight:n,pageX:a,pageY:l}}}=g(this,au);let c=!!g(this,jl),f=c?g(this,jl):g(this,ou);for(const E of g(this,ru))if(!f||Util.intersect(E.data.rect,f)!==null){f=E.data.rect,c=!0;break}const d=Util.normalizeRect([f[0],t[3]-f[1]+t[1],f[2],t[3]-f[3]+t[1]]),y=c?f[2]-f[0]+5:0,A=d[0]+y,b=d[1];B(this,Fs,[100*(A-a)/e,100*(b-l)/n]);const{style:x}=g(this,me);x.left=`${g(this,Fs)[0]}%`,x.top=`${g(this,Fs)[1]}%`},ad=function(){B(this,ks,!g(this,ks)),g(this,ks)?(z(this,Zt,od).call(this),g(this,me).addEventListener("click",g(this,Gl)),g(this,me).addEventListener("keydown",g(this,Hl))):(z(this,Zt,_0).call(this),g(this,me).removeEventListener("click",g(this,Gl)),g(this,me).removeEventListener("keydown",g(this,Hl)))},od=function(){g(this,En)||this.render(),this.isVisible?g(this,ks)&&g(this,me).classList.add("focused"):(z(this,Zt,gb).call(this),g(this,me).hidden=!1,g(this,me).style.zIndex=parseInt(g(this,me).style.zIndex)+1e3)},_0=function(){g(this,me).classList.remove("focused"),!(g(this,ks)||!this.isVisible)&&(g(this,me).hidden=!0,g(this,me).style.zIndex=parseInt(g(this,me).style.zIndex)-1e3)};class FreeTextAnnotationElement extends AnnotationElement{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0}),this.textContent=t.data.textContent,this.textPosition=t.data.textPosition,this.annotationEditorType=AnnotationEditorType.FREETEXT}render(){if(this.container.classList.add("freeTextAnnotation"),this.textContent){const t=document.createElement("div");t.classList.add("annotationTextContent"),t.setAttribute("role","comment");for(const e of this.textContent){const n=document.createElement("span");n.textContent=e,t.append(n)}this.container.append(t)}return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this._editOnDoubleClick(),this.container}}var hu;class LineAnnotationElement extends AnnotationElement{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0});U(this,hu,null)}render(){this.container.classList.add("lineAnnotation");const e=this.data,{width:n,height:a}=getRectDims(e.rect),l=this.svgFactory.create(n,a,!0),c=B(this,hu,this.svgFactory.createElement("svg:line"));return c.setAttribute("x1",e.rect[2]-e.lineCoordinates[0]),c.setAttribute("y1",e.rect[3]-e.lineCoordinates[1]),c.setAttribute("x2",e.rect[2]-e.lineCoordinates[2]),c.setAttribute("y2",e.rect[3]-e.lineCoordinates[3]),c.setAttribute("stroke-width",e.borderStyle.width||1),c.setAttribute("stroke","transparent"),c.setAttribute("fill","transparent"),l.append(c),this.container.append(l),!e.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return g(this,hu)}addHighlightArea(){this.container.classList.add("highlightArea")}}hu=new WeakMap;var cu;class SquareAnnotationElement extends AnnotationElement{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0});U(this,cu,null)}render(){this.container.classList.add("squareAnnotation");const e=this.data,{width:n,height:a}=getRectDims(e.rect),l=this.svgFactory.create(n,a,!0),c=e.borderStyle.width,f=B(this,cu,this.svgFactory.createElement("svg:rect"));return f.setAttribute("x",c/2),f.setAttribute("y",c/2),f.setAttribute("width",n-c),f.setAttribute("height",a-c),f.setAttribute("stroke-width",c||1),f.setAttribute("stroke","transparent"),f.setAttribute("fill","transparent"),l.append(f),this.container.append(l),!e.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return g(this,cu)}addHighlightArea(){this.container.classList.add("highlightArea")}}cu=new WeakMap;var uu;class CircleAnnotationElement extends AnnotationElement{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0});U(this,uu,null)}render(){this.container.classList.add("circleAnnotation");const e=this.data,{width:n,height:a}=getRectDims(e.rect),l=this.svgFactory.create(n,a,!0),c=e.borderStyle.width,f=B(this,uu,this.svgFactory.createElement("svg:ellipse"));return f.setAttribute("cx",n/2),f.setAttribute("cy",a/2),f.setAttribute("rx",n/2-c/2),f.setAttribute("ry",a/2-c/2),f.setAttribute("stroke-width",c||1),f.setAttribute("stroke","transparent"),f.setAttribute("fill","transparent"),l.append(f),this.container.append(l),!e.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return g(this,uu)}addHighlightArea(){this.container.classList.add("highlightArea")}}uu=new WeakMap;var fu;class PolylineAnnotationElement extends AnnotationElement{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0});U(this,fu,null);this.containerClassName="polylineAnnotation",this.svgElementName="svg:polyline"}render(){this.container.classList.add(this.containerClassName);const{data:{rect:e,vertices:n,borderStyle:a,popupRef:l}}=this;if(!n)return this.container;const{width:c,height:f}=getRectDims(e),d=this.svgFactory.create(c,f,!0);let m=[];for(let A=0,b=n.length;A<b;A+=2){const x=n[A]-e[0],E=e[3]-n[A+1];m.push(`${x},${E}`)}m=m.join(" ");const y=B(this,fu,this.svgFactory.createElement(this.svgElementName));return y.setAttribute("points",m),y.setAttribute("stroke-width",a.width||1),y.setAttribute("stroke","transparent"),y.setAttribute("fill","transparent"),d.append(y),this.container.append(d),!l&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return g(this,fu)}addHighlightArea(){this.container.classList.add("highlightArea")}}fu=new WeakMap;class PolygonAnnotationElement extends PolylineAnnotationElement{constructor(t){super(t),this.containerClassName="polygonAnnotation",this.svgElementName="svg:polygon"}}class CaretAnnotationElement extends AnnotationElement{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0})}render(){return this.container.classList.add("caretAnnotation"),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container}}var du;class InkAnnotationElement extends AnnotationElement{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0});U(this,du,[]);this.containerClassName="inkAnnotation",this.svgElementName="svg:polyline",this.annotationEditorType=this.data.it==="InkHighlight"?AnnotationEditorType.HIGHLIGHT:AnnotationEditorType.INK}render(){this.container.classList.add(this.containerClassName);const{data:{rect:e,inkLists:n,borderStyle:a,popupRef:l}}=this,{width:c,height:f}=getRectDims(e),d=this.svgFactory.create(c,f,!0);for(const m of n){let y=[];for(let b=0,x=m.length;b<x;b+=2){const E=m[b]-e[0],T=e[3]-m[b+1];y.push(`${E},${T}`)}y=y.join(" ");const A=this.svgFactory.createElement(this.svgElementName);g(this,du).push(A),A.setAttribute("points",y),A.setAttribute("stroke-width",a.width||1),A.setAttribute("stroke","transparent"),A.setAttribute("fill","transparent"),d.append(A)}return!l&&this.hasPopupData&&this._createPopup(),this.container.append(d),this._editOnDoubleClick(),this.container}getElementsToTriggerPopup(){return g(this,du)}addHighlightArea(){this.container.classList.add("highlightArea")}}du=new WeakMap;class HighlightAnnotationElement extends AnnotationElement{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0}),this.annotationEditorType=AnnotationEditorType.HIGHLIGHT}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("highlightAnnotation"),this._editOnDoubleClick(),this.container}}class UnderlineAnnotationElement extends AnnotationElement{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("underlineAnnotation"),this.container}}class SquigglyAnnotationElement extends AnnotationElement{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("squigglyAnnotation"),this.container}}class StrikeOutAnnotationElement extends AnnotationElement{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("strikeoutAnnotation"),this.container}}class StampAnnotationElement extends AnnotationElement{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0}),this.annotationEditorType=AnnotationEditorType.STAMP}render(){return this.container.classList.add("stampAnnotation"),this.container.setAttribute("role","img"),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this._editOnDoubleClick(),this.container}}var pu,mu,A0;class FileAttachmentAnnotationElement extends AnnotationElement{constructor(e){var a;super(e,{isRenderable:!0});U(this,mu);U(this,pu,null);const{file:n}=this.data;this.filename=n.filename,this.content=n.content,(a=this.linkService.eventBus)==null||a.dispatch("fileattachmentannotation",{source:this,...n})}render(){this.container.classList.add("fileAttachmentAnnotation");const{container:e,data:n}=this;let a;n.hasAppearance||n.fillAlpha===0?a=document.createElement("div"):(a=document.createElement("img"),a.src=`${this.imageResourcesPath}annotation-${/paperclip/i.test(n.name)?"paperclip":"pushpin"}.svg`,n.fillAlpha&&n.fillAlpha<1&&(a.style=`filter: opacity(${Math.round(n.fillAlpha*100)}%);`)),a.addEventListener("dblclick",z(this,mu,A0).bind(this)),B(this,pu,a);const{isMac:l}=util_FeatureTest.platform;return e.addEventListener("keydown",c=>{c.key==="Enter"&&(l?c.metaKey:c.ctrlKey)&&z(this,mu,A0).call(this)}),!n.popupRef&&this.hasPopupData?this._createPopup():a.classList.add("popupTriggerArea"),e.append(a),e}getElementsToTriggerPopup(){return g(this,pu)}addHighlightArea(){this.container.classList.add("highlightArea")}}pu=new WeakMap,mu=new WeakSet,A0=function(){var e;(e=this.downloadManager)==null||e.openOrDownloadData(this.content,this.filename)};var gu,no,so,yu,Ao,yb,E0,R1;let AnnotationLayer$1=(R1=class{constructor({div:t,accessibilityManager:e,annotationCanvasMap:n,annotationEditorUIManager:a,page:l,viewport:c,structTreeLayer:f}){U(this,Ao);U(this,gu,null);U(this,no,null);U(this,so,new Map);U(this,yu,null);this.div=t,B(this,gu,e),B(this,no,n),B(this,yu,f||null),this.page=l,this.viewport=c,this.zIndex=0,this._annotationEditorUIManager=a}hasEditableAnnotations(){return g(this,so).size>0}async render(t){var c;const{annotations:e}=t,n=this.div;setLayerDimensions(n,this.viewport);const a=new Map,l={data:null,layer:n,linkService:t.linkService,downloadManager:t.downloadManager,imageResourcesPath:t.imageResourcesPath||"",renderForms:t.renderForms!==!1,svgFactory:new DOMSVGFactory,annotationStorage:t.annotationStorage||new AnnotationStorage,enableScripting:t.enableScripting===!0,hasJSActions:t.hasJSActions,fieldObjects:t.fieldObjects,parent:this,elements:null};for(const f of e){if(f.noHTML)continue;const d=f.annotationType===AnnotationType.POPUP;if(d){const A=a.get(f.id);if(!A)continue;l.elements=A}else{const{width:A,height:b}=getRectDims(f.rect);if(A<=0||b<=0)continue}l.data=f;const m=AnnotationElementFactory.create(l);if(!m.isRenderable)continue;if(!d&&f.popupRef){const A=a.get(f.popupRef);A?A.push(m):a.set(f.popupRef,[m])}const y=m.render();f.hidden&&(y.style.visibility="hidden"),await z(this,Ao,yb).call(this,y,f.id),m._isEditable&&(g(this,so).set(m.data.id,m),(c=this._annotationEditorUIManager)==null||c.renderAnnotationElement(m))}z(this,Ao,E0).call(this)}update({viewport:t}){const e=this.div;this.viewport=t,setLayerDimensions(e,{rotation:t.rotation}),z(this,Ao,E0).call(this),e.hidden=!1}getEditableAnnotations(){return Array.from(g(this,so).values())}getEditableAnnotation(t){return g(this,so).get(t)}},gu=new WeakMap,no=new WeakMap,so=new WeakMap,yu=new WeakMap,Ao=new WeakSet,yb=async function(t,e){var c,f;const n=t.firstChild||t,a=n.id=`${AnnotationPrefix}${e}`,l=await((c=g(this,yu))==null?void 0:c.getAriaAttributes(a));if(l)for(const[d,m]of l)n.setAttribute(d,m);this.div.append(t),(f=g(this,gu))==null||f.moveElementInDOM(this.div,t,n,!1)},E0=function(){if(!g(this,no))return;const t=this.div;for(const[e,n]of g(this,no)){const a=t.querySelector(`[data-annotation-id="${e}"]`);if(!a)continue;n.className="annotationContent";const{firstChild:l}=a;l?l.nodeName==="CANVAS"?l.replaceWith(n):l.classList.contains("annotationContent")?l.after(n):l.before(n):a.append(n)}g(this,no).clear()},R1);const EOL_PATTERN=/\r\n?|\n/g;var xn,ki,vu,ro,Fi,Te,vb,bb,_b,ld,qs,hd,cd,Ab,x0,Eb;const ie=class ie extends AnnotationEditor{constructor(e){super({...e,name:"freeTextEditor"});U(this,Te);U(this,xn);U(this,ki,"");U(this,vu,`${this.id}-editor`);U(this,ro,null);U(this,Fi);B(this,xn,e.color||ie._defaultColor||AnnotationEditor._defaultLineColor),B(this,Fi,e.fontSize||ie._defaultFontSize)}static get _keyboardManager(){const e=ie.prototype,n=c=>c.isEmpty(),a=AnnotationEditorUIManager.TRANSLATE_SMALL,l=AnnotationEditorUIManager.TRANSLATE_BIG;return shadow(this,"_keyboardManager",new KeyboardManager([[["ctrl+s","mac+meta+s","ctrl+p","mac+meta+p"],e.commitOrRemove,{bubbles:!0}],[["ctrl+Enter","mac+meta+Enter","Escape","mac+Escape"],e.commitOrRemove],[["ArrowLeft","mac+ArrowLeft"],e._translateEmpty,{args:[-a,0],checker:n}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],e._translateEmpty,{args:[-l,0],checker:n}],[["ArrowRight","mac+ArrowRight"],e._translateEmpty,{args:[a,0],checker:n}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],e._translateEmpty,{args:[l,0],checker:n}],[["ArrowUp","mac+ArrowUp"],e._translateEmpty,{args:[0,-a],checker:n}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],e._translateEmpty,{args:[0,-l],checker:n}],[["ArrowDown","mac+ArrowDown"],e._translateEmpty,{args:[0,a],checker:n}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],e._translateEmpty,{args:[0,l],checker:n}]]))}static initialize(e,n){AnnotationEditor.initialize(e,n);const a=getComputedStyle(document.documentElement);this._internalPadding=parseFloat(a.getPropertyValue("--freetext-padding"))}static updateDefaultParams(e,n){switch(e){case AnnotationEditorParamsType.FREETEXT_SIZE:ie._defaultFontSize=n;break;case AnnotationEditorParamsType.FREETEXT_COLOR:ie._defaultColor=n;break}}updateParams(e,n){switch(e){case AnnotationEditorParamsType.FREETEXT_SIZE:z(this,Te,vb).call(this,n);break;case AnnotationEditorParamsType.FREETEXT_COLOR:z(this,Te,bb).call(this,n);break}}static get defaultPropertiesToUpdate(){return[[AnnotationEditorParamsType.FREETEXT_SIZE,ie._defaultFontSize],[AnnotationEditorParamsType.FREETEXT_COLOR,ie._defaultColor||AnnotationEditor._defaultLineColor]]}get propertiesToUpdate(){return[[AnnotationEditorParamsType.FREETEXT_SIZE,g(this,Fi)],[AnnotationEditorParamsType.FREETEXT_COLOR,g(this,xn)]]}_translateEmpty(e,n){this._uiManager.translateSelectedEditors(e,n,!0)}getInitialTranslation(){const e=this.parentScale;return[-ie._internalPadding*e,-(ie._internalPadding+g(this,Fi))*e]}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(this.isAttachedToDOM||this.parent.add(this)))}enableEditMode(){if(this.isInEditMode())return;this.parent.setEditingState(!1),this.parent.updateToolbar(AnnotationEditorType.FREETEXT),super.enableEditMode(),this.overlayDiv.classList.remove("enabled"),this.editorDiv.contentEditable=!0,this._isDraggable=!1,this.div.removeAttribute("aria-activedescendant"),B(this,ro,new AbortController);const e=this._uiManager.combinedSignal(g(this,ro));this.editorDiv.addEventListener("keydown",this.editorDivKeydown.bind(this),{signal:e}),this.editorDiv.addEventListener("focus",this.editorDivFocus.bind(this),{signal:e}),this.editorDiv.addEventListener("blur",this.editorDivBlur.bind(this),{signal:e}),this.editorDiv.addEventListener("input",this.editorDivInput.bind(this),{signal:e}),this.editorDiv.addEventListener("paste",this.editorDivPaste.bind(this),{signal:e})}disableEditMode(){var e;this.isInEditMode()&&(this.parent.setEditingState(!0),super.disableEditMode(),this.overlayDiv.classList.add("enabled"),this.editorDiv.contentEditable=!1,this.div.setAttribute("aria-activedescendant",g(this,vu)),this._isDraggable=!0,(e=g(this,ro))==null||e.abort(),B(this,ro,null),this.div.focus({preventScroll:!0}),this.isEditing=!1,this.parent.div.classList.add("freetextEditing"))}focusin(e){this._focusEventsAllowed&&(super.focusin(e),e.target!==this.editorDiv&&this.editorDiv.focus())}onceAdded(){var e;this.width||(this.enableEditMode(),this.editorDiv.focus(),(e=this._initialOptions)!=null&&e.isCentered&&this.center(),this._initialOptions=null)}isEmpty(){return!this.editorDiv||this.editorDiv.innerText.trim()===""}remove(){this.isEditing=!1,this.parent&&(this.parent.setEditingState(!0),this.parent.div.classList.add("freetextEditing")),super.remove()}commit(){if(!this.isInEditMode())return;super.commit(),this.disableEditMode();const e=g(this,ki),n=B(this,ki,z(this,Te,_b).call(this).trimEnd());if(e===n)return;const a=l=>{if(B(this,ki,l),!l){this.remove();return}z(this,Te,cd).call(this),this._uiManager.rebuild(this),z(this,Te,ld).call(this)};this.addCommands({cmd:()=>{a(n)},undo:()=>{a(e)},mustExec:!1}),z(this,Te,ld).call(this)}shouldGetKeyboardEvents(){return this.isInEditMode()}enterInEditMode(){this.enableEditMode(),this.editorDiv.focus()}dblclick(e){this.enterInEditMode()}keydown(e){e.target===this.div&&e.key==="Enter"&&(this.enterInEditMode(),e.preventDefault())}editorDivKeydown(e){ie._keyboardManager.exec(this,e)}editorDivFocus(e){this.isEditing=!0}editorDivBlur(e){this.isEditing=!1}editorDivInput(e){this.parent.div.classList.toggle("freetextEditing",this.isEmpty())}disableEditing(){this.editorDiv.setAttribute("role","comment"),this.editorDiv.removeAttribute("aria-multiline")}enableEditing(){this.editorDiv.setAttribute("role","textbox"),this.editorDiv.setAttribute("aria-multiline",!0)}render(){if(this.div)return this.div;let e,n;this.width&&(e=this.x,n=this.y),super.render(),this.editorDiv=document.createElement("div"),this.editorDiv.className="internal",this.editorDiv.setAttribute("id",g(this,vu)),this.editorDiv.setAttribute("data-l10n-id","pdfjs-free-text2"),this.editorDiv.setAttribute("data-l10n-attrs","default-content"),this.enableEditing(),this.editorDiv.contentEditable=!0;const{style:a}=this.editorDiv;if(a.fontSize=`calc(${g(this,Fi)}px * var(--scale-factor))`,a.color=g(this,xn),this.div.append(this.editorDiv),this.overlayDiv=document.createElement("div"),this.overlayDiv.classList.add("overlay","enabled"),this.div.append(this.overlayDiv),bindEvents(this,this.div,["dblclick","keydown"]),this.width){const[l,c]=this.parentDimensions;if(this.annotationElementId){const{position:f}=this._initialData;let[d,m]=this.getInitialTranslation();[d,m]=this.pageTranslationToScreen(d,m);const[y,A]=this.pageDimensions,[b,x]=this.pageTranslation;let E,T;switch(this.rotation){case 0:E=e+(f[0]-b)/y,T=n+this.height-(f[1]-x)/A;break;case 90:E=e+(f[0]-b)/y,T=n-(f[1]-x)/A,[d,m]=[m,-d];break;case 180:E=e-this.width+(f[0]-b)/y,T=n-(f[1]-x)/A,[d,m]=[-d,-m];break;case 270:E=e+(f[0]-b-this.height*A)/y,T=n+(f[1]-x-this.width*y)/A,[d,m]=[-m,d];break}this.setAt(E*l,T*c,d,m)}else this.setAt(e*l,n*c,this.width*l,this.height*c);z(this,Te,cd).call(this),this._isDraggable=!0,this.editorDiv.contentEditable=!1}else this._isDraggable=!1,this.editorDiv.contentEditable=!0;return this.div}editorDivPaste(e){var E,T,k;const n=e.clipboardData||window.clipboardData,{types:a}=n;if(a.length===1&&a[0]==="text/plain")return;e.preventDefault();const l=z(E=ie,qs,x0).call(E,n.getData("text")||"").replaceAll(EOL_PATTERN,`
`);if(!l)return;const c=window.getSelection();if(!c.rangeCount)return;this.editorDiv.normalize(),c.deleteFromDocument();const f=c.getRangeAt(0);if(!l.includes(`
`)){f.insertNode(document.createTextNode(l)),this.editorDiv.normalize(),c.collapseToStart();return}const{startContainer:d,startOffset:m}=f,y=[],A=[];if(d.nodeType===Node.TEXT_NODE){const S=d.parentElement;if(A.push(d.nodeValue.slice(m).replaceAll(EOL_PATTERN,"")),S!==this.editorDiv){let M=y;for(const P of this.editorDiv.childNodes){if(P===S){M=A;continue}M.push(z(T=ie,qs,hd).call(T,P))}}y.push(d.nodeValue.slice(0,m).replaceAll(EOL_PATTERN,""))}else if(d===this.editorDiv){let S=y,M=0;for(const P of this.editorDiv.childNodes)M++===m&&(S=A),S.push(z(k=ie,qs,hd).call(k,P))}B(this,ki,`${y.join(`
`)}${l}${A.join(`
`)}`),z(this,Te,cd).call(this);const b=new Range;let x=y.reduce((S,M)=>S+M.length,0);for(const{firstChild:S}of this.editorDiv.childNodes)if(S.nodeType===Node.TEXT_NODE){const M=S.nodeValue.length;if(x<=M){b.setStart(S,x),b.setEnd(S,x);break}x-=M}c.removeAllRanges(),c.addRange(b)}get contentDiv(){return this.editorDiv}static async deserialize(e,n,a){var f;let l=null;if(e instanceof FreeTextAnnotationElement){const{data:{defaultAppearanceData:{fontSize:d,fontColor:m},rect:y,rotation:A,id:b,popupRef:x},textContent:E,textPosition:T,parent:{page:{pageNumber:k}}}=e;if(!E||E.length===0)return null;l=e={annotationType:AnnotationEditorType.FREETEXT,color:Array.from(m),fontSize:d,value:E.join(`
`),position:T,pageIndex:k-1,rect:y.slice(0),rotation:A,id:b,deleted:!1,popupRef:x}}const c=await super.deserialize(e,n,a);return B(c,Fi,e.fontSize),B(c,xn,Util.makeHexColor(...e.color)),B(c,ki,z(f=ie,qs,x0).call(f,e.value)),c.annotationElementId=e.id||null,c._initialData=l,c}serialize(e=!1){if(this.isEmpty())return null;if(this.deleted)return this.serializeDeleted();const n=ie._internalPadding*this.parentScale,a=this.getRect(n,n),l=AnnotationEditor._colorManager.convert(this.isAttachedToDOM?getComputedStyle(this.editorDiv).color:g(this,xn)),c={annotationType:AnnotationEditorType.FREETEXT,color:l,fontSize:g(this,Fi),value:z(this,Te,Ab).call(this),pageIndex:this.pageIndex,rect:a,rotation:this.rotation,structTreeParentId:this._structTreeParentId};return e?c:this.annotationElementId&&!z(this,Te,Eb).call(this,c)?null:(c.id=this.annotationElementId,c)}renderAnnotationElement(e){const n=super.renderAnnotationElement(e);if(this.deleted)return n;const{style:a}=n;a.fontSize=`calc(${g(this,Fi)}px * var(--scale-factor))`,a.color=g(this,xn),n.replaceChildren();for(const c of g(this,ki).split(`
`)){const f=document.createElement("div");f.append(c?document.createTextNode(c):document.createElement("br")),n.append(f)}const l=ie._internalPadding*this.parentScale;return e.updateEdited({rect:this.getRect(l,l),popupContent:g(this,ki)}),n}resetAnnotationElement(e){super.resetAnnotationElement(e),e.resetEdited()}};xn=new WeakMap,ki=new WeakMap,vu=new WeakMap,ro=new WeakMap,Fi=new WeakMap,Te=new WeakSet,vb=function(e){const n=l=>{this.editorDiv.style.fontSize=`calc(${l}px * var(--scale-factor))`,this.translate(0,-(l-g(this,Fi))*this.parentScale),B(this,Fi,l),z(this,Te,ld).call(this)},a=g(this,Fi);this.addCommands({cmd:n.bind(this,e),undo:n.bind(this,a),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:AnnotationEditorParamsType.FREETEXT_SIZE,overwriteIfSameType:!0,keepUndo:!0})},bb=function(e){const n=l=>{B(this,xn,this.editorDiv.style.color=l)},a=g(this,xn);this.addCommands({cmd:n.bind(this,e),undo:n.bind(this,a),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:AnnotationEditorParamsType.FREETEXT_COLOR,overwriteIfSameType:!0,keepUndo:!0})},_b=function(){var a;const e=[];this.editorDiv.normalize();let n=null;for(const l of this.editorDiv.childNodes)(n==null?void 0:n.nodeType)===Node.TEXT_NODE&&l.nodeName==="BR"||(e.push(z(a=ie,qs,hd).call(a,l)),n=l);return e.join(`
`)},ld=function(){const[e,n]=this.parentDimensions;let a;if(this.isAttachedToDOM)a=this.div.getBoundingClientRect();else{const{currentLayer:l,div:c}=this,f=c.style.display,d=c.classList.contains("hidden");c.classList.remove("hidden"),c.style.display="hidden",l.div.append(this.div),a=c.getBoundingClientRect(),c.remove(),c.style.display=f,c.classList.toggle("hidden",d)}this.rotation%180===this.parentRotation%180?(this.width=a.width/e,this.height=a.height/n):(this.width=a.height/e,this.height=a.width/n),this.fixAndSetPosition()},qs=new WeakSet,hd=function(e){return(e.nodeType===Node.TEXT_NODE?e.nodeValue:e.innerText).replaceAll(EOL_PATTERN,"")},cd=function(){if(this.editorDiv.replaceChildren(),!!g(this,ki))for(const e of g(this,ki).split(`
`)){const n=document.createElement("div");n.append(e?document.createTextNode(e):document.createElement("br")),this.editorDiv.append(n)}},Ab=function(){return g(this,ki).replaceAll(" "," ")},x0=function(e){return e.replaceAll(" "," ")},Eb=function(e){const{value:n,fontSize:a,color:l,pageIndex:c}=this._initialData;return this._hasBeenMoved||e.value!==n||e.fontSize!==a||e.color.some((f,d)=>f!==l[d])||e.pageIndex!==c},U(ie,qs),Mt(ie,"_freeTextDefaultContent",""),Mt(ie,"_internalPadding",0),Mt(ie,"_defaultColor",null),Mt(ie,"_defaultFontSize",10),Mt(ie,"_type","freetext"),Mt(ie,"_editorType",AnnotationEditorType.FREETEXT);let FreeTextEditor=ie;class Outline{toSVGPath(){unreachable("Abstract method `toSVGPath` must be implemented.")}get box(){unreachable("Abstract getter `box` must be implemented.")}serialize(t,e){unreachable("Abstract method `serialize` must be implemented.")}get classNamesForDrawing(){unreachable("Abstract getter `classNamesForDrawing` must be implemented.")}get classNamesForOutlining(){unreachable("Abstract getter `classNamesForOutlining` must be implemented.")}get mustRemoveSelfIntersections(){return!1}}var Di,Sn,ql,$l,Xn,It,ao,oo,bu,_u,Xl,Yl,Br,Au,Nd,Bd,ke,dc,xb,Sb,Tb,wb,Cb,Pb;const bs=class bs{constructor({x:t,y:e},n,a,l,c,f=0){U(this,ke);U(this,Di);U(this,Sn,[]);U(this,ql);U(this,$l);U(this,Xn,[]);U(this,It,new Float64Array(18));U(this,ao);U(this,oo);U(this,bu);U(this,_u);U(this,Xl);U(this,Yl);U(this,Br,[]);B(this,Di,n),B(this,Yl,l*a),B(this,$l,c),g(this,It).set([NaN,NaN,NaN,NaN,t,e],6),B(this,ql,f),B(this,_u,g(bs,Au)*a),B(this,bu,g(bs,Bd)*a),B(this,Xl,a),g(this,Br).push(t,e)}isEmpty(){return isNaN(g(this,It)[8])}add({x:t,y:e}){var X;B(this,ao,t),B(this,oo,e);const[n,a,l,c]=g(this,Di);let[f,d,m,y]=g(this,It).subarray(8,12);const A=t-m,b=e-y,x=Math.hypot(A,b);if(x<g(this,bu))return!1;const E=x-g(this,_u),T=E/x,k=T*A,S=T*b;let M=f,P=d;f=m,d=y,m+=k,y+=S,(X=g(this,Br))==null||X.push(t,e);const R=-S/E,D=k/E,L=R*g(this,Yl),G=D*g(this,Yl);return g(this,It).set(g(this,It).subarray(2,8),0),g(this,It).set([m+L,y+G],4),g(this,It).set(g(this,It).subarray(14,18),12),g(this,It).set([m-L,y-G],16),isNaN(g(this,It)[6])?(g(this,Xn).length===0&&(g(this,It).set([f+L,d+G],2),g(this,Xn).push(NaN,NaN,NaN,NaN,(f+L-n)/l,(d+G-a)/c),g(this,It).set([f-L,d-G],14),g(this,Sn).push(NaN,NaN,NaN,NaN,(f-L-n)/l,(d-G-a)/c)),g(this,It).set([M,P,f,d,m,y],6),!this.isEmpty()):(g(this,It).set([M,P,f,d,m,y],6),Math.abs(Math.atan2(P-d,M-f)-Math.atan2(S,k))<Math.PI/2?([f,d,m,y]=g(this,It).subarray(2,6),g(this,Xn).push(NaN,NaN,NaN,NaN,((f+m)/2-n)/l,((d+y)/2-a)/c),[f,d,M,P]=g(this,It).subarray(14,18),g(this,Sn).push(NaN,NaN,NaN,NaN,((M+f)/2-n)/l,((P+d)/2-a)/c),!0):([M,P,f,d,m,y]=g(this,It).subarray(0,6),g(this,Xn).push(((M+5*f)/6-n)/l,((P+5*d)/6-a)/c,((5*f+m)/6-n)/l,((5*d+y)/6-a)/c,((f+m)/2-n)/l,((d+y)/2-a)/c),[m,y,f,d,M,P]=g(this,It).subarray(12,18),g(this,Sn).push(((M+5*f)/6-n)/l,((P+5*d)/6-a)/c,((5*f+m)/6-n)/l,((5*d+y)/6-a)/c,((f+m)/2-n)/l,((d+y)/2-a)/c),!0))}toSVGPath(){if(this.isEmpty())return"";const t=g(this,Xn),e=g(this,Sn);if(isNaN(g(this,It)[6])&&!this.isEmpty())return z(this,ke,xb).call(this);const n=[];n.push(`M${t[4]} ${t[5]}`);for(let a=6;a<t.length;a+=6)isNaN(t[a])?n.push(`L${t[a+4]} ${t[a+5]}`):n.push(`C${t[a]} ${t[a+1]} ${t[a+2]} ${t[a+3]} ${t[a+4]} ${t[a+5]}`);z(this,ke,Tb).call(this,n);for(let a=e.length-6;a>=6;a-=6)isNaN(e[a])?n.push(`L${e[a+4]} ${e[a+5]}`):n.push(`C${e[a]} ${e[a+1]} ${e[a+2]} ${e[a+3]} ${e[a+4]} ${e[a+5]}`);return z(this,ke,Sb).call(this,n),n.join(" ")}newFreeDrawOutline(t,e,n,a,l,c){return new FreeDrawOutline(t,e,n,a,l,c)}getOutlines(){var A;const t=g(this,Xn),e=g(this,Sn),n=g(this,It),[a,l,c,f]=g(this,Di),d=new Float64Array((((A=g(this,Br))==null?void 0:A.length)??0)+2);for(let b=0,x=d.length-2;b<x;b+=2)d[b]=(g(this,Br)[b]-a)/c,d[b+1]=(g(this,Br)[b+1]-l)/f;if(d[d.length-2]=(g(this,ao)-a)/c,d[d.length-1]=(g(this,oo)-l)/f,isNaN(n[6])&&!this.isEmpty())return z(this,ke,wb).call(this,d);const m=new Float64Array(g(this,Xn).length+24+g(this,Sn).length);let y=t.length;for(let b=0;b<y;b+=2){if(isNaN(t[b])){m[b]=m[b+1]=NaN;continue}m[b]=t[b],m[b+1]=t[b+1]}y=z(this,ke,Pb).call(this,m,y);for(let b=e.length-6;b>=6;b-=6)for(let x=0;x<6;x+=2){if(isNaN(e[b+x])){m[y]=m[y+1]=NaN,y+=2;continue}m[y]=e[b+x],m[y+1]=e[b+x+1],y+=2}return z(this,ke,Cb).call(this,m,y),this.newFreeDrawOutline(m,d,g(this,Di),g(this,Xl),g(this,ql),g(this,$l))}};Di=new WeakMap,Sn=new WeakMap,ql=new WeakMap,$l=new WeakMap,Xn=new WeakMap,It=new WeakMap,ao=new WeakMap,oo=new WeakMap,bu=new WeakMap,_u=new WeakMap,Xl=new WeakMap,Yl=new WeakMap,Br=new WeakMap,Au=new WeakMap,Nd=new WeakMap,Bd=new WeakMap,ke=new WeakSet,dc=function(){const t=g(this,It).subarray(4,6),e=g(this,It).subarray(16,18),[n,a,l,c]=g(this,Di);return[(g(this,ao)+(t[0]-e[0])/2-n)/l,(g(this,oo)+(t[1]-e[1])/2-a)/c,(g(this,ao)+(e[0]-t[0])/2-n)/l,(g(this,oo)+(e[1]-t[1])/2-a)/c]},xb=function(){const[t,e,n,a]=g(this,Di),[l,c,f,d]=z(this,ke,dc).call(this);return`M${(g(this,It)[2]-t)/n} ${(g(this,It)[3]-e)/a} L${(g(this,It)[4]-t)/n} ${(g(this,It)[5]-e)/a} L${l} ${c} L${f} ${d} L${(g(this,It)[16]-t)/n} ${(g(this,It)[17]-e)/a} L${(g(this,It)[14]-t)/n} ${(g(this,It)[15]-e)/a} Z`},Sb=function(t){const e=g(this,Sn);t.push(`L${e[4]} ${e[5]} Z`)},Tb=function(t){const[e,n,a,l]=g(this,Di),c=g(this,It).subarray(4,6),f=g(this,It).subarray(16,18),[d,m,y,A]=z(this,ke,dc).call(this);t.push(`L${(c[0]-e)/a} ${(c[1]-n)/l} L${d} ${m} L${y} ${A} L${(f[0]-e)/a} ${(f[1]-n)/l}`)},wb=function(t){const e=g(this,It),[n,a,l,c]=g(this,Di),[f,d,m,y]=z(this,ke,dc).call(this),A=new Float64Array(36);return A.set([NaN,NaN,NaN,NaN,(e[2]-n)/l,(e[3]-a)/c,NaN,NaN,NaN,NaN,(e[4]-n)/l,(e[5]-a)/c,NaN,NaN,NaN,NaN,f,d,NaN,NaN,NaN,NaN,m,y,NaN,NaN,NaN,NaN,(e[16]-n)/l,(e[17]-a)/c,NaN,NaN,NaN,NaN,(e[14]-n)/l,(e[15]-a)/c],0),this.newFreeDrawOutline(A,t,g(this,Di),g(this,Xl),g(this,ql),g(this,$l))},Cb=function(t,e){const n=g(this,Sn);return t.set([NaN,NaN,NaN,NaN,n[4],n[5]],e),e+=6},Pb=function(t,e){const n=g(this,It).subarray(4,6),a=g(this,It).subarray(16,18),[l,c,f,d]=g(this,Di),[m,y,A,b]=z(this,ke,dc).call(this);return t.set([NaN,NaN,NaN,NaN,(n[0]-l)/f,(n[1]-c)/d,NaN,NaN,NaN,NaN,m,y,NaN,NaN,NaN,NaN,A,b,NaN,NaN,NaN,NaN,(a[0]-l)/f,(a[1]-c)/d],e),e+=24},U(bs,Au,8),U(bs,Nd,2),U(bs,Bd,g(bs,Au)+g(bs,Nd));let FreeDrawOutliner=bs;var Wl,lo,Ls,Eu,Li,xu,be,Ai,pc,mc,Mb;class FreeDrawOutline extends Outline{constructor(e,n,a,l,c,f){super();U(this,Ai);U(this,Wl);U(this,lo,null);U(this,Ls);U(this,Eu);U(this,Li);U(this,xu);U(this,be);B(this,be,e),B(this,Li,n),B(this,Wl,a),B(this,xu,l),B(this,Ls,c),B(this,Eu,f),z(this,Ai,Mb).call(this,f);const{x:d,y:m,width:y,height:A}=g(this,lo);for(let b=0,x=e.length;b<x;b+=2)e[b]=(e[b]-d)/y,e[b+1]=(e[b+1]-m)/A;for(let b=0,x=n.length;b<x;b+=2)n[b]=(n[b]-d)/y,n[b+1]=(n[b+1]-m)/A}toSVGPath(){const e=[`M${g(this,be)[4]} ${g(this,be)[5]}`];for(let n=6,a=g(this,be).length;n<a;n+=6){if(isNaN(g(this,be)[n])){e.push(`L${g(this,be)[n+4]} ${g(this,be)[n+5]}`);continue}e.push(`C${g(this,be)[n]} ${g(this,be)[n+1]} ${g(this,be)[n+2]} ${g(this,be)[n+3]} ${g(this,be)[n+4]} ${g(this,be)[n+5]}`)}return e.push("Z"),e.join(" ")}serialize([e,n,a,l],c){const f=a-e,d=l-n;let m,y;switch(c){case 0:m=z(this,Ai,pc).call(this,g(this,be),e,l,f,-d),y=z(this,Ai,pc).call(this,g(this,Li),e,l,f,-d);break;case 90:m=z(this,Ai,mc).call(this,g(this,be),e,n,f,d),y=z(this,Ai,mc).call(this,g(this,Li),e,n,f,d);break;case 180:m=z(this,Ai,pc).call(this,g(this,be),a,n,-f,d),y=z(this,Ai,pc).call(this,g(this,Li),a,n,-f,d);break;case 270:m=z(this,Ai,mc).call(this,g(this,be),a,l,-f,-d),y=z(this,Ai,mc).call(this,g(this,Li),a,l,-f,-d);break}return{outline:Array.from(m),points:[Array.from(y)]}}get box(){return g(this,lo)}newOutliner(e,n,a,l,c,f=0){return new FreeDrawOutliner(e,n,a,l,c,f)}getNewOutline(e,n){const{x:a,y:l,width:c,height:f}=g(this,lo),[d,m,y,A]=g(this,Wl),b=c*y,x=f*A,E=a*y+d,T=l*A+m,k=this.newOutliner({x:g(this,Li)[0]*b+E,y:g(this,Li)[1]*x+T},g(this,Wl),g(this,xu),e,g(this,Eu),n??g(this,Ls));for(let S=2;S<g(this,Li).length;S+=2)k.add({x:g(this,Li)[S]*b+E,y:g(this,Li)[S+1]*x+T});return k.getOutlines()}get mustRemoveSelfIntersections(){return!0}}Wl=new WeakMap,lo=new WeakMap,Ls=new WeakMap,Eu=new WeakMap,Li=new WeakMap,xu=new WeakMap,be=new WeakMap,Ai=new WeakSet,pc=function(e,n,a,l,c){const f=new Float64Array(e.length);for(let d=0,m=e.length;d<m;d+=2)f[d]=n+e[d]*l,f[d+1]=a+e[d+1]*c;return f},mc=function(e,n,a,l,c){const f=new Float64Array(e.length);for(let d=0,m=e.length;d<m;d+=2)f[d]=n+e[d+1]*l,f[d+1]=a+e[d]*c;return f},Mb=function(e){const n=g(this,be);let a=n[4],l=n[5],c=a,f=l,d=a,m=l,y=a,A=l;const b=e?Math.max:Math.min;for(let S=6,M=n.length;S<M;S+=6){if(isNaN(n[S]))c=Math.min(c,n[S+4]),f=Math.min(f,n[S+5]),d=Math.max(d,n[S+4]),m=Math.max(m,n[S+5]),A<n[S+5]?(y=n[S+4],A=n[S+5]):A===n[S+5]&&(y=b(y,n[S+4]));else{const P=Util.bezierBoundingBox(a,l,...n.slice(S,S+6));c=Math.min(c,P[0]),f=Math.min(f,P[1]),d=Math.max(d,P[2]),m=Math.max(m,P[3]),A<P[3]?(y=P[2],A=P[3]):A===P[3]&&(y=b(y,P[2]))}a=n[S+4],l=n[S+5]}const x=c-g(this,Ls),E=f-g(this,Ls),T=d-c+2*g(this,Ls),k=m-f+2*g(this,Ls);B(this,lo,{x,y:E,width:T,height:k,lastPoint:[y,A]})};var Su,Vr,Tn,fi,Rb,ud,kb,Fb,S0;class HighlightOutliner{constructor(t,e=0,n=0,a=!0){U(this,fi);U(this,Su);U(this,Vr,[]);U(this,Tn,[]);let l=1/0,c=-1/0,f=1/0,d=-1/0;const m=10**-4;for(const{x:k,y:S,width:M,height:P}of t){const R=Math.floor((k-e)/m)*m,D=Math.ceil((k+M+e)/m)*m,L=Math.floor((S-e)/m)*m,G=Math.ceil((S+P+e)/m)*m,q=[R,L,G,!0],X=[D,L,G,!1];g(this,Vr).push(q,X),l=Math.min(l,R),c=Math.max(c,D),f=Math.min(f,L),d=Math.max(d,G)}const y=c-l+2*n,A=d-f+2*n,b=l-n,x=f-n,E=g(this,Vr).at(a?-1:-2),T=[E[0],E[2]];for(const k of g(this,Vr)){const[S,M,P]=k;k[0]=(S-b)/y,k[1]=(M-x)/A,k[2]=(P-x)/A}B(this,Su,{x:b,y:x,width:y,height:A,lastPoint:T})}getOutlines(){g(this,Vr).sort((e,n)=>e[0]-n[0]||e[1]-n[1]||e[2]-n[2]);const t=[];for(const e of g(this,Vr))e[3]?(t.push(...z(this,fi,S0).call(this,e)),z(this,fi,kb).call(this,e)):(z(this,fi,Fb).call(this,e),t.push(...z(this,fi,S0).call(this,e)));return z(this,fi,Rb).call(this,t)}}Su=new WeakMap,Vr=new WeakMap,Tn=new WeakMap,fi=new WeakSet,Rb=function(t){const e=[],n=new Set;for(const c of t){const[f,d,m]=c;e.push([f,d,c],[f,m,c])}e.sort((c,f)=>c[1]-f[1]||c[0]-f[0]);for(let c=0,f=e.length;c<f;c+=2){const d=e[c][2],m=e[c+1][2];d.push(m),m.push(d),n.add(d),n.add(m)}const a=[];let l;for(;n.size>0;){const c=n.values().next().value;let[f,d,m,y,A]=c;n.delete(c);let b=f,x=d;for(l=[f,m],a.push(l);;){let E;if(n.has(y))E=y;else if(n.has(A))E=A;else break;n.delete(E),[f,d,m,y,A]=E,b!==f&&(l.push(b,x,f,x===d?d:m),b=f),x=x===d?m:d}l.push(b,x)}return new HighlightOutline(a,g(this,Su))},ud=function(t){const e=g(this,Tn);let n=0,a=e.length-1;for(;n<=a;){const l=n+a>>1,c=e[l][0];if(c===t)return l;c<t?n=l+1:a=l-1}return a+1},kb=function([,t,e]){const n=z(this,fi,ud).call(this,t);g(this,Tn).splice(n,0,[t,e])},Fb=function([,t,e]){const n=z(this,fi,ud).call(this,t);for(let a=n;a<g(this,Tn).length;a++){const[l,c]=g(this,Tn)[a];if(l!==t)break;if(l===t&&c===e){g(this,Tn).splice(a,1);return}}for(let a=n-1;a>=0;a--){const[l,c]=g(this,Tn)[a];if(l!==t)break;if(l===t&&c===e){g(this,Tn).splice(a,1);return}}},S0=function(t){const[e,n,a]=t,l=[[e,n,a]],c=z(this,fi,ud).call(this,a);for(let f=0;f<c;f++){const[d,m]=g(this,Tn)[f];for(let y=0,A=l.length;y<A;y++){const[,b,x]=l[y];if(!(m<=b||x<=d)){if(b>=d){if(x>m)l[y][1]=m;else{if(A===1)return[];l.splice(y,1),y--,A--}continue}l[y][2]=d,x>m&&l.push([e,m,x])}}}return l};var Tu,Kl;class HighlightOutline extends Outline{constructor(e,n){super();U(this,Tu);U(this,Kl);B(this,Kl,e),B(this,Tu,n)}toSVGPath(){const e=[];for(const n of g(this,Kl)){let[a,l]=n;e.push(`M${a} ${l}`);for(let c=2;c<n.length;c+=2){const f=n[c],d=n[c+1];f===a?(e.push(`V${d}`),l=d):d===l&&(e.push(`H${f}`),a=f)}e.push("Z")}return e.join(" ")}serialize([e,n,a,l],c){const f=[],d=a-e,m=l-n;for(const y of g(this,Kl)){const A=new Array(y.length);for(let b=0;b<y.length;b+=2)A[b]=e+y[b]*d,A[b+1]=l-y[b+1]*m;f.push(A)}return f}get box(){return g(this,Tu)}get classNamesForDrawing(){return["highlight"]}get classNamesForOutlining(){return["highlightOutline"]}}Tu=new WeakMap,Kl=new WeakMap;class FreeHighlightOutliner extends FreeDrawOutliner{newFreeDrawOutline(t,e,n,a,l,c){return new FreeHighlightOutline(t,e,n,a,l,c)}get classNamesForDrawing(){return["highlight","free"]}}class FreeHighlightOutline extends FreeDrawOutline{get classNamesForDrawing(){return["highlight","free"]}get classNamesForOutlining(){return["highlightOutline","free"]}newOutliner(t,e,n,a,l,c=0){return new FreeHighlightOutliner(t,e,n,a,l,c)}}var wn,ho,Ql,Me,wu,Zl,Cu,Pu,zr,Cn,Jl,Mu,Qt,T0,w0,C0,va,Db,br;const yi=class yi{constructor({editor:t=null,uiManager:e=null}){U(this,Qt);U(this,wn,null);U(this,ho,null);U(this,Ql);U(this,Me,null);U(this,wu,!1);U(this,Zl,!1);U(this,Cu,null);U(this,Pu);U(this,zr,null);U(this,Cn,null);U(this,Jl);var n;t?(B(this,Zl,!1),B(this,Jl,AnnotationEditorParamsType.HIGHLIGHT_COLOR),B(this,Cu,t)):(B(this,Zl,!0),B(this,Jl,AnnotationEditorParamsType.HIGHLIGHT_DEFAULT_COLOR)),B(this,Cn,(t==null?void 0:t._uiManager)||e),B(this,Pu,g(this,Cn)._eventBus),B(this,Ql,(t==null?void 0:t.color)||((n=g(this,Cn))==null?void 0:n.highlightColors.values().next().value)||"#FFFF98"),g(yi,Mu)||B(yi,Mu,Object.freeze({blue:"pdfjs-editor-colorpicker-blue",green:"pdfjs-editor-colorpicker-green",pink:"pdfjs-editor-colorpicker-pink",red:"pdfjs-editor-colorpicker-red",yellow:"pdfjs-editor-colorpicker-yellow"}))}static get _keyboardManager(){return shadow(this,"_keyboardManager",new KeyboardManager([[["Escape","mac+Escape"],yi.prototype._hideDropdownFromKeyboard],[[" ","mac+ "],yi.prototype._colorSelectFromKeyboard],[["ArrowDown","ArrowRight","mac+ArrowDown","mac+ArrowRight"],yi.prototype._moveToNext],[["ArrowUp","ArrowLeft","mac+ArrowUp","mac+ArrowLeft"],yi.prototype._moveToPrevious],[["Home","mac+Home"],yi.prototype._moveToBeginning],[["End","mac+End"],yi.prototype._moveToEnd]]))}renderButton(){const t=B(this,wn,document.createElement("button"));t.className="colorPicker",t.tabIndex="0",t.setAttribute("data-l10n-id","pdfjs-editor-colorpicker-button"),t.setAttribute("aria-haspopup",!0);const e=g(this,Cn)._signal;t.addEventListener("click",z(this,Qt,va).bind(this),{signal:e}),t.addEventListener("keydown",z(this,Qt,C0).bind(this),{signal:e});const n=B(this,ho,document.createElement("span"));return n.className="swatch",n.setAttribute("aria-hidden",!0),n.style.backgroundColor=g(this,Ql),t.append(n),t}renderMainDropdown(){const t=B(this,Me,z(this,Qt,T0).call(this));return t.setAttribute("aria-orientation","horizontal"),t.setAttribute("aria-labelledby","highlightColorPickerLabel"),t}_colorSelectFromKeyboard(t){if(t.target===g(this,wn)){z(this,Qt,va).call(this,t);return}const e=t.target.getAttribute("data-color");e&&z(this,Qt,w0).call(this,e,t)}_moveToNext(t){var e,n;if(!g(this,Qt,br)){z(this,Qt,va).call(this,t);return}if(t.target===g(this,wn)){(e=g(this,Me).firstChild)==null||e.focus();return}(n=t.target.nextSibling)==null||n.focus()}_moveToPrevious(t){var e,n;if(t.target===((e=g(this,Me))==null?void 0:e.firstChild)||t.target===g(this,wn)){g(this,Qt,br)&&this._hideDropdownFromKeyboard();return}g(this,Qt,br)||z(this,Qt,va).call(this,t),(n=t.target.previousSibling)==null||n.focus()}_moveToBeginning(t){var e;if(!g(this,Qt,br)){z(this,Qt,va).call(this,t);return}(e=g(this,Me).firstChild)==null||e.focus()}_moveToEnd(t){var e;if(!g(this,Qt,br)){z(this,Qt,va).call(this,t);return}(e=g(this,Me).lastChild)==null||e.focus()}hideDropdown(){var t,e;(t=g(this,Me))==null||t.classList.add("hidden"),(e=g(this,zr))==null||e.abort(),B(this,zr,null)}_hideDropdownFromKeyboard(){var t;if(!g(this,Zl)){if(!g(this,Qt,br)){(t=g(this,Cu))==null||t.unselect();return}this.hideDropdown(),g(this,wn).focus({preventScroll:!0,focusVisible:g(this,wu)})}}updateColor(t){if(g(this,ho)&&(g(this,ho).style.backgroundColor=t),!g(this,Me))return;const e=g(this,Cn).highlightColors.values();for(const n of g(this,Me).children)n.setAttribute("aria-selected",e.next().value===t)}destroy(){var t,e;(t=g(this,wn))==null||t.remove(),B(this,wn,null),B(this,ho,null),(e=g(this,Me))==null||e.remove(),B(this,Me,null)}};wn=new WeakMap,ho=new WeakMap,Ql=new WeakMap,Me=new WeakMap,wu=new WeakMap,Zl=new WeakMap,Cu=new WeakMap,Pu=new WeakMap,zr=new WeakMap,Cn=new WeakMap,Jl=new WeakMap,Mu=new WeakMap,Qt=new WeakSet,T0=function(){const t=document.createElement("div"),e=g(this,Cn)._signal;t.addEventListener("contextmenu",noContextMenu,{signal:e}),t.className="dropdown",t.role="listbox",t.setAttribute("aria-multiselectable",!1),t.setAttribute("aria-orientation","vertical"),t.setAttribute("data-l10n-id","pdfjs-editor-colorpicker-dropdown");for(const[n,a]of g(this,Cn).highlightColors){const l=document.createElement("button");l.tabIndex="0",l.role="option",l.setAttribute("data-color",a),l.title=n,l.setAttribute("data-l10n-id",g(yi,Mu)[n]);const c=document.createElement("span");l.append(c),c.className="swatch",c.style.backgroundColor=a,l.setAttribute("aria-selected",a===g(this,Ql)),l.addEventListener("click",z(this,Qt,w0).bind(this,a),{signal:e}),t.append(l)}return t.addEventListener("keydown",z(this,Qt,C0).bind(this),{signal:e}),t},w0=function(t,e){e.stopPropagation(),g(this,Pu).dispatch("switchannotationeditorparams",{source:this,type:g(this,Jl),value:t})},C0=function(t){yi._keyboardManager.exec(this,t)},va=function(t){if(g(this,Qt,br)){this.hideDropdown();return}if(B(this,wu,t.detail===0),g(this,zr)||(B(this,zr,new AbortController),window.addEventListener("pointerdown",z(this,Qt,Db).bind(this),{signal:g(this,Cn).combinedSignal(g(this,zr))})),g(this,Me)){g(this,Me).classList.remove("hidden");return}const e=B(this,Me,z(this,Qt,T0).call(this));g(this,wn).append(e)},Db=function(t){var e;(e=g(this,Me))!=null&&e.contains(t.target)||this.hideDropdown()},br=function(){return g(this,Me)&&!g(this,Me).classList.contains("hidden")},U(yi,Mu,null);let ColorPicker=yi;var th,Ru,Is,co,eh,nn,ku,Fu,uo,Pn,ii,_i,ih,Os,Re,nh,sn,Du,kt,P0,fd,Lb,Ib,Ob,M0,ba,on,hl,Nb,dd,gc,Bb,Vb,zb,Hb,Gb;const qt=class qt extends AnnotationEditor{constructor(e){super({...e,name:"highlightEditor"});U(this,kt);U(this,th,null);U(this,Ru,0);U(this,Is);U(this,co,null);U(this,eh,null);U(this,nn,null);U(this,ku,null);U(this,Fu,0);U(this,uo,null);U(this,Pn,null);U(this,ii,null);U(this,_i,!1);U(this,ih,null);U(this,Os);U(this,Re,null);U(this,nh,"");U(this,sn);U(this,Du,"");this.color=e.color||qt._defaultColor,B(this,sn,e.thickness||qt._defaultThickness),B(this,Os,e.opacity||qt._defaultOpacity),B(this,Is,e.boxes||null),B(this,Du,e.methodOfCreation||""),B(this,nh,e.text||""),this._isDraggable=!1,e.highlightId>-1?(B(this,_i,!0),z(this,kt,fd).call(this,e),z(this,kt,ba).call(this)):g(this,Is)&&(B(this,th,e.anchorNode),B(this,Ru,e.anchorOffset),B(this,ku,e.focusNode),B(this,Fu,e.focusOffset),z(this,kt,P0).call(this),z(this,kt,ba).call(this),this.rotate(this.rotation))}static get _keyboardManager(){const e=qt.prototype;return shadow(this,"_keyboardManager",new KeyboardManager([[["ArrowLeft","mac+ArrowLeft"],e._moveCaret,{args:[0]}],[["ArrowRight","mac+ArrowRight"],e._moveCaret,{args:[1]}],[["ArrowUp","mac+ArrowUp"],e._moveCaret,{args:[2]}],[["ArrowDown","mac+ArrowDown"],e._moveCaret,{args:[3]}]]))}get telemetryInitialData(){return{action:"added",type:g(this,_i)?"free_highlight":"highlight",color:this._uiManager.highlightColorNames.get(this.color),thickness:g(this,sn),methodOfCreation:g(this,Du)}}get telemetryFinalData(){return{type:"highlight",color:this._uiManager.highlightColorNames.get(this.color)}}static computeTelemetryFinalData(e){return{numberOfColors:e.get("color").size}}static initialize(e,n){var a;AnnotationEditor.initialize(e,n),qt._defaultColor||(qt._defaultColor=((a=n.highlightColors)==null?void 0:a.values().next().value)||"#fff066")}static updateDefaultParams(e,n){switch(e){case AnnotationEditorParamsType.HIGHLIGHT_DEFAULT_COLOR:qt._defaultColor=n;break;case AnnotationEditorParamsType.HIGHLIGHT_THICKNESS:qt._defaultThickness=n;break}}translateInPage(e,n){}get toolbarPosition(){return g(this,ih)}updateParams(e,n){switch(e){case AnnotationEditorParamsType.HIGHLIGHT_COLOR:z(this,kt,Lb).call(this,n);break;case AnnotationEditorParamsType.HIGHLIGHT_THICKNESS:z(this,kt,Ib).call(this,n);break}}static get defaultPropertiesToUpdate(){return[[AnnotationEditorParamsType.HIGHLIGHT_DEFAULT_COLOR,qt._defaultColor],[AnnotationEditorParamsType.HIGHLIGHT_THICKNESS,qt._defaultThickness]]}get propertiesToUpdate(){return[[AnnotationEditorParamsType.HIGHLIGHT_COLOR,this.color||qt._defaultColor],[AnnotationEditorParamsType.HIGHLIGHT_THICKNESS,g(this,sn)||qt._defaultThickness],[AnnotationEditorParamsType.HIGHLIGHT_FREE,g(this,_i)]]}async addEditToolbar(){const e=await super.addEditToolbar();return e?(this._uiManager.highlightColors&&(B(this,eh,new ColorPicker({editor:this})),e.addColorPicker(g(this,eh))),e):null}disableEditing(){super.disableEditing(),this.div.classList.toggle("disabled",!0)}enableEditing(){super.enableEditing(),this.div.classList.toggle("disabled",!1)}fixAndSetPosition(){return super.fixAndSetPosition(z(this,kt,gc).call(this))}getBaseTranslation(){return[0,0]}getRect(e,n){return super.getRect(e,n,z(this,kt,gc).call(this))}onceAdded(){this.annotationElementId||this.parent.addUndoableEditor(this),this.div.focus()}remove(){z(this,kt,M0).call(this),this._reportTelemetry({action:"deleted"}),super.remove()}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(z(this,kt,ba).call(this),this.isAttachedToDOM||this.parent.add(this)))}setParent(e){var a;let n=!1;this.parent&&!e?z(this,kt,M0).call(this):e&&(z(this,kt,ba).call(this,e),n=!this.parent&&((a=this.div)==null?void 0:a.classList.contains("selectedEditor"))),super.setParent(e),this.show(this._isVisible),n&&this.select()}rotate(e){var l,c,f;const{drawLayer:n}=this.parent;let a;g(this,_i)?(e=(e-this.rotation+360)%360,a=z(l=qt,on,hl).call(l,g(this,Pn).box,e)):a=z(c=qt,on,hl).call(c,this,e),n.rotate(g(this,ii),e),n.rotate(g(this,Re),e),n.updateBox(g(this,ii),a),n.updateBox(g(this,Re),z(f=qt,on,hl).call(f,g(this,nn).box,e))}render(){if(this.div)return this.div;const e=super.render();g(this,nh)&&(e.setAttribute("aria-label",g(this,nh)),e.setAttribute("role","mark")),g(this,_i)?e.classList.add("free"):this.div.addEventListener("keydown",z(this,kt,Nb).bind(this),{signal:this._uiManager._signal});const n=B(this,uo,document.createElement("div"));e.append(n),n.setAttribute("aria-hidden","true"),n.className="internal",n.style.clipPath=g(this,co);const[a,l]=this.parentDimensions;return this.setDims(this.width*a,this.height*l),bindEvents(this,g(this,uo),["pointerover","pointerleave"]),this.enableEditing(),e}pointerover(){this.isSelected||this.parent.drawLayer.addClass(g(this,Re),"hovered")}pointerleave(){this.isSelected||this.parent.drawLayer.removeClass(g(this,Re),"hovered")}_moveCaret(e){switch(this.parent.unselect(this),e){case 0:case 2:z(this,kt,dd).call(this,!0);break;case 1:case 3:z(this,kt,dd).call(this,!1);break}}select(){var e,n;super.select(),g(this,Re)&&((e=this.parent)==null||e.drawLayer.removeClass(g(this,Re),"hovered"),(n=this.parent)==null||n.drawLayer.addClass(g(this,Re),"selected"))}unselect(){var e;super.unselect(),g(this,Re)&&((e=this.parent)==null||e.drawLayer.removeClass(g(this,Re),"selected"),g(this,_i)||z(this,kt,dd).call(this,!1))}get _mustFixPosition(){return!g(this,_i)}show(e=this._isVisible){super.show(e),this.parent&&(this.parent.drawLayer.show(g(this,ii),e),this.parent.drawLayer.show(g(this,Re),e))}static startHighlighting(e,n,{target:a,x:l,y:c}){const{x:f,y:d,width:m,height:y}=a.getBoundingClientRect(),A=new AbortController,b=e.combinedSignal(A),x=T=>{T.preventDefault(),T.stopPropagation()},E=T=>{A.abort(),z(this,on,Hb).call(this,e,T)};window.addEventListener("blur",E,{signal:b}),window.addEventListener("pointerup",E,{signal:b}),window.addEventListener("pointerdown",x,{capture:!0,passive:!1,signal:b}),window.addEventListener("contextmenu",noContextMenu,{signal:b}),a.addEventListener("pointermove",z(this,on,zb).bind(this,e),{signal:b}),this._freeHighlight=new FreeHighlightOutliner({x:l,y:c},[f,d,m,y],e.scale,this._defaultThickness/2,n,.001),{id:this._freeHighlightId,clipPathId:this._freeHighlightClipId}=e.drawLayer.draw(this._freeHighlight,this._defaultColor,this._defaultOpacity,!0)}static async deserialize(e,n,a){var T,k,S,M;let l=null;if(e instanceof HighlightAnnotationElement){const{data:{quadPoints:P,rect:R,rotation:D,id:L,color:G,opacity:q,popupRef:X},parent:{page:{pageNumber:J}}}=e;l=e={annotationType:AnnotationEditorType.HIGHLIGHT,color:Array.from(G),opacity:q,quadPoints:P,boxes:null,pageIndex:J-1,rect:R.slice(0),rotation:D,id:L,deleted:!1,popupRef:X}}else if(e instanceof InkAnnotationElement){const{data:{inkLists:P,rect:R,rotation:D,id:L,color:G,borderStyle:{rawWidth:q},popupRef:X},parent:{page:{pageNumber:J}}}=e;l=e={annotationType:AnnotationEditorType.HIGHLIGHT,color:Array.from(G),thickness:q,inkLists:P,boxes:null,pageIndex:J-1,rect:R.slice(0),rotation:D,id:L,deleted:!1,popupRef:X}}const{color:c,quadPoints:f,inkLists:d,opacity:m}=e,y=await super.deserialize(e,n,a);y.color=Util.makeHexColor(...c),B(y,Os,m||1),d&&B(y,sn,e.thickness),y.annotationElementId=e.id||null,y._initialData=l;const[A,b]=y.pageDimensions,[x,E]=y.pageTranslation;if(f){const P=B(y,Is,[]);for(let R=0;R<f.length;R+=8)P.push({x:(f[R]-x)/A,y:1-(f[R+1]-E)/b,width:(f[R+2]-f[R])/A,height:(f[R+1]-f[R+5])/b});z(T=y,kt,P0).call(T),z(k=y,kt,ba).call(k),y.rotate(y.rotation)}else if(d){B(y,_i,!0);const P=d[0],R={x:P[0]-x,y:b-(P[1]-E)},D=new FreeHighlightOutliner(R,[0,0,A,b],1,g(y,sn)/2,!0,.001);for(let q=0,X=P.length;q<X;q+=2)R.x=P[q]-x,R.y=b-(P[q+1]-E),D.add(R);const{id:L,clipPathId:G}=n.drawLayer.draw(D,y.color,y._defaultOpacity,!0);z(S=y,kt,fd).call(S,{highlightOutlines:D.getOutlines(),highlightId:L,clipPathId:G}),z(M=y,kt,ba).call(M)}return y}serialize(e=!1){if(this.isEmpty()||e)return null;if(this.deleted)return this.serializeDeleted();const n=this.getRect(0,0),a=AnnotationEditor._colorManager.convert(this.color),l={annotationType:AnnotationEditorType.HIGHLIGHT,color:a,opacity:g(this,Os),thickness:g(this,sn),quadPoints:z(this,kt,Bb).call(this),outlines:z(this,kt,Vb).call(this,n),pageIndex:this.pageIndex,rect:n,rotation:z(this,kt,gc).call(this),structTreeParentId:this._structTreeParentId};return this.annotationElementId&&!z(this,kt,Gb).call(this,l)?null:(l.id=this.annotationElementId,l)}renderAnnotationElement(e){return e.updateEdited({rect:this.getRect(0,0)}),null}static canCreateNewEmptyEditor(){return!1}};th=new WeakMap,Ru=new WeakMap,Is=new WeakMap,co=new WeakMap,eh=new WeakMap,nn=new WeakMap,ku=new WeakMap,Fu=new WeakMap,uo=new WeakMap,Pn=new WeakMap,ii=new WeakMap,_i=new WeakMap,ih=new WeakMap,Os=new WeakMap,Re=new WeakMap,nh=new WeakMap,sn=new WeakMap,Du=new WeakMap,kt=new WeakSet,P0=function(){const e=new HighlightOutliner(g(this,Is),.001);B(this,Pn,e.getOutlines()),{x:this.x,y:this.y,width:this.width,height:this.height}=g(this,Pn).box;const n=new HighlightOutliner(g(this,Is),.0025,.001,this._uiManager.direction==="ltr");B(this,nn,n.getOutlines());const{lastPoint:a}=g(this,nn).box;B(this,ih,[(a[0]-this.x)/this.width,(a[1]-this.y)/this.height])},fd=function({highlightOutlines:e,highlightId:n,clipPathId:a}){var A,b;if(B(this,Pn,e),B(this,nn,e.getNewOutline(g(this,sn)/2+1.5,.0025)),n>=0)B(this,ii,n),B(this,co,a),this.parent.drawLayer.finalizeLine(n,e),B(this,Re,this.parent.drawLayer.drawOutline(g(this,nn)));else if(this.parent){const x=this.parent.viewport.rotation;this.parent.drawLayer.updateLine(g(this,ii),e),this.parent.drawLayer.updateBox(g(this,ii),z(A=qt,on,hl).call(A,g(this,Pn).box,(x-this.rotation+360)%360)),this.parent.drawLayer.updateLine(g(this,Re),g(this,nn)),this.parent.drawLayer.updateBox(g(this,Re),z(b=qt,on,hl).call(b,g(this,nn).box,x))}const{x:c,y:f,width:d,height:m}=e.box;switch(this.rotation){case 0:this.x=c,this.y=f,this.width=d,this.height=m;break;case 90:{const[x,E]=this.parentDimensions;this.x=f,this.y=1-c,this.width=d*E/x,this.height=m*x/E;break}case 180:this.x=1-c,this.y=1-f,this.width=d,this.height=m;break;case 270:{const[x,E]=this.parentDimensions;this.x=1-f,this.y=c,this.width=d*E/x,this.height=m*x/E;break}}const{lastPoint:y}=g(this,nn).box;B(this,ih,[(y[0]-c)/d,(y[1]-f)/m])},Lb=function(e){const n=(c,f)=>{var d,m,y;this.color=c,(d=this.parent)==null||d.drawLayer.changeColor(g(this,ii),c),(m=g(this,eh))==null||m.updateColor(c),B(this,Os,f),(y=this.parent)==null||y.drawLayer.changeOpacity(g(this,ii),f)},a=this.color,l=g(this,Os);this.addCommands({cmd:n.bind(this,e,qt._defaultOpacity),undo:n.bind(this,a,l),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:AnnotationEditorParamsType.HIGHLIGHT_COLOR,overwriteIfSameType:!0,keepUndo:!0}),this._reportTelemetry({action:"color_changed",color:this._uiManager.highlightColorNames.get(e)},!0)},Ib=function(e){const n=g(this,sn),a=l=>{B(this,sn,l),z(this,kt,Ob).call(this,l)};this.addCommands({cmd:a.bind(this,e),undo:a.bind(this,n),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:AnnotationEditorParamsType.INK_THICKNESS,overwriteIfSameType:!0,keepUndo:!0}),this._reportTelemetry({action:"thickness_changed",thickness:e},!0)},Ob=function(e){if(!g(this,_i))return;z(this,kt,fd).call(this,{highlightOutlines:g(this,Pn).getNewOutline(e/2)}),this.fixAndSetPosition();const[n,a]=this.parentDimensions;this.setDims(this.width*n,this.height*a)},M0=function(){g(this,ii)===null||!this.parent||(this.parent.drawLayer.remove(g(this,ii)),B(this,ii,null),this.parent.drawLayer.remove(g(this,Re)),B(this,Re,null))},ba=function(e=this.parent){g(this,ii)===null&&({id:li(this,ii)._,clipPathId:li(this,co)._}=e.drawLayer.draw(g(this,Pn),this.color,g(this,Os)),B(this,Re,e.drawLayer.drawOutline(g(this,nn))),g(this,uo)&&(g(this,uo).style.clipPath=g(this,co)))},on=new WeakSet,hl=function({x:e,y:n,width:a,height:l},c){switch(c){case 90:return{x:1-n-l,y:e,width:l,height:a};case 180:return{x:1-e-a,y:1-n-l,width:a,height:l};case 270:return{x:n,y:1-e-a,width:l,height:a}}return{x:e,y:n,width:a,height:l}},Nb=function(e){qt._keyboardManager.exec(this,e)},dd=function(e){if(!g(this,th))return;const n=window.getSelection();e?n.setPosition(g(this,th),g(this,Ru)):n.setPosition(g(this,ku),g(this,Fu))},gc=function(){return g(this,_i)?this.rotation:0},Bb=function(){if(g(this,_i))return null;const[e,n]=this.pageDimensions,[a,l]=this.pageTranslation,c=g(this,Is),f=new Float32Array(c.length*8);let d=0;for(const{x:m,y,width:A,height:b}of c){const x=m*e+a,E=(1-y-b)*n+l;f[d]=f[d+4]=x,f[d+1]=f[d+3]=E,f[d+2]=f[d+6]=x+A*e,f[d+5]=f[d+7]=E+b*n,d+=8}return f},Vb=function(e){return g(this,Pn).serialize(e,z(this,kt,gc).call(this))},zb=function(e,n){this._freeHighlight.add(n)&&e.drawLayer.updatePath(this._freeHighlightId,this._freeHighlight)},Hb=function(e,n){this._freeHighlight.isEmpty()?e.drawLayer.remove(this._freeHighlightId):e.createAndAddNewEditor(n,!1,{highlightId:this._freeHighlightId,highlightOutlines:this._freeHighlight.getOutlines(),clipPathId:this._freeHighlightClipId,methodOfCreation:"main_toolbar"}),this._freeHighlightId=-1,this._freeHighlight=null,this._freeHighlightClipId=""},Gb=function(e){const{color:n}=this._initialData;return e.color.some((a,l)=>a!==n[l])},U(qt,on),Mt(qt,"_defaultColor",null),Mt(qt,"_defaultOpacity",1),Mt(qt,"_defaultThickness",12),Mt(qt,"_type","highlight"),Mt(qt,"_editorType",AnnotationEditorType.HIGHLIGHT),Mt(qt,"_freeHighlightId",-1),Mt(qt,"_freeHighlight",null),Mt(qt,"_freeHighlightClipId","");let HighlightEditor=qt;var fo,po,Yn,Ns,rn,mo,go,yo,Bs,sh,vo,bo,Hr,yt,Ub,jb,qb,$b,R0,Xb,k0,Yb,Wb,Kb,Qb,Zb,_a,F0,D0,L0,pd,md,cl,I0,gd,Xs,Jb,O0,t_,e_,N0,yd,yc;const he=class he extends AnnotationEditor{constructor(e){super({...e,name:"inkEditor"});U(this,yt);U(this,fo,0);U(this,po,0);U(this,Yn,null);U(this,Ns,new Path2D);U(this,rn,!1);U(this,mo,null);U(this,go,!1);U(this,yo,!1);U(this,Bs,null);U(this,sh,null);U(this,vo,0);U(this,bo,0);U(this,Hr,null);this.color=e.color||null,this.thickness=e.thickness||null,this.opacity=e.opacity||null,this.paths=[],this.bezierPath2D=[],this.allRawPaths=[],this.currentPath=[],this.scaleFactor=1,this.translationX=this.translationY=0,this.x=0,this.y=0,this._willKeepAspectRatio=!0}static initialize(e,n){AnnotationEditor.initialize(e,n)}static updateDefaultParams(e,n){switch(e){case AnnotationEditorParamsType.INK_THICKNESS:he._defaultThickness=n;break;case AnnotationEditorParamsType.INK_COLOR:he._defaultColor=n;break;case AnnotationEditorParamsType.INK_OPACITY:he._defaultOpacity=n/100;break}}updateParams(e,n){switch(e){case AnnotationEditorParamsType.INK_THICKNESS:z(this,yt,Ub).call(this,n);break;case AnnotationEditorParamsType.INK_COLOR:z(this,yt,jb).call(this,n);break;case AnnotationEditorParamsType.INK_OPACITY:z(this,yt,qb).call(this,n);break}}static get defaultPropertiesToUpdate(){return[[AnnotationEditorParamsType.INK_THICKNESS,he._defaultThickness],[AnnotationEditorParamsType.INK_COLOR,he._defaultColor||AnnotationEditor._defaultLineColor],[AnnotationEditorParamsType.INK_OPACITY,Math.round(he._defaultOpacity*100)]]}get propertiesToUpdate(){return[[AnnotationEditorParamsType.INK_THICKNESS,this.thickness||he._defaultThickness],[AnnotationEditorParamsType.INK_COLOR,this.color||he._defaultColor||AnnotationEditor._defaultLineColor],[AnnotationEditorParamsType.INK_OPACITY,Math.round(100*(this.opacity??he._defaultOpacity))]]}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(this.canvas||(z(this,yt,pd).call(this),z(this,yt,md).call(this)),this.isAttachedToDOM||(this.parent.add(this),z(this,yt,cl).call(this)),z(this,yt,yc).call(this)))}remove(){var e;this.canvas!==null&&(this.isEmpty()||this.commit(),this.canvas.width=this.canvas.height=0,this.canvas.remove(),this.canvas=null,g(this,Yn)&&(clearTimeout(g(this,Yn)),B(this,Yn,null)),(e=g(this,Bs))==null||e.disconnect(),B(this,Bs,null),super.remove())}setParent(e){!this.parent&&e?this._uiManager.removeShouldRescale(this):this.parent&&e===null&&this._uiManager.addShouldRescale(this),super.setParent(e)}onScaleChanging(){const[e,n]=this.parentDimensions,a=this.width*e,l=this.height*n;this.setDimensions(a,l)}enableEditMode(){g(this,rn)||this.canvas===null||(super.enableEditMode(),this._isDraggable=!1,z(this,yt,F0).call(this))}disableEditMode(){!this.isInEditMode()||this.canvas===null||(super.disableEditMode(),this._isDraggable=!this.isEmpty(),this.div.classList.remove("editing"),z(this,yt,D0).call(this))}onceAdded(){this._isDraggable=!this.isEmpty()}isEmpty(){return this.paths.length===0||this.paths.length===1&&this.paths[0].length===0}commit(){g(this,rn)||(super.commit(),this.isEditing=!1,this.disableEditMode(),this.setInForeground(),B(this,rn,!0),this.div.classList.add("disabled"),z(this,yt,yc).call(this,!0),this.select(),this.parent.addInkEditorIfNeeded(!0),this.moveInDOM(),this.div.focus({preventScroll:!0}))}focusin(e){this._focusEventsAllowed&&(super.focusin(e),this.enableEditMode())}canvasPointerdown(e){e.button!==0||!this.isInEditMode()||g(this,rn)||(this.setInForeground(),e.preventDefault(),this.div.contains(document.activeElement)||this.div.focus({preventScroll:!0}),z(this,yt,Xb).call(this,e.offsetX,e.offsetY))}canvasPointermove(e){e.preventDefault(),z(this,yt,k0).call(this,e.offsetX,e.offsetY)}canvasPointerup(e){e.preventDefault(),z(this,yt,L0).call(this,e)}canvasPointerleave(e){z(this,yt,L0).call(this,e)}get isResizable(){return!this.isEmpty()&&g(this,rn)}render(){if(this.div)return this.div;let e,n;this.width&&(e=this.x,n=this.y),super.render(),this.div.setAttribute("data-l10n-id","pdfjs-ink");const[a,l,c,f]=z(this,yt,$b).call(this);if(this.setAt(a,l,0,0),this.setDims(c,f),z(this,yt,pd).call(this),this.width){const[d,m]=this.parentDimensions;this.setAspectRatio(this.width*d,this.height*m),this.setAt(e*d,n*m,this.width*d,this.height*m),B(this,yo,!0),z(this,yt,cl).call(this),this.setDims(this.width*d,this.height*m),z(this,yt,_a).call(this),this.div.classList.add("disabled")}else this.div.classList.add("editing"),this.enableEditMode();return z(this,yt,md).call(this),this.div}setDimensions(e,n){const a=Math.round(e),l=Math.round(n);if(g(this,vo)===a&&g(this,bo)===l)return;B(this,vo,a),B(this,bo,l),this.canvas.style.visibility="hidden";const[c,f]=this.parentDimensions;this.width=e/c,this.height=n/f,this.fixAndSetPosition(),g(this,rn)&&z(this,yt,I0).call(this,e,n),z(this,yt,cl).call(this),z(this,yt,_a).call(this),this.canvas.style.visibility="visible",this.fixDims()}static async deserialize(e,n,a){var k,S,M;if(e instanceof InkAnnotationElement)return null;const l=await super.deserialize(e,n,a);l.thickness=e.thickness,l.color=Util.makeHexColor(...e.color),l.opacity=e.opacity;const[c,f]=l.pageDimensions,d=l.width*c,m=l.height*f,y=l.parentScale,A=e.thickness/2;B(l,rn,!0),B(l,vo,Math.round(d)),B(l,bo,Math.round(m));const{paths:b,rect:x,rotation:E}=e;for(let{bezier:P}of b){P=z(k=he,Xs,t_).call(k,P,x,E);const R=[];l.paths.push(R);let D=y*(P[0]-A),L=y*(P[1]-A);for(let q=2,X=P.length;q<X;q+=6){const J=y*(P[q]-A),et=y*(P[q+1]-A),it=y*(P[q+2]-A),lt=y*(P[q+3]-A),tt=y*(P[q+4]-A),W=y*(P[q+5]-A);R.push([[D,L],[J,et],[it,lt],[tt,W]]),D=tt,L=W}const G=z(this,Xs,Jb).call(this,R);l.bezierPath2D.push(G)}const T=z(S=l,yt,N0).call(S);return B(l,po,Math.max(AnnotationEditor.MIN_SIZE,T[2]-T[0])),B(l,fo,Math.max(AnnotationEditor.MIN_SIZE,T[3]-T[1])),z(M=l,yt,I0).call(M,d,m),l}serialize(){if(this.isEmpty())return null;const e=this.getRect(0,0),n=AnnotationEditor._colorManager.convert(this.ctx.strokeStyle);return{annotationType:AnnotationEditorType.INK,color:n,thickness:this.thickness,opacity:this.opacity,paths:z(this,yt,e_).call(this,this.scaleFactor/this.parentScale,this.translationX,this.translationY,e),pageIndex:this.pageIndex,rect:e,rotation:this.rotation,structTreeParentId:this._structTreeParentId}}};fo=new WeakMap,po=new WeakMap,Yn=new WeakMap,Ns=new WeakMap,rn=new WeakMap,mo=new WeakMap,go=new WeakMap,yo=new WeakMap,Bs=new WeakMap,sh=new WeakMap,vo=new WeakMap,bo=new WeakMap,Hr=new WeakMap,yt=new WeakSet,Ub=function(e){const n=l=>{this.thickness=l,z(this,yt,yc).call(this)},a=this.thickness;this.addCommands({cmd:n.bind(this,e),undo:n.bind(this,a),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:AnnotationEditorParamsType.INK_THICKNESS,overwriteIfSameType:!0,keepUndo:!0})},jb=function(e){const n=l=>{this.color=l,z(this,yt,_a).call(this)},a=this.color;this.addCommands({cmd:n.bind(this,e),undo:n.bind(this,a),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:AnnotationEditorParamsType.INK_COLOR,overwriteIfSameType:!0,keepUndo:!0})},qb=function(e){const n=l=>{this.opacity=l,z(this,yt,_a).call(this)};e/=100;const a=this.opacity;this.addCommands({cmd:n.bind(this,e),undo:n.bind(this,a),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:AnnotationEditorParamsType.INK_OPACITY,overwriteIfSameType:!0,keepUndo:!0})},$b=function(){const{parentRotation:e,parentDimensions:[n,a]}=this;switch(e){case 90:return[0,a,a,n];case 180:return[n,a,n,a];case 270:return[n,0,a,n];default:return[0,0,n,a]}},R0=function(){const{ctx:e,color:n,opacity:a,thickness:l,parentScale:c,scaleFactor:f}=this;e.lineWidth=l*c/f,e.lineCap="round",e.lineJoin="round",e.miterLimit=10,e.strokeStyle=`${n}${opacityToHex(a)}`},Xb=function(e,n){this.canvas.addEventListener("contextmenu",noContextMenu,{signal:this._uiManager._signal}),z(this,yt,D0).call(this),B(this,mo,new AbortController);const a=this._uiManager.combinedSignal(g(this,mo));this.canvas.addEventListener("pointerleave",this.canvasPointerleave.bind(this),{signal:a}),this.canvas.addEventListener("pointermove",this.canvasPointermove.bind(this),{signal:a}),this.canvas.addEventListener("pointerup",this.canvasPointerup.bind(this),{signal:a}),this.isEditing=!0,g(this,yo)||(B(this,yo,!0),z(this,yt,cl).call(this),this.thickness||(this.thickness=he._defaultThickness),this.color||(this.color=he._defaultColor||AnnotationEditor._defaultLineColor),this.opacity??(this.opacity=he._defaultOpacity)),this.currentPath.push([e,n]),B(this,go,!1),z(this,yt,R0).call(this),B(this,Hr,()=>{z(this,yt,Kb).call(this),g(this,Hr)&&window.requestAnimationFrame(g(this,Hr))}),window.requestAnimationFrame(g(this,Hr))},k0=function(e,n){const[a,l]=this.currentPath.at(-1);if(this.currentPath.length>1&&e===a&&n===l)return;const c=this.currentPath;let f=g(this,Ns);if(c.push([e,n]),B(this,go,!0),c.length<=2){f.moveTo(...c[0]),f.lineTo(e,n);return}c.length===3&&(B(this,Ns,f=new Path2D),f.moveTo(...c[0])),z(this,yt,Qb).call(this,f,...c.at(-3),...c.at(-2),e,n)},Yb=function(){if(this.currentPath.length===0)return;const e=this.currentPath.at(-1);g(this,Ns).lineTo(...e)},Wb=function(e,n){B(this,Hr,null),e=Math.min(Math.max(e,0),this.canvas.width),n=Math.min(Math.max(n,0),this.canvas.height),z(this,yt,k0).call(this,e,n),z(this,yt,Yb).call(this);let a;if(this.currentPath.length!==1)a=z(this,yt,Zb).call(this);else{const m=[e,n];a=[[m,m.slice(),m.slice(),m]]}const l=g(this,Ns),c=this.currentPath;this.currentPath=[],B(this,Ns,new Path2D);const f=()=>{this.allRawPaths.push(c),this.paths.push(a),this.bezierPath2D.push(l),this._uiManager.rebuild(this)},d=()=>{this.allRawPaths.pop(),this.paths.pop(),this.bezierPath2D.pop(),this.paths.length===0?this.remove():(this.canvas||(z(this,yt,pd).call(this),z(this,yt,md).call(this)),z(this,yt,yc).call(this))};this.addCommands({cmd:f,undo:d,mustExec:!0})},Kb=function(){if(!g(this,go))return;B(this,go,!1);const e=Math.ceil(this.thickness*this.parentScale),n=this.currentPath.slice(-3),a=n.map(f=>f[0]),l=n.map(f=>f[1]);Math.min(...a)-e,Math.max(...a)+e,Math.min(...l)-e,Math.max(...l)+e;const{ctx:c}=this;c.save(),c.clearRect(0,0,this.canvas.width,this.canvas.height);for(const f of this.bezierPath2D)c.stroke(f);c.stroke(g(this,Ns)),c.restore()},Qb=function(e,n,a,l,c,f,d){const m=(n+l)/2,y=(a+c)/2,A=(l+f)/2,b=(c+d)/2;e.bezierCurveTo(m+2*(l-m)/3,y+2*(c-y)/3,A+2*(l-A)/3,b+2*(c-b)/3,A,b)},Zb=function(){const e=this.currentPath;if(e.length<=2)return[[e[0],e[0],e.at(-1),e.at(-1)]];const n=[];let a,[l,c]=e[0];for(a=1;a<e.length-2;a++){const[x,E]=e[a],[T,k]=e[a+1],S=(x+T)/2,M=(E+k)/2,P=[l+2*(x-l)/3,c+2*(E-c)/3],R=[S+2*(x-S)/3,M+2*(E-M)/3];n.push([[l,c],P,R,[S,M]]),[l,c]=[S,M]}const[f,d]=e[a],[m,y]=e[a+1],A=[l+2*(f-l)/3,c+2*(d-c)/3],b=[m+2*(f-m)/3,y+2*(d-y)/3];return n.push([[l,c],A,b,[m,y]]),n},_a=function(){if(this.isEmpty()){z(this,yt,gd).call(this);return}z(this,yt,R0).call(this);const{canvas:e,ctx:n}=this;n.setTransform(1,0,0,1,0,0),n.clearRect(0,0,e.width,e.height),z(this,yt,gd).call(this);for(const a of this.bezierPath2D)n.stroke(a)},F0=function(){if(g(this,sh))return;B(this,sh,new AbortController);const e=this._uiManager.combinedSignal(g(this,sh));this.canvas.addEventListener("pointerdown",this.canvasPointerdown.bind(this),{signal:e})},D0=function(){var e;(e=this.pointerdownAC)==null||e.abort(),this.pointerdownAC=null},L0=function(e){var n;(n=g(this,mo))==null||n.abort(),B(this,mo,null),z(this,yt,F0).call(this),g(this,Yn)&&clearTimeout(g(this,Yn)),B(this,Yn,setTimeout(()=>{B(this,Yn,null),this.canvas.removeEventListener("contextmenu",noContextMenu)},10)),z(this,yt,Wb).call(this,e.offsetX,e.offsetY),this.addToAnnotationStorage(),this.setInBackground()},pd=function(){this.canvas=document.createElement("canvas"),this.canvas.width=this.canvas.height=0,this.canvas.className="inkEditorCanvas",this.canvas.setAttribute("data-l10n-id","pdfjs-ink-canvas"),this.div.append(this.canvas),this.ctx=this.canvas.getContext("2d")},md=function(){B(this,Bs,new ResizeObserver(e=>{const n=e[0].contentRect;n.width&&n.height&&this.setDimensions(n.width,n.height)})),g(this,Bs).observe(this.div),this._uiManager._signal.addEventListener("abort",()=>{var e;(e=g(this,Bs))==null||e.disconnect(),B(this,Bs,null)},{once:!0})},cl=function(){if(!g(this,yo))return;const[e,n]=this.parentDimensions;this.canvas.width=Math.ceil(this.width*e),this.canvas.height=Math.ceil(this.height*n),z(this,yt,gd).call(this)},I0=function(e,n){const a=z(this,yt,yd).call(this),l=(e-a)/g(this,po),c=(n-a)/g(this,fo);this.scaleFactor=Math.min(l,c)},gd=function(){const e=z(this,yt,yd).call(this)/2;this.ctx.setTransform(this.scaleFactor,0,0,this.scaleFactor,this.translationX*this.scaleFactor+e,this.translationY*this.scaleFactor+e)},Xs=new WeakSet,Jb=function(e){const n=new Path2D;for(let a=0,l=e.length;a<l;a++){const[c,f,d,m]=e[a];a===0&&n.moveTo(...c),n.bezierCurveTo(f[0],f[1],d[0],d[1],m[0],m[1])}return n},O0=function(e,n,a){const[l,c,f,d]=n;switch(a){case 0:for(let m=0,y=e.length;m<y;m+=2)e[m]+=l,e[m+1]=d-e[m+1];break;case 90:for(let m=0,y=e.length;m<y;m+=2){const A=e[m];e[m]=e[m+1]+l,e[m+1]=A+c}break;case 180:for(let m=0,y=e.length;m<y;m+=2)e[m]=f-e[m],e[m+1]+=c;break;case 270:for(let m=0,y=e.length;m<y;m+=2){const A=e[m];e[m]=f-e[m+1],e[m+1]=d-A}break;default:throw new Error("Invalid rotation")}return e},t_=function(e,n,a){const[l,c,f,d]=n;switch(a){case 0:for(let m=0,y=e.length;m<y;m+=2)e[m]-=l,e[m+1]=d-e[m+1];break;case 90:for(let m=0,y=e.length;m<y;m+=2){const A=e[m];e[m]=e[m+1]-c,e[m+1]=A-l}break;case 180:for(let m=0,y=e.length;m<y;m+=2)e[m]=f-e[m],e[m+1]-=c;break;case 270:for(let m=0,y=e.length;m<y;m+=2){const A=e[m];e[m]=d-e[m+1],e[m+1]=f-A}break;default:throw new Error("Invalid rotation")}return e},e_=function(e,n,a,l){var y,A;const c=[],f=this.thickness/2,d=e*n+f,m=e*a+f;for(const b of this.paths){const x=[],E=[];for(let T=0,k=b.length;T<k;T++){const[S,M,P,R]=b[T];if(S[0]===R[0]&&S[1]===R[1]&&k===1){const lt=e*S[0]+d,tt=e*S[1]+m;x.push(lt,tt),E.push(lt,tt);break}const D=e*S[0]+d,L=e*S[1]+m,G=e*M[0]+d,q=e*M[1]+m,X=e*P[0]+d,J=e*P[1]+m,et=e*R[0]+d,it=e*R[1]+m;T===0&&(x.push(D,L),E.push(D,L)),x.push(G,q,X,J,et,it),E.push(G,q),T===k-1&&E.push(et,it)}c.push({bezier:z(y=he,Xs,O0).call(y,x,l,this.rotation),points:z(A=he,Xs,O0).call(A,E,l,this.rotation)})}return c},N0=function(){let e=1/0,n=-1/0,a=1/0,l=-1/0;for(const c of this.paths)for(const[f,d,m,y]of c){const A=Util.bezierBoundingBox(...f,...d,...m,...y);e=Math.min(e,A[0]),a=Math.min(a,A[1]),n=Math.max(n,A[2]),l=Math.max(l,A[3])}return[e,a,n,l]},yd=function(){return g(this,rn)?Math.ceil(this.thickness*this.parentScale):0},yc=function(e=!1){if(this.isEmpty())return;if(!g(this,rn)){z(this,yt,_a).call(this);return}const n=z(this,yt,N0).call(this),a=z(this,yt,yd).call(this);B(this,po,Math.max(AnnotationEditor.MIN_SIZE,n[2]-n[0])),B(this,fo,Math.max(AnnotationEditor.MIN_SIZE,n[3]-n[1]));const l=Math.ceil(a+g(this,po)*this.scaleFactor),c=Math.ceil(a+g(this,fo)*this.scaleFactor),[f,d]=this.parentDimensions;this.width=l/f,this.height=c/d,this.setAspectRatio(l,c);const m=this.translationX,y=this.translationY;this.translationX=-n[0],this.translationY=-n[1],z(this,yt,cl).call(this),z(this,yt,_a).call(this),B(this,vo,l),B(this,bo,c),this.setDims(l,c);const A=e?a/this.scaleFactor/2:0;this.translate(m-this.translationX-A,y-this.translationY-A)},U(he,Xs),Mt(he,"_defaultColor",null),Mt(he,"_defaultOpacity",1),Mt(he,"_defaultThickness",1),Mt(he,"_type","ink"),Mt(he,"_editorType",AnnotationEditorType.INK);let InkEditor=he;var ue,Ye,Gr,Vs,Ur,rh,Wn,zs,Kn,Ii,ah,Nt,vc,bc,vd,B0,i_,bd,V0,_d,n_,s_;const _c=class _c extends AnnotationEditor{constructor(e){super({...e,name:"stampEditor"});U(this,Nt);U(this,ue,null);U(this,Ye,null);U(this,Gr,null);U(this,Vs,null);U(this,Ur,null);U(this,rh,"");U(this,Wn,null);U(this,zs,null);U(this,Kn,null);U(this,Ii,!1);U(this,ah,!1);B(this,Vs,e.bitmapUrl),B(this,Ur,e.bitmapFile)}static initialize(e,n){AnnotationEditor.initialize(e,n)}static get supportedTypes(){return shadow(this,"supportedTypes",["apng","avif","bmp","gif","jpeg","png","svg+xml","webp","x-icon"].map(n=>`image/${n}`))}static get supportedTypesStr(){return shadow(this,"supportedTypesStr",this.supportedTypes.join(","))}static isHandlingMimeForPasting(e){return this.supportedTypes.includes(e)}static paste(e,n){n.pasteEditor(AnnotationEditorType.STAMP,{bitmapFile:e.getAsFile()})}altTextFinish(){this._uiManager.useNewAltTextFlow&&(this.div.hidden=!1),super.altTextFinish()}get telemetryFinalData(){var e;return{type:"stamp",hasAltText:!!((e=this.altTextData)!=null&&e.altText)}}static computeTelemetryFinalData(e){const n=e.get("hasAltText");return{hasAltText:n.get(!0)??0,hasNoAltText:n.get(!1)??0}}async mlGuessAltText(e=null,n=!0){if(this.hasAltTextData())return null;const{mlManager:a}=this._uiManager;if(!a)throw new Error("No ML.");if(!await a.isEnabledFor("altText"))throw new Error("ML isn't enabled for alt text.");const{data:l,width:c,height:f}=e||this.copyCanvas(null,null,!0).imageData,d=await a.guess({name:"altText",request:{data:l,width:c,height:f,channels:l.length/(c*f)}});if(!d)throw new Error("No response from the AI service.");if(d.error)throw new Error("Error from the AI service.");if(d.cancel)return null;if(!d.output)throw new Error("No valid response from the AI service.");const m=d.output;return await this.setGuessedAltText(m),n&&!this.hasAltTextData()&&(this.altTextData={alt:m,decorative:!1}),m}remove(){var e,n;g(this,Ye)&&(B(this,ue,null),this._uiManager.imageManager.deleteId(g(this,Ye)),(e=g(this,Wn))==null||e.remove(),B(this,Wn,null),(n=g(this,zs))==null||n.disconnect(),B(this,zs,null),g(this,Kn)&&(clearTimeout(g(this,Kn)),B(this,Kn,null))),super.remove()}rebuild(){if(!this.parent){g(this,Ye)&&z(this,Nt,vd).call(this);return}super.rebuild(),this.div!==null&&(g(this,Ye)&&g(this,Wn)===null&&z(this,Nt,vd).call(this),this.isAttachedToDOM||this.parent.add(this))}onceAdded(){this._isDraggable=!0,this.div.focus()}isEmpty(){return!(g(this,Gr)||g(this,ue)||g(this,Vs)||g(this,Ur)||g(this,Ye))}get isResizable(){return!0}render(){if(this.div)return this.div;let e,n;if(this.width&&(e=this.x,n=this.y),super.render(),this.div.hidden=!0,this.div.setAttribute("role","figure"),this.addAltTextButton(),g(this,ue)?z(this,Nt,B0).call(this):z(this,Nt,vd).call(this),this.width&&!this.annotationElementId){const[a,l]=this.parentDimensions;this.setAt(e*a,n*l,this.width*a,this.height*l)}return this.div}copyCanvas(e,n,a=!1){var x;e||(e=224);const{width:l,height:c}=g(this,ue),f=new OutputScale;let d=g(this,ue),m=l,y=c,A=null;if(n){if(l>n||c>n){const q=Math.min(n/l,n/c);m=Math.floor(l*q),y=Math.floor(c*q)}A=document.createElement("canvas");const E=A.width=Math.ceil(m*f.sx),T=A.height=Math.ceil(y*f.sy);g(this,Ii)||(d=z(this,Nt,bd).call(this,E,T));const k=A.getContext("2d");k.filter=this._uiManager.hcmFilter;let S="white",M="#cfcfd8";this._uiManager.hcmFilter!=="none"?M="black":(x=window.matchMedia)!=null&&x.call(window,"(prefers-color-scheme: dark)").matches&&(S="#8f8f9d",M="#42414d");const P=15,R=P*f.sx,D=P*f.sy,L=new OffscreenCanvas(R*2,D*2),G=L.getContext("2d");G.fillStyle=S,G.fillRect(0,0,R*2,D*2),G.fillStyle=M,G.fillRect(0,0,R,D),G.fillRect(R,D,R,D),k.fillStyle=k.createPattern(L,"repeat"),k.fillRect(0,0,E,T),k.drawImage(d,0,0,d.width,d.height,0,0,E,T)}let b=null;if(a){let E,T;if(f.symmetric&&d.width<e&&d.height<e)E=d.width,T=d.height;else if(d=g(this,ue),l>e||c>e){const M=Math.min(e/l,e/c);E=Math.floor(l*M),T=Math.floor(c*M),g(this,Ii)||(d=z(this,Nt,bd).call(this,E,T))}const S=new OffscreenCanvas(E,T).getContext("2d",{willReadFrequently:!0});S.drawImage(d,0,0,d.width,d.height,0,0,E,T),b={width:E,height:T,data:S.getImageData(0,0,E,T).data}}return{canvas:A,width:m,height:y,imageData:b}}getImageForAltText(){return g(this,Wn)}static async deserialize(e,n,a){var T;let l=null;if(e instanceof StampAnnotationElement){const{data:{rect:k,rotation:S,id:M,structParent:P,popupRef:R},container:D,parent:{page:{pageNumber:L}}}=e,G=D.querySelector("canvas"),q=a.imageManager.getFromCanvas(D.id,G);G.remove();const X=((T=await n._structTree.getAriaAttributes(`${AnnotationPrefix}${M}`))==null?void 0:T.get("aria-label"))||"";l=e={annotationType:AnnotationEditorType.STAMP,bitmapId:q.id,bitmap:q.bitmap,pageIndex:L-1,rect:k.slice(0),rotation:S,id:M,deleted:!1,accessibilityData:{decorative:!1,altText:X},isSvg:!1,structParent:P,popupRef:R}}const c=await super.deserialize(e,n,a),{rect:f,bitmap:d,bitmapUrl:m,bitmapId:y,isSvg:A,accessibilityData:b}=e;y&&a.imageManager.isValidId(y)?(B(c,Ye,y),d&&B(c,ue,d)):B(c,Vs,m),B(c,Ii,A);const[x,E]=c.pageDimensions;return c.width=(f[2]-f[0])/x,c.height=(f[3]-f[1])/E,c.annotationElementId=e.id||null,b&&(c.altTextData=b),c._initialData=l,B(c,ah,!!l),c}serialize(e=!1,n=null){if(this.isEmpty())return null;if(this.deleted)return this.serializeDeleted();const a={annotationType:AnnotationEditorType.STAMP,bitmapId:g(this,Ye),pageIndex:this.pageIndex,rect:this.getRect(0,0),rotation:this.rotation,isSvg:g(this,Ii),structTreeParentId:this._structTreeParentId};if(e)return a.bitmapUrl=z(this,Nt,_d).call(this,!0),a.accessibilityData=this.serializeAltText(!0),a;const{decorative:l,altText:c}=this.serializeAltText(!1);if(!l&&c&&(a.accessibilityData={type:"Figure",alt:c}),this.annotationElementId){const d=z(this,Nt,s_).call(this,a);if(d.isSame)return null;d.isSameAltText?delete a.accessibilityData:a.accessibilityData.structParent=this._initialData.structParent??-1}if(a.id=this.annotationElementId,n===null)return a;n.stamps||(n.stamps=new Map);const f=g(this,Ii)?(a.rect[2]-a.rect[0])*(a.rect[3]-a.rect[1]):null;if(!n.stamps.has(g(this,Ye)))n.stamps.set(g(this,Ye),{area:f,serialized:a}),a.bitmap=z(this,Nt,_d).call(this,!1);else if(g(this,Ii)){const d=n.stamps.get(g(this,Ye));f>d.area&&(d.area=f,d.serialized.bitmap.close(),d.serialized.bitmap=z(this,Nt,_d).call(this,!1))}return a}renderAnnotationElement(e){return e.updateEdited({rect:this.getRect(0,0)}),null}};ue=new WeakMap,Ye=new WeakMap,Gr=new WeakMap,Vs=new WeakMap,Ur=new WeakMap,rh=new WeakMap,Wn=new WeakMap,zs=new WeakMap,Kn=new WeakMap,Ii=new WeakMap,ah=new WeakMap,Nt=new WeakSet,vc=function(e,n=!1){if(!e){this.remove();return}B(this,ue,e.bitmap),n||(B(this,Ye,e.id),B(this,Ii,e.isSvg)),e.file&&B(this,rh,e.file.name),z(this,Nt,B0).call(this)},bc=function(){if(B(this,Gr,null),this._uiManager.enableWaiting(!1),!!g(this,Wn)){if(this._uiManager.useNewAltTextWhenAddingImage&&this._uiManager.useNewAltTextFlow&&g(this,ue)){this._editToolbar.hide(),this._uiManager.editAltText(this,!0);return}if(!this._uiManager.useNewAltTextWhenAddingImage&&this._uiManager.useNewAltTextFlow&&g(this,ue)){this._reportTelemetry({action:"pdfjs.image.image_added",data:{alt_text_modal:!1,alt_text_type:"empty"}});try{this.mlGuessAltText()}catch{}}this.div.focus()}},vd=function(){if(g(this,Ye)){this._uiManager.enableWaiting(!0),this._uiManager.imageManager.getFromId(g(this,Ye)).then(a=>z(this,Nt,vc).call(this,a,!0)).finally(()=>z(this,Nt,bc).call(this));return}if(g(this,Vs)){const a=g(this,Vs);B(this,Vs,null),this._uiManager.enableWaiting(!0),B(this,Gr,this._uiManager.imageManager.getFromUrl(a).then(l=>z(this,Nt,vc).call(this,l)).finally(()=>z(this,Nt,bc).call(this)));return}if(g(this,Ur)){const a=g(this,Ur);B(this,Ur,null),this._uiManager.enableWaiting(!0),B(this,Gr,this._uiManager.imageManager.getFromFile(a).then(l=>z(this,Nt,vc).call(this,l)).finally(()=>z(this,Nt,bc).call(this)));return}const e=document.createElement("input");e.type="file",e.accept=_c.supportedTypesStr;const n=this._uiManager._signal;B(this,Gr,new Promise(a=>{e.addEventListener("change",async()=>{if(!e.files||e.files.length===0)this.remove();else{this._uiManager.enableWaiting(!0);const l=await this._uiManager.imageManager.getFromFile(e.files[0]);this._reportTelemetry({action:"pdfjs.image.image_selected",data:{alt_text_modal:this._uiManager.useNewAltTextFlow}}),z(this,Nt,vc).call(this,l)}a()},{signal:n}),e.addEventListener("cancel",()=>{this.remove(),a()},{signal:n})}).finally(()=>z(this,Nt,bc).call(this))),e.click()},B0=function(){const{div:e}=this;let{width:n,height:a}=g(this,ue);const[l,c]=this.pageDimensions,f=.75;if(this.width)n=this.width*l,a=this.height*c;else if(n>f*l||a>f*c){const A=Math.min(f*l/n,f*c/a);n*=A,a*=A}const[d,m]=this.parentDimensions;this.setDims(n*d/l,a*m/c),this._uiManager.enableWaiting(!1);const y=B(this,Wn,document.createElement("canvas"));y.setAttribute("role","img"),this.addContainer(y),(!this._uiManager.useNewAltTextWhenAddingImage||!this._uiManager.useNewAltTextFlow||this.annotationElementId)&&(e.hidden=!1),z(this,Nt,V0).call(this,n,a),z(this,Nt,n_).call(this),g(this,ah)||(this.parent.addUndoableEditor(this),B(this,ah,!0)),this._reportTelemetry({action:"inserted_image"}),g(this,rh)&&y.setAttribute("aria-label",g(this,rh))},i_=function(e,n){var f;const[a,l]=this.parentDimensions;this.width=e/a,this.height=n/l,(f=this._initialOptions)!=null&&f.isCentered?this.center():this.fixAndSetPosition(),this._initialOptions=null,g(this,Kn)!==null&&clearTimeout(g(this,Kn)),B(this,Kn,setTimeout(()=>{B(this,Kn,null),z(this,Nt,V0).call(this,e,n)},200))},bd=function(e,n){const{width:a,height:l}=g(this,ue);let c=a,f=l,d=g(this,ue);for(;c>2*e||f>2*n;){const m=c,y=f;c>2*e&&(c=c>=16384?Math.floor(c/2)-1:Math.ceil(c/2)),f>2*n&&(f=f>=16384?Math.floor(f/2)-1:Math.ceil(f/2));const A=new OffscreenCanvas(c,f);A.getContext("2d").drawImage(d,0,0,m,y,0,0,c,f),d=A.transferToImageBitmap()}return d},V0=function(e,n){const a=new OutputScale,l=Math.ceil(e*a.sx),c=Math.ceil(n*a.sy),f=g(this,Wn);if(!f||f.width===l&&f.height===c)return;f.width=l,f.height=c;const d=g(this,Ii)?g(this,ue):z(this,Nt,bd).call(this,l,c),m=f.getContext("2d");m.filter=this._uiManager.hcmFilter,m.drawImage(d,0,0,d.width,d.height,0,0,l,c)},_d=function(e){if(e){if(g(this,Ii)){const l=this._uiManager.imageManager.getSvgUrl(g(this,Ye));if(l)return l}const n=document.createElement("canvas");return{width:n.width,height:n.height}=g(this,ue),n.getContext("2d").drawImage(g(this,ue),0,0),n.toDataURL()}if(g(this,Ii)){const[n,a]=this.pageDimensions,l=Math.round(this.width*n*PixelsPerInch.PDF_TO_CSS_UNITS),c=Math.round(this.height*a*PixelsPerInch.PDF_TO_CSS_UNITS),f=new OffscreenCanvas(l,c);return f.getContext("2d").drawImage(g(this,ue),0,0,g(this,ue).width,g(this,ue).height,0,0,l,c),f.transferToImageBitmap()}return structuredClone(g(this,ue))},n_=function(){this._uiManager._signal&&(B(this,zs,new ResizeObserver(e=>{const n=e[0].contentRect;n.width&&n.height&&z(this,Nt,i_).call(this,n.width,n.height)})),g(this,zs).observe(this.div),this._uiManager._signal.addEventListener("abort",()=>{var e;(e=g(this,zs))==null||e.disconnect(),B(this,zs,null)},{once:!0}))},s_=function(e){var m;const{rect:n,pageIndex:a,accessibilityData:{altText:l}}=this._initialData,c=e.rect.every((y,A)=>Math.abs(y-n[A])<1),f=e.pageIndex===a,d=(((m=e.accessibilityData)==null?void 0:m.alt)||"")===l;return{isSame:c&&f&&d,isSameAltText:d}},Mt(_c,"_type","stamp"),Mt(_c,"_editorType",AnnotationEditorType.STAMP);let StampEditor=_c;var _o,oh,Qn,jr,Hs,Oi,qr,lh,hh,ni,Gs,wt,$r,We,r_,z0,H0,G0,Ad;const mn=class mn{constructor({uiManager:t,pageIndex:e,div:n,structTreeLayer:a,accessibilityManager:l,annotationLayer:c,drawLayer:f,textLayer:d,viewport:m,l10n:y}){U(this,We);U(this,_o);U(this,oh,!1);U(this,Qn,null);U(this,jr,null);U(this,Hs,null);U(this,Oi,new Map);U(this,qr,!1);U(this,lh,!1);U(this,hh,!1);U(this,ni,null);U(this,Gs,null);U(this,wt);const A=[...g(mn,$r).values()];if(!mn._initialized){mn._initialized=!0;for(const b of A)b.initialize(y,t)}t.registerEditorTypes(A),B(this,wt,t),this.pageIndex=e,this.div=n,B(this,_o,l),B(this,Qn,c),this.viewport=m,B(this,ni,d),this.drawLayer=f,this._structTree=a,g(this,wt).addLayer(this)}get isEmpty(){return g(this,Oi).size===0}get isInvisible(){return this.isEmpty&&g(this,wt).getMode()===AnnotationEditorType.NONE}updateToolbar(t){g(this,wt).updateToolbar(t)}updateMode(t=g(this,wt).getMode()){switch(z(this,We,Ad).call(this),t){case AnnotationEditorType.NONE:this.disableTextSelection(),this.togglePointerEvents(!1),this.toggleAnnotationLayerPointerEvents(!0),this.disableClick();return;case AnnotationEditorType.INK:this.addInkEditorIfNeeded(!1),this.disableTextSelection(),this.togglePointerEvents(!0),this.disableClick();break;case AnnotationEditorType.HIGHLIGHT:this.enableTextSelection(),this.togglePointerEvents(!1),this.disableClick();break;default:this.disableTextSelection(),this.togglePointerEvents(!0),this.enableClick()}this.toggleAnnotationLayerPointerEvents(!1);const{classList:e}=this.div;for(const n of g(mn,$r).values())e.toggle(`${n._type}Editing`,t===n._editorType);this.div.hidden=!1}hasTextLayer(t){var e;return t===((e=g(this,ni))==null?void 0:e.div)}addInkEditorIfNeeded(t){if(g(this,wt).getMode()!==AnnotationEditorType.INK)return;if(!t){for(const n of g(this,Oi).values())if(n.isEmpty()){n.setInBackground();return}}this.createAndAddNewEditor({offsetX:0,offsetY:0},!1).setInBackground()}setEditingState(t){g(this,wt).setEditingState(t)}addCommands(t){g(this,wt).addCommands(t)}toggleDrawing(t=!1){this.div.classList.toggle("drawing",!t)}togglePointerEvents(t=!1){this.div.classList.toggle("disabled",!t)}toggleAnnotationLayerPointerEvents(t=!1){var e;(e=g(this,Qn))==null||e.div.classList.toggle("disabled",!t)}async enable(){this.div.tabIndex=0,this.togglePointerEvents(!0);const t=new Set;for(const n of g(this,Oi).values())n.enableEditing(),n.show(!0),n.annotationElementId&&(g(this,wt).removeChangedExistingAnnotation(n),t.add(n.annotationElementId));if(!g(this,Qn))return;const e=g(this,Qn).getEditableAnnotations();for(const n of e){if(n.hide(),g(this,wt).isDeletedAnnotationElement(n.data.id)||t.has(n.data.id))continue;const a=await this.deserialize(n);a&&(this.addOrRebuild(a),a.enableEditing())}}disable(){var a;B(this,hh,!0),this.div.tabIndex=-1,this.togglePointerEvents(!1);const t=new Map,e=new Map;for(const l of g(this,Oi).values())if(l.disableEditing(),!!l.annotationElementId){if(l.serialize()!==null){t.set(l.annotationElementId,l);continue}else e.set(l.annotationElementId,l);(a=this.getEditableAnnotation(l.annotationElementId))==null||a.show(),l.remove()}if(g(this,Qn)){const l=g(this,Qn).getEditableAnnotations();for(const c of l){const{id:f}=c.data;if(g(this,wt).isDeletedAnnotationElement(f))continue;let d=e.get(f);if(d){d.resetAnnotationElement(c),d.show(!1),c.show();continue}d=t.get(f),d&&(g(this,wt).addChangedExistingAnnotation(d),d.renderAnnotationElement(c)&&d.show(!1)),c.show()}}z(this,We,Ad).call(this),this.isEmpty&&(this.div.hidden=!0);const{classList:n}=this.div;for(const l of g(mn,$r).values())n.remove(`${l._type}Editing`);this.disableTextSelection(),this.toggleAnnotationLayerPointerEvents(!0),B(this,hh,!1)}getEditableAnnotation(t){var e;return((e=g(this,Qn))==null?void 0:e.getEditableAnnotation(t))||null}setActiveEditor(t){g(this,wt).getActive()!==t&&g(this,wt).setActiveEditor(t)}enableTextSelection(){var t;if(this.div.tabIndex=-1,(t=g(this,ni))!=null&&t.div&&!g(this,Gs)){B(this,Gs,new AbortController);const e=g(this,wt).combinedSignal(g(this,Gs));g(this,ni).div.addEventListener("pointerdown",z(this,We,r_).bind(this),{signal:e}),g(this,ni).div.classList.add("highlighting")}}disableTextSelection(){var t;this.div.tabIndex=0,(t=g(this,ni))!=null&&t.div&&g(this,Gs)&&(g(this,Gs).abort(),B(this,Gs,null),g(this,ni).div.classList.remove("highlighting"))}enableClick(){if(g(this,jr))return;B(this,jr,new AbortController);const t=g(this,wt).combinedSignal(g(this,jr));this.div.addEventListener("pointerdown",this.pointerdown.bind(this),{signal:t}),this.div.addEventListener("pointerup",this.pointerup.bind(this),{signal:t})}disableClick(){var t;(t=g(this,jr))==null||t.abort(),B(this,jr,null)}attach(t){g(this,Oi).set(t.id,t);const{annotationElementId:e}=t;e&&g(this,wt).isDeletedAnnotationElement(e)&&g(this,wt).removeDeletedAnnotationElement(t)}detach(t){var e;g(this,Oi).delete(t.id),(e=g(this,_o))==null||e.removePointerInTextLayer(t.contentDiv),!g(this,hh)&&t.annotationElementId&&g(this,wt).addDeletedAnnotationElement(t)}remove(t){this.detach(t),g(this,wt).removeEditor(t),t.div.remove(),t.isAttachedToDOM=!1,g(this,lh)||this.addInkEditorIfNeeded(!1)}changeParent(t){var e;t.parent!==this&&(t.parent&&t.annotationElementId&&(g(this,wt).addDeletedAnnotationElement(t.annotationElementId),AnnotationEditor.deleteAnnotationElement(t),t.annotationElementId=null),this.attach(t),(e=t.parent)==null||e.detach(t),t.setParent(this),t.div&&t.isAttachedToDOM&&(t.div.remove(),this.div.append(t.div)))}add(t){if(!(t.parent===this&&t.isAttachedToDOM)){if(this.changeParent(t),g(this,wt).addEditor(t),this.attach(t),!t.isAttachedToDOM){const e=t.render();this.div.append(e),t.isAttachedToDOM=!0}t.fixAndSetPosition(),t.onceAdded(),g(this,wt).addToAnnotationStorage(t),t._reportTelemetry(t.telemetryInitialData)}}moveEditorInDOM(t){var n;if(!t.isAttachedToDOM)return;const{activeElement:e}=document;t.div.contains(e)&&!g(this,Hs)&&(t._focusEventsAllowed=!1,B(this,Hs,setTimeout(()=>{B(this,Hs,null),t.div.contains(document.activeElement)?t._focusEventsAllowed=!0:(t.div.addEventListener("focusin",()=>{t._focusEventsAllowed=!0},{once:!0,signal:g(this,wt)._signal}),e.focus())},0))),t._structTreeParentId=(n=g(this,_o))==null?void 0:n.moveElementInDOM(this.div,t.div,t.contentDiv,!0)}addOrRebuild(t){t.needsToBeRebuilt()?(t.parent||(t.parent=this),t.rebuild(),t.show()):this.add(t)}addUndoableEditor(t){const e=()=>t._uiManager.rebuild(t),n=()=>{t.remove()};this.addCommands({cmd:e,undo:n,mustExec:!1})}getNextId(){return g(this,wt).getId()}combinedSignal(t){return g(this,wt).combinedSignal(t)}canCreateNewEmptyEditor(){var t;return(t=g(this,We,z0))==null?void 0:t.canCreateNewEmptyEditor()}pasteEditor(t,e){g(this,wt).updateToolbar(t),g(this,wt).updateMode(t);const{offsetX:n,offsetY:a}=z(this,We,G0).call(this),l=this.getNextId(),c=z(this,We,H0).call(this,{parent:this,id:l,x:n,y:a,uiManager:g(this,wt),isCentered:!0,...e});c&&this.add(c)}async deserialize(t){var e;return await((e=g(mn,$r).get(t.annotationType??t.annotationEditorType))==null?void 0:e.deserialize(t,this,g(this,wt)))||null}createAndAddNewEditor(t,e,n={}){const a=this.getNextId(),l=z(this,We,H0).call(this,{parent:this,id:a,x:t.offsetX,y:t.offsetY,uiManager:g(this,wt),isCentered:e,...n});return l&&this.add(l),l}addNewEditor(){this.createAndAddNewEditor(z(this,We,G0).call(this),!0)}setSelected(t){g(this,wt).setSelected(t)}toggleSelected(t){g(this,wt).toggleSelected(t)}unselect(t){g(this,wt).unselect(t)}pointerup(t){const{isMac:e}=util_FeatureTest.platform;if(!(t.button!==0||t.ctrlKey&&e)&&t.target===this.div&&g(this,qr)){if(B(this,qr,!1),!g(this,oh)){B(this,oh,!0);return}if(g(this,wt).getMode()===AnnotationEditorType.STAMP){g(this,wt).unselectAll();return}this.createAndAddNewEditor(t,!1)}}pointerdown(t){if(g(this,wt).getMode()===AnnotationEditorType.HIGHLIGHT&&this.enableTextSelection(),g(this,qr)){B(this,qr,!1);return}const{isMac:e}=util_FeatureTest.platform;if(t.button!==0||t.ctrlKey&&e||t.target!==this.div)return;B(this,qr,!0);const n=g(this,wt).getActive();B(this,oh,!n||n.isEmpty())}findNewParent(t,e,n){const a=g(this,wt).findParent(e,n);return a===null||a===this?!1:(a.changeParent(t),!0)}destroy(){var t,e;((t=g(this,wt).getActive())==null?void 0:t.parent)===this&&(g(this,wt).commitOrRemove(),g(this,wt).setActiveEditor(null)),g(this,Hs)&&(clearTimeout(g(this,Hs)),B(this,Hs,null));for(const n of g(this,Oi).values())(e=g(this,_o))==null||e.removePointerInTextLayer(n.contentDiv),n.setParent(null),n.isAttachedToDOM=!1,n.div.remove();this.div=null,g(this,Oi).clear(),g(this,wt).removeLayer(this)}render({viewport:t}){this.viewport=t,setLayerDimensions(this.div,t);for(const e of g(this,wt).getEditors(this.pageIndex))this.add(e),e.rebuild();this.updateMode()}update({viewport:t}){g(this,wt).commitOrRemove(),z(this,We,Ad).call(this);const e=this.viewport.rotation,n=t.rotation;if(this.viewport=t,setLayerDimensions(this.div,{rotation:n}),e!==n)for(const a of g(this,Oi).values())a.rotate(n);this.addInkEditorIfNeeded(!1)}get pageDimensions(){const{pageWidth:t,pageHeight:e}=this.viewport.rawDims;return[t,e]}get scale(){return g(this,wt).viewParameters.realScale}};_o=new WeakMap,oh=new WeakMap,Qn=new WeakMap,jr=new WeakMap,Hs=new WeakMap,Oi=new WeakMap,qr=new WeakMap,lh=new WeakMap,hh=new WeakMap,ni=new WeakMap,Gs=new WeakMap,wt=new WeakMap,$r=new WeakMap,We=new WeakSet,r_=function(t){g(this,wt).unselectAll();const{target:e}=t;if(e===g(this,ni).div||(e.getAttribute("role")==="img"||e.classList.contains("endOfContent"))&&g(this,ni).div.contains(e)){const{isMac:n}=util_FeatureTest.platform;if(t.button!==0||t.ctrlKey&&n)return;g(this,wt).showAllEditors("highlight",!0,!0),g(this,ni).div.classList.add("free"),this.toggleDrawing(),HighlightEditor.startHighlighting(this,g(this,wt).direction==="ltr",{target:g(this,ni).div,x:t.x,y:t.y}),g(this,ni).div.addEventListener("pointerup",()=>{g(this,ni).div.classList.remove("free"),this.toggleDrawing(!0)},{once:!0,signal:g(this,wt)._signal}),t.preventDefault()}},z0=function(){return g(mn,$r).get(g(this,wt).getMode())},H0=function(t){const e=g(this,We,z0);return e?new e.prototype.constructor(t):null},G0=function(){const{x:t,y:e,width:n,height:a}=this.div.getBoundingClientRect(),l=Math.max(0,t),c=Math.max(0,e),f=Math.min(window.innerWidth,t+n),d=Math.min(window.innerHeight,e+a),m=(l+f)/2-t,y=(c+d)/2-e,[A,b]=this.viewport.rotation%180===0?[m,y]:[y,m];return{offsetX:A,offsetY:b}},Ad=function(){B(this,lh,!0);for(const t of g(this,Oi).values())t.isEmpty()&&t.remove();B(this,lh,!1)},Mt(mn,"_initialized",!1),U(mn,$r,new Map([FreeTextEditor,InkEditor,StampEditor,HighlightEditor].map(t=>[t._editorType,t])));let AnnotationEditorLayer=mn;var Zn,Lu,Se,Us,Iu,U0,Eo,j0,a_;const qe=class qe{constructor({pageIndex:t}){U(this,Eo);U(this,Zn,null);U(this,Lu,0);U(this,Se,new Map);U(this,Us,new Map);this.pageIndex=t}setParent(t){if(!g(this,Zn)){B(this,Zn,t);return}if(g(this,Zn)!==t){if(g(this,Se).size>0)for(const e of g(this,Se).values())e.remove(),t.append(e);B(this,Zn,t)}}static get _svgFactory(){return shadow(this,"_svgFactory",new DOMSVGFactory)}draw(t,e,n,a=!1){const l=li(this,Lu)._++,c=z(this,Eo,j0).call(this,t.box);c.classList.add(...t.classNamesForDrawing);const f=qe._svgFactory.createElement("defs");c.append(f);const d=qe._svgFactory.createElement("path");f.append(d);const m=`path_p${this.pageIndex}_${l}`;d.setAttribute("id",m),d.setAttribute("d",t.toSVGPath()),a&&g(this,Us).set(l,d);const y=z(this,Eo,a_).call(this,f,m),A=qe._svgFactory.createElement("use");return c.append(A),c.setAttribute("fill",e),c.setAttribute("fill-opacity",n),A.setAttribute("href",`#${m}`),g(this,Se).set(l,c),{id:l,clipPathId:`url(#${y})`}}drawOutline(t){const e=li(this,Lu)._++,n=z(this,Eo,j0).call(this,t.box);n.classList.add(...t.classNamesForOutlining);const a=qe._svgFactory.createElement("defs");n.append(a);const l=qe._svgFactory.createElement("path");a.append(l);const c=`path_p${this.pageIndex}_${e}`;l.setAttribute("id",c),l.setAttribute("d",t.toSVGPath()),l.setAttribute("vector-effect","non-scaling-stroke");let f;if(t.mustRemoveSelfIntersections){const y=qe._svgFactory.createElement("mask");a.append(y),f=`mask_p${this.pageIndex}_${e}`,y.setAttribute("id",f),y.setAttribute("maskUnits","objectBoundingBox");const A=qe._svgFactory.createElement("rect");y.append(A),A.setAttribute("width","1"),A.setAttribute("height","1"),A.setAttribute("fill","white");const b=qe._svgFactory.createElement("use");y.append(b),b.setAttribute("href",`#${c}`),b.setAttribute("stroke","none"),b.setAttribute("fill","black"),b.setAttribute("fill-rule","nonzero"),b.classList.add("mask")}const d=qe._svgFactory.createElement("use");n.append(d),d.setAttribute("href",`#${c}`),f&&d.setAttribute("mask",`url(#${f})`);const m=d.cloneNode();return n.append(m),d.classList.add("mainOutline"),m.classList.add("secondaryOutline"),g(this,Se).set(e,n),e}finalizeLine(t,e){const n=g(this,Us).get(t);g(this,Us).delete(t),this.updateBox(t,e.box),n.setAttribute("d",e.toSVGPath())}updateLine(t,e){g(this,Se).get(t).firstChild.firstChild.setAttribute("d",e.toSVGPath())}updatePath(t,e){g(this,Us).get(t).setAttribute("d",e.toSVGPath())}updateBox(t,e){var n;z(n=qe,Iu,U0).call(n,g(this,Se).get(t),e)}show(t,e){g(this,Se).get(t).classList.toggle("hidden",!e)}rotate(t,e){g(this,Se).get(t).setAttribute("data-main-rotation",e)}changeColor(t,e){g(this,Se).get(t).setAttribute("fill",e)}changeOpacity(t,e){g(this,Se).get(t).setAttribute("fill-opacity",e)}addClass(t,e){g(this,Se).get(t).classList.add(e)}removeClass(t,e){g(this,Se).get(t).classList.remove(e)}getSVGRoot(t){return g(this,Se).get(t)}remove(t){g(this,Us).delete(t),g(this,Zn)!==null&&(g(this,Se).get(t).remove(),g(this,Se).delete(t))}destroy(){B(this,Zn,null);for(const t of g(this,Se).values())t.remove();g(this,Se).clear(),g(this,Us).clear()}};Zn=new WeakMap,Lu=new WeakMap,Se=new WeakMap,Us=new WeakMap,Iu=new WeakSet,U0=function(t,{x:e=0,y:n=0,width:a=1,height:l=1}={}){const{style:c}=t;c.top=`${100*n}%`,c.left=`${100*e}%`,c.width=`${100*a}%`,c.height=`${100*l}%`},Eo=new WeakSet,j0=function(t){var n;const e=qe._svgFactory.create(1,1,!0);return g(this,Zn).append(e),e.setAttribute("aria-hidden",!0),z(n=qe,Iu,U0).call(n,e,t),e},a_=function(t,e){const n=qe._svgFactory.createElement("clipPath");t.append(n);const a=`clip_${e}`;n.setAttribute("id",a),n.setAttribute("clipPathUnits","objectBoundingBox");const l=qe._svgFactory.createElement("use");return n.append(l),l.setAttribute("href",`#${e}`),l.classList.add("clip"),a},U(qe,Iu);let DrawLayer=qe;var __webpack_exports__AbortException=__webpack_exports__.AbortException,__webpack_exports__AnnotationEditorLayer=__webpack_exports__.AnnotationEditorLayer,__webpack_exports__AnnotationEditorParamsType=__webpack_exports__.AnnotationEditorParamsType,__webpack_exports__AnnotationEditorType=__webpack_exports__.AnnotationEditorType,__webpack_exports__AnnotationEditorUIManager=__webpack_exports__.AnnotationEditorUIManager,__webpack_exports__AnnotationLayer=__webpack_exports__.AnnotationLayer,__webpack_exports__AnnotationMode=__webpack_exports__.AnnotationMode,__webpack_exports__ColorPicker=__webpack_exports__.ColorPicker,__webpack_exports__DOMSVGFactory=__webpack_exports__.DOMSVGFactory,__webpack_exports__DrawLayer=__webpack_exports__.DrawLayer,__webpack_exports__FeatureTest=__webpack_exports__.FeatureTest,__webpack_exports__GlobalWorkerOptions=__webpack_exports__.GlobalWorkerOptions,__webpack_exports__ImageKind=__webpack_exports__.ImageKind,__webpack_exports__InvalidPDFException=__webpack_exports__.InvalidPDFException,__webpack_exports__MissingPDFException=__webpack_exports__.MissingPDFException,__webpack_exports__OPS=__webpack_exports__.OPS,__webpack_exports__OutputScale=__webpack_exports__.OutputScale,__webpack_exports__PDFDataRangeTransport=__webpack_exports__.PDFDataRangeTransport,__webpack_exports__PDFDateString=__webpack_exports__.PDFDateString,__webpack_exports__PDFWorker=__webpack_exports__.PDFWorker,__webpack_exports__PasswordResponses=__webpack_exports__.PasswordResponses,__webpack_exports__PermissionFlag=__webpack_exports__.PermissionFlag,__webpack_exports__PixelsPerInch=__webpack_exports__.PixelsPerInch,__webpack_exports__RenderingCancelledException=__webpack_exports__.RenderingCancelledException,__webpack_exports__TextLayer=__webpack_exports__.TextLayer,__webpack_exports__UnexpectedResponseException=__webpack_exports__.UnexpectedResponseException,__webpack_exports__Util=__webpack_exports__.Util,__webpack_exports__VerbosityLevel=__webpack_exports__.VerbosityLevel,__webpack_exports__XfaLayer=__webpack_exports__.XfaLayer,__webpack_exports__build=__webpack_exports__.build,__webpack_exports__createValidAbsoluteUrl=__webpack_exports__.createValidAbsoluteUrl,__webpack_exports__fetchData=__webpack_exports__.fetchData,__webpack_exports__getDocument=__webpack_exports__.getDocument,__webpack_exports__getFilenameFromUrl=__webpack_exports__.getFilenameFromUrl,__webpack_exports__getPdfFilenameFromUrl=__webpack_exports__.getPdfFilenameFromUrl,__webpack_exports__getXfaPageViewport=__webpack_exports__.getXfaPageViewport,__webpack_exports__isDataScheme=__webpack_exports__.isDataScheme,__webpack_exports__isPdfFile=__webpack_exports__.isPdfFile,__webpack_exports__noContextMenu=__webpack_exports__.noContextMenu,__webpack_exports__normalizeUnicode=__webpack_exports__.normalizeUnicode,__webpack_exports__setLayerDimensions=__webpack_exports__.setLayerDimensions,__webpack_exports__shadow=__webpack_exports__.shadow,__webpack_exports__version=__webpack_exports__.version;const pdfjs=Object.freeze(Object.defineProperty({__proto__:null,AbortException:__webpack_exports__AbortException,AnnotationEditorLayer:__webpack_exports__AnnotationEditorLayer,AnnotationEditorParamsType:__webpack_exports__AnnotationEditorParamsType,AnnotationEditorType:__webpack_exports__AnnotationEditorType,AnnotationEditorUIManager:__webpack_exports__AnnotationEditorUIManager,AnnotationLayer:__webpack_exports__AnnotationLayer,AnnotationMode:__webpack_exports__AnnotationMode,ColorPicker:__webpack_exports__ColorPicker,DOMSVGFactory:__webpack_exports__DOMSVGFactory,DrawLayer:__webpack_exports__DrawLayer,FeatureTest:__webpack_exports__FeatureTest,GlobalWorkerOptions:__webpack_exports__GlobalWorkerOptions,ImageKind:__webpack_exports__ImageKind,InvalidPDFException:__webpack_exports__InvalidPDFException,MissingPDFException:__webpack_exports__MissingPDFException,OPS:__webpack_exports__OPS,OutputScale:__webpack_exports__OutputScale,PDFDataRangeTransport:__webpack_exports__PDFDataRangeTransport,PDFDateString:__webpack_exports__PDFDateString,PDFWorker:__webpack_exports__PDFWorker,PasswordResponses:__webpack_exports__PasswordResponses,PermissionFlag:__webpack_exports__PermissionFlag,PixelsPerInch:__webpack_exports__PixelsPerInch,RenderingCancelledException:__webpack_exports__RenderingCancelledException,TextLayer:__webpack_exports__TextLayer,UnexpectedResponseException:__webpack_exports__UnexpectedResponseException,Util:__webpack_exports__Util,VerbosityLevel:__webpack_exports__VerbosityLevel,XfaLayer:__webpack_exports__XfaLayer,build:__webpack_exports__build,createValidAbsoluteUrl:__webpack_exports__createValidAbsoluteUrl,fetchData:__webpack_exports__fetchData,getDocument:__webpack_exports__getDocument,getFilenameFromUrl:__webpack_exports__getFilenameFromUrl,getPdfFilenameFromUrl:__webpack_exports__getPdfFilenameFromUrl,getXfaPageViewport:__webpack_exports__getXfaPageViewport,isDataScheme:__webpack_exports__isDataScheme,isPdfFile:__webpack_exports__isPdfFile,noContextMenu:__webpack_exports__noContextMenu,normalizeUnicode:__webpack_exports__normalizeUnicode,setLayerDimensions:__webpack_exports__setLayerDimensions,shadow:__webpack_exports__shadow,version:__webpack_exports__version},Symbol.toStringTag,{value:"Module"}));var __spreadArray=function(i,t,e){if(e||arguments.length===2)for(var n=0,a=t.length,l;n<a;n++)(l||!(n in t))&&(l||(l=Array.prototype.slice.call(t,0,n)),l[n]=t[n]);return i.concat(l||Array.prototype.slice.call(t))},clipboardEvents=["onCopy","onCut","onPaste"],compositionEvents=["onCompositionEnd","onCompositionStart","onCompositionUpdate"],focusEvents=["onFocus","onBlur"],formEvents=["onInput","onInvalid","onReset","onSubmit"],imageEvents=["onLoad","onError"],keyboardEvents=["onKeyDown","onKeyPress","onKeyUp"],mediaEvents=["onAbort","onCanPlay","onCanPlayThrough","onDurationChange","onEmptied","onEncrypted","onEnded","onError","onLoadedData","onLoadedMetadata","onLoadStart","onPause","onPlay","onPlaying","onProgress","onRateChange","onSeeked","onSeeking","onStalled","onSuspend","onTimeUpdate","onVolumeChange","onWaiting"],mouseEvents=["onClick","onContextMenu","onDoubleClick","onMouseDown","onMouseEnter","onMouseLeave","onMouseMove","onMouseOut","onMouseOver","onMouseUp"],dragEvents=["onDrag","onDragEnd","onDragEnter","onDragExit","onDragLeave","onDragOver","onDragStart","onDrop"],selectionEvents=["onSelect"],touchEvents=["onTouchCancel","onTouchEnd","onTouchMove","onTouchStart"],pointerEvents=["onPointerDown","onPointerMove","onPointerUp","onPointerCancel","onGotPointerCapture","onLostPointerCapture","onPointerEnter","onPointerLeave","onPointerOver","onPointerOut"],uiEvents=["onScroll"],wheelEvents=["onWheel"],animationEvents=["onAnimationStart","onAnimationEnd","onAnimationIteration"],transitionEvents=["onTransitionEnd"],otherEvents=["onToggle"],changeEvents=["onChange"],allEvents=__spreadArray(__spreadArray(__spreadArray(__spreadArray(__spreadArray(__spreadArray(__spreadArray(__spreadArray(__spreadArray(__spreadArray(__spreadArray(__spreadArray(__spreadArray(__spreadArray(__spreadArray(__spreadArray(__spreadArray(__spreadArray([],clipboardEvents,!0),compositionEvents,!0),focusEvents,!0),formEvents,!0),imageEvents,!0),keyboardEvents,!0),mediaEvents,!0),mouseEvents,!0),dragEvents,!0),selectionEvents,!0),touchEvents,!0),pointerEvents,!0),uiEvents,!0),wheelEvents,!0),animationEvents,!0),transitionEvents,!0),changeEvents,!0),otherEvents,!0);function makeEventProps(i,t){var e={};return allEvents.forEach(function(n){var a=i[n];a&&(t?e[n]=function(l){return a(l,t(n))}:e[n]=a)}),e}function makeCancellablePromise(i){var t=!1,e=new Promise(function(n,a){i.then(function(l){return!t&&n(l)}).catch(function(l){return!t&&a(l)})});return{promise:e,cancel:function(){t=!0}}}function r(i){var t,e,n="";if(typeof i=="string"||typeof i=="number")n+=i;else if(typeof i=="object")if(Array.isArray(i)){var a=i.length;for(t=0;t<a;t++)i[t]&&(e=r(i[t]))&&(n&&(n+=" "),n+=e)}else for(e in i)i[e]&&(n&&(n+=" "),n+=e);return n}function clsx(){for(var i,t,e=0,n="",a=arguments.length;e<a;e++)(i=arguments[e])&&(t=r(i))&&(n&&(n+=" "),n+=t);return n}var prefix="Invariant failed";function invariant(i,t){if(!i)throw new Error(prefix)}var warning_1,hasRequiredWarning;function requireWarning(){if(hasRequiredWarning)return warning_1;hasRequiredWarning=1;var i=function(){};return warning_1=i,warning_1}var warningExports=requireWarning();const warning=getDefaultExportFromCjs(warningExports);var has=Object.prototype.hasOwnProperty;function find(i,t,e){for(e of i.keys())if(dequal(e,t))return e}function dequal(i,t){var e,n,a;if(i===t)return!0;if(i&&t&&(e=i.constructor)===t.constructor){if(e===Date)return i.getTime()===t.getTime();if(e===RegExp)return i.toString()===t.toString();if(e===Array){if((n=i.length)===t.length)for(;n--&&dequal(i[n],t[n]););return n===-1}if(e===Set){if(i.size!==t.size)return!1;for(n of i)if(a=n,a&&typeof a=="object"&&(a=find(t,a),!a)||!t.has(a))return!1;return!0}if(e===Map){if(i.size!==t.size)return!1;for(n of i)if(a=n[0],a&&typeof a=="object"&&(a=find(t,a),!a)||!dequal(n[1],t.get(a)))return!1;return!0}if(e===ArrayBuffer)i=new Uint8Array(i),t=new Uint8Array(t);else if(e===DataView){if((n=i.byteLength)===t.byteLength)for(;n--&&i.getInt8(n)===t.getInt8(n););return n===-1}if(ArrayBuffer.isView(i)){if((n=i.byteLength)===t.byteLength)for(;n--&&i[n]===t[n];);return n===-1}if(!e||typeof i=="object"){n=0;for(e in i)if(has.call(i,e)&&++n&&!has.call(t,e)||!(e in t)||!dequal(i[e],t[e]))return!1;return Object.keys(t).length===n}}return i!==i&&t!==t}const documentContext=reactExports.createContext(null);function Message({children:i,type:t}){return jsxRuntimeExports.jsx("div",{className:`react-pdf__message react-pdf__message--${t}`,children:i})}const DEFAULT_LINK_REL="noopener noreferrer nofollow";class LinkService{constructor(){this.externalLinkEnabled=!0,this.externalLinkRel=void 0,this.externalLinkTarget=void 0,this.isInPresentationMode=!1,this.pdfDocument=void 0,this.pdfViewer=void 0}setDocument(t){this.pdfDocument=t}setViewer(t){this.pdfViewer=t}setExternalLinkRel(t){this.externalLinkRel=t}setExternalLinkTarget(t){this.externalLinkTarget=t}setHistory(){}get pagesCount(){return this.pdfDocument?this.pdfDocument.numPages:0}get page(){return invariant(this.pdfViewer),this.pdfViewer.currentPageNumber||0}set page(t){invariant(this.pdfViewer),this.pdfViewer.currentPageNumber=t}get rotation(){return 0}set rotation(t){}goToDestination(t){return new Promise(e=>{invariant(this.pdfDocument),invariant(t),typeof t=="string"?this.pdfDocument.getDestination(t).then(e):Array.isArray(t)?e(t):t.then(e)}).then(e=>{invariant(Array.isArray(e));const n=e[0];new Promise(a=>{invariant(this.pdfDocument),n instanceof Object?this.pdfDocument.getPageIndex(n).then(l=>{a(l)}).catch(()=>{invariant(!1)}):typeof n=="number"?a(n):invariant(!1)}).then(a=>{const l=a+1;invariant(this.pdfViewer),invariant(l>=1&&l<=this.pagesCount),this.pdfViewer.scrollPageIntoView({dest:e,pageIndex:a,pageNumber:l})})})}navigateTo(t){this.goToDestination(t)}goToPage(t){const e=t-1;invariant(this.pdfViewer),invariant(t>=1&&t<=this.pagesCount),this.pdfViewer.scrollPageIntoView({pageIndex:e,pageNumber:t})}addLinkAttributes(t,e,n){t.href=e,t.rel=this.externalLinkRel||DEFAULT_LINK_REL,t.target=n?"_blank":this.externalLinkTarget||""}getDestinationHash(){return"#"}getAnchorUrl(){return"#"}setHash(){}executeNamedAction(){}cachePageRef(){}isPageVisible(){return!0}isPageCached(){return!0}executeSetOCGState(){}}const PasswordResponses={NEED_PASSWORD:1,INCORRECT_PASSWORD:2},isBrowser=typeof window<"u",isLocalFileSystem=isBrowser&&window.location.protocol==="file:";function isDefined(i){return typeof i<"u"}function isProvided(i){return isDefined(i)&&i!==null}function isString(i){return typeof i=="string"}function isArrayBuffer(i){return i instanceof ArrayBuffer}function isBlob(i){return invariant(isBrowser),i instanceof Blob}function isDataURI(i){return isString(i)&&/^data:/.test(i)}function dataURItoByteString(i){invariant(isDataURI(i));const[t="",e=""]=i.split(",");return t.split(";").indexOf("base64")!==-1?atob(e):unescape(e)}function getDevicePixelRatio(){return isBrowser&&window.devicePixelRatio||1}const allowFileAccessFromFilesTip="On Chromium based browsers, you can use --allow-file-access-from-files flag for debugging purposes.";function displayCORSWarning(){warning(!isLocalFileSystem,`Loading PDF as base64 strings/URLs may not work on protocols other than HTTP/HTTPS. ${allowFileAccessFromFilesTip}`)}function displayWorkerWarning(){warning(!isLocalFileSystem,`Loading PDF.js worker may not work on protocols other than HTTP/HTTPS. ${allowFileAccessFromFilesTip}`)}function cancelRunningTask(i){i!=null&&i.cancel&&i.cancel()}function makePageCallback(i,t){return Object.defineProperty(i,"width",{get(){return this.view[2]*t},configurable:!0}),Object.defineProperty(i,"height",{get(){return this.view[3]*t},configurable:!0}),Object.defineProperty(i,"originalWidth",{get(){return this.view[2]},configurable:!0}),Object.defineProperty(i,"originalHeight",{get(){return this.view[3]},configurable:!0}),i}function isCancelException(i){return i.name==="RenderingCancelledException"}function loadFromFile(i){return new Promise((t,e)=>{const n=new FileReader;n.onload=()=>{if(!n.result)return e(new Error("Error while reading a file."));t(n.result)},n.onerror=a=>{if(!a.target)return e(new Error("Error while reading a file."));const{error:l}=a.target;if(!l)return e(new Error("Error while reading a file."));switch(l.code){case l.NOT_FOUND_ERR:return e(new Error("Error while reading a file: File not found."));case l.SECURITY_ERR:return e(new Error("Error while reading a file: Security error."));case l.ABORT_ERR:return e(new Error("Error while reading a file: Aborted."));default:return e(new Error("Error while reading a file."))}},n.readAsArrayBuffer(i)})}function reducer(i,t){switch(t.type){case"RESOLVE":return{value:t.value,error:void 0};case"REJECT":return{value:!1,error:t.error};case"RESET":return{value:void 0,error:void 0};default:return i}}function useResolver(){return reactExports.useReducer(reducer,{value:void 0,error:void 0})}var __awaiter=function(i,t,e,n){function a(l){return l instanceof e?l:new e(function(c){c(l)})}return new(e||(e=Promise))(function(l,c){function f(y){try{m(n.next(y))}catch(A){c(A)}}function d(y){try{m(n.throw(y))}catch(A){c(A)}}function m(y){y.done?l(y.value):a(y.value).then(f,d)}m((n=n.apply(i,t||[])).next())})},__rest$1=function(i,t){var e={};for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&t.indexOf(n)<0&&(e[n]=i[n]);if(i!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,n=Object.getOwnPropertySymbols(i);a<n.length;a++)t.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(i,n[a])&&(e[n[a]]=i[n[a]]);return e};const{PDFDataRangeTransport}=pdfjs,defaultOnPassword=(i,t)=>{switch(t){case PasswordResponses.NEED_PASSWORD:{const e=prompt("Enter the password to open this PDF file.");i(e);break}case PasswordResponses.INCORRECT_PASSWORD:{const e=prompt("Invalid password. Please try again.");i(e);break}}};function isParameterObject(i){return typeof i=="object"&&i!==null&&("data"in i||"range"in i||"url"in i)}const Document=reactExports.forwardRef(function(t,e){var{children:n,className:a,error:l="Failed to load PDF file.",externalLinkRel:c,externalLinkTarget:f,file:d,inputRef:m,imageResourcesPath:y,loading:A="Loading PDF…",noData:b="No PDF file specified.",onItemClick:x,onLoadError:E,onLoadProgress:T,onLoadSuccess:k,onPassword:S=defaultOnPassword,onSourceError:M,onSourceSuccess:P,options:R,renderMode:D,rotate:L}=t,G=__rest$1(t,["children","className","error","externalLinkRel","externalLinkTarget","file","inputRef","imageResourcesPath","loading","noData","onItemClick","onLoadError","onLoadProgress","onLoadSuccess","onPassword","onSourceError","onSourceSuccess","options","renderMode","rotate"]);const[q,X]=useResolver(),{value:J,error:et}=q,[it,lt]=useResolver(),{value:tt,error:W}=it,O=reactExports.useRef(new LinkService),H=reactExports.useRef([]),F=reactExports.useRef(void 0),N=reactExports.useRef(void 0);d&&d!==F.current&&isParameterObject(d)&&(warning(!dequal(d,F.current),`File prop passed to <Document /> changed, but it's equal to previous one. This might result in unnecessary reloads. Consider memoizing the value passed to "file" prop.`),F.current=d),R&&R!==N.current&&(warning(!dequal(R,N.current),`Options prop passed to <Document /> changed, but it's equal to previous one. This might result in unnecessary reloads. Consider memoizing the value passed to "options" prop.`),N.current=R);const V=reactExports.useRef({scrollPageIntoView:Et=>{const{dest:gt,pageNumber:jt,pageIndex:zt=jt-1}=Et;if(x){x({dest:gt,pageIndex:zt,pageNumber:jt});return}const _e=H.current[zt];if(_e){_e.scrollIntoView();return}warning(!1,`An internal link leading to page ${jt} was clicked, but neither <Document> was provided with onItemClick nor it was able to find the page within itself. Either provide onItemClick to <Document> and handle navigating by yourself or ensure that all pages are rendered within <Document>.`)}});reactExports.useImperativeHandle(e,()=>({linkService:O,pages:H,viewer:V}),[]);function $(){P&&P()}function Q(){et&&(warning(!1,et.toString()),M&&M(et))}function st(){X({type:"RESET"})}reactExports.useEffect(st,[d,X]);const rt=reactExports.useCallback(()=>__awaiter(this,void 0,void 0,function*(){if(!d)return null;if(typeof d=="string")return isDataURI(d)?{data:dataURItoByteString(d)}:(displayCORSWarning(),{url:d});if(d instanceof PDFDataRangeTransport)return{range:d};if(isArrayBuffer(d))return{data:d};if(isBrowser&&isBlob(d))return{data:yield loadFromFile(d)};if(invariant(typeof d=="object"),invariant(isParameterObject(d)),"url"in d&&typeof d.url=="string"){if(isDataURI(d.url)){const{url:Et}=d,gt=__rest$1(d,["url"]),jt=dataURItoByteString(Et);return Object.assign({data:jt},gt)}displayCORSWarning()}return d}),[d]);reactExports.useEffect(()=>{const Et=makeCancellablePromise(rt());return Et.promise.then(gt=>{X({type:"RESOLVE",value:gt})}).catch(gt=>{X({type:"REJECT",error:gt})}),()=>{cancelRunningTask(Et)}},[rt,X]),reactExports.useEffect(()=>{if(!(typeof J>"u")){if(J===!1){Q();return}$()}},[J]);function pt(){tt&&(k&&k(tt),H.current=new Array(tt.numPages),O.current.setDocument(tt))}function ht(){W&&(warning(!1,W.toString()),E&&E(W))}reactExports.useEffect(function(){lt({type:"RESET"})},[lt,J]),reactExports.useEffect(function(){if(!J)return;const gt=R?Object.assign(Object.assign({},J),R):J,jt=__webpack_exports__getDocument(gt);T&&(jt.onProgress=T),S&&(jt.onPassword=S);const zt=jt,_e=zt.promise.then(ye=>{lt({type:"RESOLVE",value:ye})}).catch(ye=>{zt.destroyed||lt({type:"REJECT",error:ye})});return()=>{_e.finally(()=>zt.destroy())}},[R,lt,J]),reactExports.useEffect(()=>{if(!(typeof tt>"u")){if(tt===!1){ht();return}pt()}},[tt]),reactExports.useEffect(function(){O.current.setViewer(V.current),O.current.setExternalLinkRel(c),O.current.setExternalLinkTarget(f)},[c,f]);const mt=reactExports.useCallback((Et,gt)=>{H.current[Et]=gt},[]),At=reactExports.useCallback(Et=>{delete H.current[Et]},[]),Ct=reactExports.useMemo(()=>({imageResourcesPath:y,linkService:O.current,onItemClick:x,pdf:tt,registerPage:mt,renderMode:D,rotate:L,unregisterPage:At}),[y,x,tt,mt,D,L,At]),_t=reactExports.useMemo(()=>makeEventProps(G,()=>tt),[G,tt]);function Vt(){return jsxRuntimeExports.jsx(documentContext.Provider,{value:Ct,children:n})}function ne(){return d?tt==null?jsxRuntimeExports.jsx(Message,{type:"loading",children:typeof A=="function"?A():A}):tt===!1?jsxRuntimeExports.jsx(Message,{type:"error",children:typeof l=="function"?l():l}):Vt():jsxRuntimeExports.jsx(Message,{type:"no-data",children:typeof b=="function"?b():b})}return jsxRuntimeExports.jsx("div",Object.assign({className:clsx("react-pdf__Document",a),ref:m,style:{"--scale-factor":"1"}},_t,{children:ne()}))});function useDocumentContext(){return reactExports.useContext(documentContext)}function mergeRefs(){for(var i=[],t=0;t<arguments.length;t++)i[t]=arguments[t];var e=i.filter(Boolean);if(e.length<=1){var n=e[0];return n||null}return function(l){e.forEach(function(c){typeof c=="function"?c(l):c&&(c.current=l)})}}const pageContext=reactExports.createContext(null),PDF_ROLE_TO_HTML_ROLE={Document:null,DocumentFragment:null,Part:"group",Sect:"group",Div:"group",Aside:"note",NonStruct:"none",P:null,H:"heading",Title:null,FENote:"note",Sub:"group",Lbl:null,Span:null,Em:null,Strong:null,Link:"link",Annot:"note",Form:"form",Ruby:null,RB:null,RT:null,RP:null,Warichu:null,WT:null,WP:null,L:"list",LI:"listitem",LBody:null,Table:"table",TR:"row",TH:"columnheader",TD:"cell",THead:"columnheader",TBody:null,TFoot:null,Caption:null,Figure:"figure",Formula:null,Artifact:null},HEADING_PATTERN=/^H(\d+)$/;function isPdfRole(i){return i in PDF_ROLE_TO_HTML_ROLE}function isStructTreeNode(i){return"children"in i}function isStructTreeNodeWithOnlyContentChild(i){return isStructTreeNode(i)?i.children.length===1&&0 in i.children&&"id"in i.children[0]:!1}function getRoleAttributes(i){const t={};if(isStructTreeNode(i)){const{role:e}=i,n=e.match(HEADING_PATTERN);if(n)t.role="heading",t["aria-level"]=Number(n[1]);else if(isPdfRole(e)){const a=PDF_ROLE_TO_HTML_ROLE[e];a&&(t.role=a)}}return t}function getBaseAttributes(i){const t={};if(isStructTreeNode(i)){if(i.alt!==void 0&&(t["aria-label"]=i.alt),i.lang!==void 0&&(t.lang=i.lang),isStructTreeNodeWithOnlyContentChild(i)){const[e]=i.children;if(e){const n=getBaseAttributes(e);return Object.assign(Object.assign({},t),n)}}}else"id"in i&&(t["aria-owns"]=i.id);return t}function getAttributes(i){return i?Object.assign(Object.assign({},getRoleAttributes(i)),getBaseAttributes(i)):null}function StructTreeItem({className:i,node:t}){const e=reactExports.useMemo(()=>getAttributes(t),[t]),n=reactExports.useMemo(()=>!isStructTreeNode(t)||isStructTreeNodeWithOnlyContentChild(t)?null:t.children.map((a,l)=>jsxRuntimeExports.jsx(StructTreeItem,{node:a},l)),[t]);return jsxRuntimeExports.jsx("span",Object.assign({className:i},e,{children:n}))}function usePageContext(){return reactExports.useContext(pageContext)}function StructTree(){const i=usePageContext();invariant(i);const{onGetStructTreeError:t,onGetStructTreeSuccess:e}=i,[n,a]=useResolver(),{value:l,error:c}=n,{customTextRenderer:f,page:d}=i;function m(){l&&e&&e(l)}function y(){c&&(warning(!1,c.toString()),t&&t(c))}return reactExports.useEffect(function(){a({type:"RESET"})},[a,d]),reactExports.useEffect(function(){if(f||!d)return;const b=makeCancellablePromise(d.getStructTree()),x=b;return b.promise.then(E=>{a({type:"RESOLVE",value:E})}).catch(E=>{a({type:"REJECT",error:E})}),()=>cancelRunningTask(x)},[f,d,a]),reactExports.useEffect(()=>{if(l!==void 0){if(l===!1){y();return}m()}},[l]),l?jsxRuntimeExports.jsx(StructTreeItem,{className:"react-pdf__Page__structTree structTree",node:l}):null}const ANNOTATION_MODE=__webpack_exports__AnnotationMode;function Canvas(i){const t=usePageContext();invariant(t);const e=Object.assign(Object.assign({},t),i),{_className:n,canvasBackground:a,devicePixelRatio:l=getDevicePixelRatio(),onRenderError:c,onRenderSuccess:f,page:d,renderForms:m,renderTextLayer:y,rotate:A,scale:b}=e,{canvasRef:x}=i;invariant(d);const E=reactExports.useRef(null);function T(){d&&f&&f(makePageCallback(d,b))}function k(R){isCancelException(R)||(warning(!1,R.toString()),c&&c(R))}const S=reactExports.useMemo(()=>d.getViewport({scale:b*l,rotation:A}),[l,d,A,b]),M=reactExports.useMemo(()=>d.getViewport({scale:b,rotation:A}),[d,A,b]);reactExports.useEffect(function(){if(!d)return;d.cleanup();const{current:D}=E;if(!D)return;D.width=S.width,D.height=S.height,D.style.width=`${Math.floor(M.width)}px`,D.style.height=`${Math.floor(M.height)}px`,D.style.visibility="hidden";const L={annotationMode:m?ANNOTATION_MODE.ENABLE_FORMS:ANNOTATION_MODE.ENABLE,canvasContext:D.getContext("2d",{alpha:!1}),viewport:S};a&&(L.background=a);const G=d.render(L),q=G;return G.promise.then(()=>{D.style.visibility="",T()}).catch(k),()=>cancelRunningTask(q)},[a,d,m,S,M]);const P=reactExports.useCallback(()=>{const{current:R}=E;R&&(R.width=0,R.height=0)},[]);return reactExports.useEffect(()=>P,[P]),jsxRuntimeExports.jsx("canvas",{className:`${n}__canvas`,dir:"ltr",ref:mergeRefs(x,E),style:{display:"block",userSelect:"none"},children:y?jsxRuntimeExports.jsx(StructTree,{}):null})}function isTextItem(i){return"str"in i}function TextLayer(){const i=usePageContext();invariant(i);const{customTextRenderer:t,onGetTextError:e,onGetTextSuccess:n,onRenderTextLayerError:a,onRenderTextLayerSuccess:l,page:c,pageIndex:f,pageNumber:d,rotate:m,scale:y}=i;invariant(c);const[A,b]=useResolver(),{value:x,error:E}=A,T=reactExports.useRef(null);warning(Number.parseInt(window.getComputedStyle(document.body).getPropertyValue("--react-pdf-text-layer"),10)===1,"TextLayer styles not found. Read more: https://github.com/wojtekmaj/react-pdf#support-for-text-layer");function k(){x&&n&&n(x)}function S(){E&&(warning(!1,E.toString()),e&&e(E))}reactExports.useEffect(function(){b({type:"RESET"})},[c,b]),reactExports.useEffect(function(){if(!c)return;const q=makeCancellablePromise(c.getTextContent()),X=q;return q.promise.then(J=>{b({type:"RESOLVE",value:J})}).catch(J=>{b({type:"REJECT",error:J})}),()=>cancelRunningTask(X)},[c,b]),reactExports.useEffect(()=>{if(x!==void 0){if(x===!1){S();return}k()}},[x]);const M=reactExports.useCallback(()=>{l&&l()},[l]),P=reactExports.useCallback(G=>{warning(!1,G.toString()),a&&a(G)},[a]);function R(){const G=T.current;G&&G.classList.add("selecting")}function D(){const G=T.current;G&&G.classList.remove("selecting")}const L=reactExports.useMemo(()=>c.getViewport({scale:y,rotation:m}),[c,m,y]);return reactExports.useLayoutEffect(function(){if(!c||!x)return;const{current:q}=T;if(!q)return;q.innerHTML="";const X=c.streamTextContent({includeMarkedContent:!0}),J={container:q,textContentSource:X,viewport:L},et=new __webpack_exports__TextLayer(J),it=et;return et.render().then(()=>{const lt=document.createElement("div");lt.className="endOfContent",q.append(lt);const tt=q.querySelectorAll('[role="presentation"]');if(t){let W=0;x.items.forEach((O,H)=>{if(!isTextItem(O))return;const F=tt[W];if(!F)return;const N=t(Object.assign({pageIndex:f,pageNumber:d,itemIndex:H},O));F.innerHTML=N,W+=O.str&&O.hasEOL?2:1})}M()}).catch(P),()=>cancelRunningTask(it)},[t,P,M,c,f,d,x,L]),jsxRuntimeExports.jsx("div",{className:clsx("react-pdf__Page__textContent","textLayer"),onMouseUp:D,onMouseDown:R,ref:T})}function AnnotationLayer(){const i=useDocumentContext(),t=usePageContext();invariant(t);const e=Object.assign(Object.assign({},i),t),{imageResourcesPath:n,linkService:a,onGetAnnotationsError:l,onGetAnnotationsSuccess:c,onRenderAnnotationLayerError:f,onRenderAnnotationLayerSuccess:d,page:m,pdf:y,renderForms:A,rotate:b,scale:x=1}=e;invariant(y),invariant(m),invariant(a);const[E,T]=useResolver(),{value:k,error:S}=E,M=reactExports.useRef(null);warning(Number.parseInt(window.getComputedStyle(document.body).getPropertyValue("--react-pdf-annotation-layer"),10)===1,"AnnotationLayer styles not found. Read more: https://github.com/wojtekmaj/react-pdf#support-for-annotations");function P(){k&&c&&c(k)}function R(){S&&(warning(!1,S.toString()),l&&l(S))}reactExports.useEffect(function(){T({type:"RESET"})},[T,m]),reactExports.useEffect(function(){if(!m)return;const X=makeCancellablePromise(m.getAnnotations()),J=X;return X.promise.then(et=>{T({type:"RESOLVE",value:et})}).catch(et=>{T({type:"REJECT",error:et})}),()=>{cancelRunningTask(J)}},[T,m]),reactExports.useEffect(()=>{if(k!==void 0){if(k===!1){R();return}P()}},[k]);function D(){d&&d()}function L(q){warning(!1,`${q}`),f&&f(q)}const G=reactExports.useMemo(()=>m.getViewport({scale:x,rotation:b}),[m,b,x]);return reactExports.useEffect(function(){if(!y||!m||!a||!k)return;const{current:X}=M;if(!X)return;const J=G.clone({dontFlip:!0}),et={accessibilityManager:null,annotationCanvasMap:null,annotationEditorUIManager:null,div:X,l10n:null,page:m,structTreeLayer:null,viewport:J},it={annotations:k,annotationStorage:y.annotationStorage,div:X,imageResourcesPath:n,linkService:a,page:m,renderForms:A,viewport:J};X.innerHTML="";try{new __webpack_exports__AnnotationLayer(et).render(it),D()}catch(lt){L(lt)}return()=>{}},[k,n,a,m,y,A,G]),jsxRuntimeExports.jsx("div",{className:clsx("react-pdf__Page__annotations","annotationLayer"),ref:M})}var __rest=function(i,t){var e={};for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&t.indexOf(n)<0&&(e[n]=i[n]);if(i!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,n=Object.getOwnPropertySymbols(i);a<n.length;a++)t.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(i,n[a])&&(e[n[a]]=i[n[a]]);return e};const defaultScale=1;function Page(i){const t=useDocumentContext(),e=Object.assign(Object.assign({},t),i),{_className:n="react-pdf__Page",_enableRegisterUnregisterPage:a=!0,canvasBackground:l,canvasRef:c,children:f,className:d,customRenderer:m,customTextRenderer:y,devicePixelRatio:A,error:b="Failed to load the page.",height:x,inputRef:E,loading:T="Loading page…",noData:k="No page specified.",onGetAnnotationsError:S,onGetAnnotationsSuccess:M,onGetStructTreeError:P,onGetStructTreeSuccess:R,onGetTextError:D,onGetTextSuccess:L,onLoadError:G,onLoadSuccess:q,onRenderAnnotationLayerError:X,onRenderAnnotationLayerSuccess:J,onRenderError:et,onRenderSuccess:it,onRenderTextLayerError:lt,onRenderTextLayerSuccess:tt,pageIndex:W,pageNumber:O,pdf:H,registerPage:F,renderAnnotationLayer:N=!0,renderForms:V=!1,renderMode:$="canvas",renderTextLayer:Q=!0,rotate:st,scale:rt=defaultScale,unregisterPage:pt,width:ht}=e,mt=__rest(e,["_className","_enableRegisterUnregisterPage","canvasBackground","canvasRef","children","className","customRenderer","customTextRenderer","devicePixelRatio","error","height","inputRef","loading","noData","onGetAnnotationsError","onGetAnnotationsSuccess","onGetStructTreeError","onGetStructTreeSuccess","onGetTextError","onGetTextSuccess","onLoadError","onLoadSuccess","onRenderAnnotationLayerError","onRenderAnnotationLayerSuccess","onRenderError","onRenderSuccess","onRenderTextLayerError","onRenderTextLayerSuccess","pageIndex","pageNumber","pdf","registerPage","renderAnnotationLayer","renderForms","renderMode","renderTextLayer","rotate","scale","unregisterPage","width"]),[At,Ct]=useResolver(),{value:_t,error:Vt}=At,ne=reactExports.useRef(null);invariant(H);const Et=isProvided(O)?O-1:W??null,gt=O??(isProvided(W)?W+1:null),jt=st??(_t?_t.rotate:null),zt=reactExports.useMemo(()=>{if(!_t)return null;let He=1;const di=rt??defaultScale;if(ht||x){const hn=_t.getViewport({scale:1,rotation:jt});ht?He=ht/hn.width:x&&(He=x/hn.height)}return di*He},[x,_t,jt,rt,ht]);reactExports.useEffect(function(){return()=>{isProvided(Et)&&a&&pt&&pt(Et)}},[a,H,Et,pt]);function _e(){if(q){if(!_t||!zt)return;q(makePageCallback(_t,zt))}if(a&&F){if(!isProvided(Et)||!ne.current)return;F(Et,ne.current)}}function ye(){Vt&&(warning(!1,Vt.toString()),G&&G(Vt))}reactExports.useEffect(function(){Ct({type:"RESET"})},[Ct,H,Et]),reactExports.useEffect(function(){if(!H||!gt)return;const di=makeCancellablePromise(H.getPage(gt)),hn=di;return di.promise.then(cn=>{Ct({type:"RESOLVE",value:cn})}).catch(cn=>{Ct({type:"REJECT",error:cn})}),()=>cancelRunningTask(hn)},[Ct,H,gt]),reactExports.useEffect(()=>{if(_t!==void 0){if(_t===!1){ye();return}_e()}},[_t,zt]);const si=reactExports.useMemo(()=>_t&&isProvided(Et)&&gt&&isProvided(jt)&&isProvided(zt)?{_className:n,canvasBackground:l,customTextRenderer:y,devicePixelRatio:A,onGetAnnotationsError:S,onGetAnnotationsSuccess:M,onGetStructTreeError:P,onGetStructTreeSuccess:R,onGetTextError:D,onGetTextSuccess:L,onRenderAnnotationLayerError:X,onRenderAnnotationLayerSuccess:J,onRenderError:et,onRenderSuccess:it,onRenderTextLayerError:lt,onRenderTextLayerSuccess:tt,page:_t,pageIndex:Et,pageNumber:gt,renderForms:V,renderTextLayer:Q,rotate:jt,scale:zt}:null,[n,l,y,A,S,M,P,R,D,L,X,J,et,it,lt,tt,_t,Et,gt,V,Q,jt,zt]),ri=reactExports.useMemo(()=>makeEventProps(mt,()=>_t&&(zt?makePageCallback(_t,zt):void 0)),[mt,_t,zt]),ae=`${Et}@${zt}/${jt}`;function Vi(){switch($){case"custom":return invariant(m),jsxRuntimeExports.jsx(m,{},`${ae}_custom`);case"none":return null;case"canvas":default:return jsxRuntimeExports.jsx(Canvas,{canvasRef:c},`${ae}_canvas`)}}function zi(){return Q?jsxRuntimeExports.jsx(TextLayer,{},`${ae}_text`):null}function se(){return N?jsxRuntimeExports.jsx(AnnotationLayer,{},`${ae}_annotations`):null}function Hi(){return jsxRuntimeExports.jsxs(pageContext.Provider,{value:si,children:[Vi(),zi(),se(),f]})}function Ke(){return gt?H===null||_t===void 0||_t===null?jsxRuntimeExports.jsx(Message,{type:"loading",children:typeof T=="function"?T():T}):H===!1||_t===!1?jsxRuntimeExports.jsx(Message,{type:"error",children:typeof b=="function"?b():b}):Hi():jsxRuntimeExports.jsx(Message,{type:"no-data",children:typeof k=="function"?k():k})}return jsxRuntimeExports.jsx("div",Object.assign({className:clsx(n,d),"data-page-number":gt,ref:mergeRefs(E,ne),style:{"--scale-factor":`${zt}`,backgroundColor:l||"white",position:"relative",minWidth:"min-content",minHeight:"min-content"}},ri,{children:Ke()}))}displayWorkerWarning();__webpack_exports__GlobalWorkerOptions.workerSrc="pdf.worker.mjs";const useInterval=(i,t)=>{const e=reactExports.useRef(null),n=reactExports.useRef(null);reactExports.useEffect(()=>{e.current=i},[i]),reactExports.useEffect(()=>{if(t===null)return;const a=()=>{var l;(l=e.current)==null||l.call(e),n.current=window.setTimeout(a,t)};return a(),()=>{n.current&&(clearTimeout(n.current),n.current=null)}},[t])},TOTAL_ANSWER_TIME_MILLIS="totalAnswerTimeMillis";__webpack_exports__GlobalWorkerOptions.workerSrc=new URL("/BeTheJudge/assets/pdf.worker.min-GB3t0DcA.mjs",import.meta.url).toString();const QuestionScreen=({question:i,onAnswer:t})=>{const[e,n]=reactExports.useState(0),a=1e3,[l,c]=reactExports.useState(!1);useInterval(()=>{n(S=>S+a)},l?null:a);const d=reactExports.useRef(void 0),m=async S=>{d.current&&await d.current.swipe(S)},y=S=>{c(!0);const M=Number(sessionStorage.getItem(TOTAL_ANSWER_TIME_MILLIS)||0);sessionStorage.setItem(TOTAL_ANSWER_TIME_MILLIS,(M+e).toString()),t(S)},[A,b]=reactExports.useState(),[x,E]=reactExports.useState(1),T=`/BeTheJudge/${i.pdfUrl}`;function k({numPages:S}){b(S)}return jsxRuntimeExports.jsxs("div",{className:"container",children:[jsxRuntimeExports.jsxs("div",{className:"timer",children:[Math.floor(e/1e3)," s"]}),jsxRuntimeExports.jsx(TinderCard,{ref:d,className:"swipe",onSwipe:S=>y(S),onCardLeftScreen:()=>{}}),i.clause&&jsxRuntimeExports.jsxs("div",{className:"clause",children:[jsxRuntimeExports.jsx("h1",{children:i.question}),jsxRuntimeExports.jsx("div",{className:"clause-box",children:jsxRuntimeExports.jsx("p",{className:"clause-text",children:i.clause})})]}),i.imageUrl&&jsxRuntimeExports.jsxs("div",{className:"image-container",children:[jsxRuntimeExports.jsx("h1",{children:i.question}),jsxRuntimeExports.jsx("img",{className:"question-image",src:"/BeTheJudge/"+i.imageUrl})]}),i.pdfUrl&&jsxRuntimeExports.jsxs("div",{className:"pdf-container",children:[jsxRuntimeExports.jsx("h1",{children:i.question}),jsxRuntimeExports.jsxs("div",{className:"pdf-viewer",children:[jsxRuntimeExports.jsx(Document,{file:T,onLoadSuccess:k,children:jsxRuntimeExports.jsx(Page,{pageNumber:x})}),A&&jsxRuntimeExports.jsxs("div",{className:"pdf-navigation",children:[jsxRuntimeExports.jsxs("p",{children:["Page ",x," of ",A]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("button",{disabled:x<=1,onClick:()=>E(x-1),children:"Previous"}),jsxRuntimeExports.jsx("button",{disabled:x>=A,onClick:()=>E(x+1),children:"Next"})]})]})]})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("button",{className:"yes-no-buttons",onClick:()=>m("left"),children:i.left??"NO"}),jsxRuntimeExports.jsx("button",{className:"yes-no-buttons",onClick:()=>m("right"),children:i.right??"YES"})]}),i.imageUrl&&jsxRuntimeExports.jsx("footer",{className:"legal-footer",children:jsxRuntimeExports.jsxs("p",{children:["Real faces on this site are from",jsxRuntimeExports.jsx("a",{href:"https://nvlabs.github.io/stylegan2/versions.html",target:"_blank",rel:"noopener noreferrer",children:"nvlabs"}),"under the",jsxRuntimeExports.jsx("a",{href:"https://creativecommons.org/licenses/by-nc/4.0/",target:"_blank",rel:"noopener noreferrer",children:"Creative Commons CC BY-NC 4.0 License"})]})})]})};var lottie$2={exports:{}},lottie$1=lottie$2.exports,hasRequiredLottie;function requireLottie(){return hasRequiredLottie||(hasRequiredLottie=1,function(module,exports){typeof navigator<"u"&&function(i,t){module.exports=t()}(lottie$1,function(){var svgNS="http://www.w3.org/2000/svg",locationHref="",_useWebWorker=!1,initialDefaultFrame=-999999,setWebWorker=function(t){_useWebWorker=!!t},getWebWorker=function(){return _useWebWorker},setLocationHref=function(t){locationHref=t},getLocationHref=function(){return locationHref};function createTag(i){return document.createElement(i)}function extendPrototype(i,t){var e,n=i.length,a;for(e=0;e<n;e+=1){a=i[e].prototype;for(var l in a)Object.prototype.hasOwnProperty.call(a,l)&&(t.prototype[l]=a[l])}}function getDescriptor(i,t){return Object.getOwnPropertyDescriptor(i,t)}function createProxyFunction(i){function t(){}return t.prototype=i,t}var audioControllerFactory=function(){function i(t){this.audios=[],this.audioFactory=t,this._volume=1,this._isMuted=!1}return i.prototype={addAudio:function(e){this.audios.push(e)},pause:function(){var e,n=this.audios.length;for(e=0;e<n;e+=1)this.audios[e].pause()},resume:function(){var e,n=this.audios.length;for(e=0;e<n;e+=1)this.audios[e].resume()},setRate:function(e){var n,a=this.audios.length;for(n=0;n<a;n+=1)this.audios[n].setRate(e)},createAudio:function(e){return this.audioFactory?this.audioFactory(e):window.Howl?new window.Howl({src:[e]}):{isPlaying:!1,play:function(){this.isPlaying=!0},seek:function(){this.isPlaying=!1},playing:function(){},rate:function(){},setVolume:function(){}}},setAudioFactory:function(e){this.audioFactory=e},setVolume:function(e){this._volume=e,this._updateVolume()},mute:function(){this._isMuted=!0,this._updateVolume()},unmute:function(){this._isMuted=!1,this._updateVolume()},getVolume:function(){return this._volume},_updateVolume:function(){var e,n=this.audios.length;for(e=0;e<n;e+=1)this.audios[e].volume(this._volume*(this._isMuted?0:1))}},function(){return new i}}(),createTypedArray=function(){function i(e,n){var a=0,l=[],c;switch(e){case"int16":case"uint8c":c=1;break;default:c=1.1;break}for(a=0;a<n;a+=1)l.push(c);return l}function t(e,n){return e==="float32"?new Float32Array(n):e==="int16"?new Int16Array(n):e==="uint8c"?new Uint8ClampedArray(n):i(e,n)}return typeof Uint8ClampedArray=="function"&&typeof Float32Array=="function"?t:i}();function createSizedArray(i){return Array.apply(null,{length:i})}function _typeof$6(i){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?_typeof$6=function(e){return typeof e}:_typeof$6=function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_typeof$6(i)}var subframeEnabled=!0,expressionsPlugin=null,expressionsInterfaces=null,idPrefix$1="",isSafari=/^((?!chrome|android).)*safari/i.test(navigator.userAgent),bmPow=Math.pow,bmSqrt=Math.sqrt,bmFloor=Math.floor,bmMax=Math.max,bmMin=Math.min,BMMath={};(function(){var i=["abs","acos","acosh","asin","asinh","atan","atanh","atan2","ceil","cbrt","expm1","clz32","cos","cosh","exp","floor","fround","hypot","imul","log","log1p","log2","log10","max","min","pow","random","round","sign","sin","sinh","sqrt","tan","tanh","trunc","E","LN10","LN2","LOG10E","LOG2E","PI","SQRT1_2","SQRT2"],t,e=i.length;for(t=0;t<e;t+=1)BMMath[i[t]]=Math[i[t]]})(),BMMath.random=Math.random,BMMath.abs=function(i){var t=_typeof$6(i);if(t==="object"&&i.length){var e=createSizedArray(i.length),n,a=i.length;for(n=0;n<a;n+=1)e[n]=Math.abs(i[n]);return e}return Math.abs(i)};var defaultCurveSegments=150,degToRads=Math.PI/180,roundCorner=.5519;function styleDiv(i){i.style.position="absolute",i.style.top=0,i.style.left=0,i.style.display="block",i.style.transformOrigin="0 0",i.style.webkitTransformOrigin="0 0",i.style.backfaceVisibility="visible",i.style.webkitBackfaceVisibility="visible",i.style.transformStyle="preserve-3d",i.style.webkitTransformStyle="preserve-3d",i.style.mozTransformStyle="preserve-3d"}function BMEnterFrameEvent(i,t,e,n){this.type=i,this.currentTime=t,this.totalTime=e,this.direction=n<0?-1:1}function BMCompleteEvent(i,t){this.type=i,this.direction=t<0?-1:1}function BMCompleteLoopEvent(i,t,e,n){this.type=i,this.currentLoop=e,this.totalLoops=t,this.direction=n<0?-1:1}function BMSegmentStartEvent(i,t,e){this.type=i,this.firstFrame=t,this.totalFrames=e}function BMDestroyEvent(i,t){this.type=i,this.target=t}function BMRenderFrameErrorEvent(i,t){this.type="renderFrameError",this.nativeError=i,this.currentTime=t}function BMConfigErrorEvent(i){this.type="configError",this.nativeError=i}var createElementID=function(){var i=0;return function(){return i+=1,idPrefix$1+"__lottie_element_"+i}}();function HSVtoRGB(i,t,e){var n,a,l,c,f,d,m,y;switch(c=Math.floor(i*6),f=i*6-c,d=e*(1-t),m=e*(1-f*t),y=e*(1-(1-f)*t),c%6){case 0:n=e,a=y,l=d;break;case 1:n=m,a=e,l=d;break;case 2:n=d,a=e,l=y;break;case 3:n=d,a=m,l=e;break;case 4:n=y,a=d,l=e;break;case 5:n=e,a=d,l=m;break}return[n,a,l]}function RGBtoHSV(i,t,e){var n=Math.max(i,t,e),a=Math.min(i,t,e),l=n-a,c,f=n===0?0:l/n,d=n/255;switch(n){case a:c=0;break;case i:c=t-e+l*(t<e?6:0),c/=6*l;break;case t:c=e-i+l*2,c/=6*l;break;case e:c=i-t+l*4,c/=6*l;break}return[c,f,d]}function addSaturationToRGB(i,t){var e=RGBtoHSV(i[0]*255,i[1]*255,i[2]*255);return e[1]+=t,e[1]>1?e[1]=1:e[1]<=0&&(e[1]=0),HSVtoRGB(e[0],e[1],e[2])}function addBrightnessToRGB(i,t){var e=RGBtoHSV(i[0]*255,i[1]*255,i[2]*255);return e[2]+=t,e[2]>1?e[2]=1:e[2]<0&&(e[2]=0),HSVtoRGB(e[0],e[1],e[2])}function addHueToRGB(i,t){var e=RGBtoHSV(i[0]*255,i[1]*255,i[2]*255);return e[0]+=t/360,e[0]>1?e[0]-=1:e[0]<0&&(e[0]+=1),HSVtoRGB(e[0],e[1],e[2])}var rgbToHex=function(){var i=[],t,e;for(t=0;t<256;t+=1)e=t.toString(16),i[t]=e.length===1?"0"+e:e;return function(n,a,l){return n<0&&(n=0),a<0&&(a=0),l<0&&(l=0),"#"+i[n]+i[a]+i[l]}}(),setSubframeEnabled=function(t){subframeEnabled=!!t},getSubframeEnabled=function(){return subframeEnabled},setExpressionsPlugin=function(t){expressionsPlugin=t},getExpressionsPlugin=function(){return expressionsPlugin},setExpressionInterfaces=function(t){expressionsInterfaces=t},getExpressionInterfaces=function(){return expressionsInterfaces},setDefaultCurveSegments=function(t){defaultCurveSegments=t},getDefaultCurveSegments=function(){return defaultCurveSegments},setIdPrefix=function(t){idPrefix$1=t};function createNS(i){return document.createElementNS(svgNS,i)}function _typeof$5(i){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?_typeof$5=function(e){return typeof e}:_typeof$5=function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_typeof$5(i)}var dataManager=function(){var i=1,t=[],e,n,a={onmessage:function(){},postMessage:function(x){e({data:x})}},l={postMessage:function(x){a.onmessage({data:x})}};function c(b){if(window.Worker&&window.Blob&&getWebWorker()){var x=new Blob(["var _workerSelf = self; self.onmessage = ",b.toString()],{type:"text/javascript"}),E=URL.createObjectURL(x);return new Worker(E)}return e=b,a}function f(){n||(n=c(function(x){function E(){function k(W,O){var H,F,N=W.length,V,$,Q,st;for(F=0;F<N;F+=1)if(H=W[F],"ks"in H&&!H.completed){if(H.completed=!0,H.hasMask){var rt=H.masksProperties;for($=rt.length,V=0;V<$;V+=1)if(rt[V].pt.k.i)D(rt[V].pt.k);else for(st=rt[V].pt.k.length,Q=0;Q<st;Q+=1)rt[V].pt.k[Q].s&&D(rt[V].pt.k[Q].s[0]),rt[V].pt.k[Q].e&&D(rt[V].pt.k[Q].e[0])}H.ty===0?(H.layers=P(H.refId,O),k(H.layers,O)):H.ty===4?R(H.shapes):H.ty===5&&lt(H)}}function S(W,O){if(W){var H=0,F=W.length;for(H=0;H<F;H+=1)W[H].t===1&&(W[H].data.layers=P(W[H].data.refId,O),k(W[H].data.layers,O))}}function M(W,O){for(var H=0,F=O.length;H<F;){if(O[H].id===W)return O[H];H+=1}return null}function P(W,O){var H=M(W,O);return H?H.layers.__used?JSON.parse(JSON.stringify(H.layers)):(H.layers.__used=!0,H.layers):null}function R(W){var O,H=W.length,F,N;for(O=H-1;O>=0;O-=1)if(W[O].ty==="sh")if(W[O].ks.k.i)D(W[O].ks.k);else for(N=W[O].ks.k.length,F=0;F<N;F+=1)W[O].ks.k[F].s&&D(W[O].ks.k[F].s[0]),W[O].ks.k[F].e&&D(W[O].ks.k[F].e[0]);else W[O].ty==="gr"&&R(W[O].it)}function D(W){var O,H=W.i.length;for(O=0;O<H;O+=1)W.i[O][0]+=W.v[O][0],W.i[O][1]+=W.v[O][1],W.o[O][0]+=W.v[O][0],W.o[O][1]+=W.v[O][1]}function L(W,O){var H=O?O.split("."):[100,100,100];return W[0]>H[0]?!0:H[0]>W[0]?!1:W[1]>H[1]?!0:H[1]>W[1]?!1:W[2]>H[2]?!0:H[2]>W[2]?!1:null}var G=function(){var W=[4,4,14];function O(F){var N=F.t.d;F.t.d={k:[{s:N,t:0}]}}function H(F){var N,V=F.length;for(N=0;N<V;N+=1)F[N].ty===5&&O(F[N])}return function(F){if(L(W,F.v)&&(H(F.layers),F.assets)){var N,V=F.assets.length;for(N=0;N<V;N+=1)F.assets[N].layers&&H(F.assets[N].layers)}}}(),q=function(){var W=[4,7,99];return function(O){if(O.chars&&!L(W,O.v)){var H,F=O.chars.length;for(H=0;H<F;H+=1){var N=O.chars[H];N.data&&N.data.shapes&&(R(N.data.shapes),N.data.ip=0,N.data.op=99999,N.data.st=0,N.data.sr=1,N.data.ks={p:{k:[0,0],a:0},s:{k:[100,100],a:0},a:{k:[0,0],a:0},r:{k:0,a:0},o:{k:100,a:0}},O.chars[H].t||(N.data.shapes.push({ty:"no"}),N.data.shapes[0].it.push({p:{k:[0,0],a:0},s:{k:[100,100],a:0},a:{k:[0,0],a:0},r:{k:0,a:0},o:{k:100,a:0},sk:{k:0,a:0},sa:{k:0,a:0},ty:"tr"})))}}}}(),X=function(){var W=[5,7,15];function O(F){var N=F.t.p;typeof N.a=="number"&&(N.a={a:0,k:N.a}),typeof N.p=="number"&&(N.p={a:0,k:N.p}),typeof N.r=="number"&&(N.r={a:0,k:N.r})}function H(F){var N,V=F.length;for(N=0;N<V;N+=1)F[N].ty===5&&O(F[N])}return function(F){if(L(W,F.v)&&(H(F.layers),F.assets)){var N,V=F.assets.length;for(N=0;N<V;N+=1)F.assets[N].layers&&H(F.assets[N].layers)}}}(),J=function(){var W=[4,1,9];function O(F){var N,V=F.length,$,Q;for(N=0;N<V;N+=1)if(F[N].ty==="gr")O(F[N].it);else if(F[N].ty==="fl"||F[N].ty==="st")if(F[N].c.k&&F[N].c.k[0].i)for(Q=F[N].c.k.length,$=0;$<Q;$+=1)F[N].c.k[$].s&&(F[N].c.k[$].s[0]/=255,F[N].c.k[$].s[1]/=255,F[N].c.k[$].s[2]/=255,F[N].c.k[$].s[3]/=255),F[N].c.k[$].e&&(F[N].c.k[$].e[0]/=255,F[N].c.k[$].e[1]/=255,F[N].c.k[$].e[2]/=255,F[N].c.k[$].e[3]/=255);else F[N].c.k[0]/=255,F[N].c.k[1]/=255,F[N].c.k[2]/=255,F[N].c.k[3]/=255}function H(F){var N,V=F.length;for(N=0;N<V;N+=1)F[N].ty===4&&O(F[N].shapes)}return function(F){if(L(W,F.v)&&(H(F.layers),F.assets)){var N,V=F.assets.length;for(N=0;N<V;N+=1)F.assets[N].layers&&H(F.assets[N].layers)}}}(),et=function(){var W=[4,4,18];function O(F){var N,V=F.length,$,Q;for(N=V-1;N>=0;N-=1)if(F[N].ty==="sh")if(F[N].ks.k.i)F[N].ks.k.c=F[N].closed;else for(Q=F[N].ks.k.length,$=0;$<Q;$+=1)F[N].ks.k[$].s&&(F[N].ks.k[$].s[0].c=F[N].closed),F[N].ks.k[$].e&&(F[N].ks.k[$].e[0].c=F[N].closed);else F[N].ty==="gr"&&O(F[N].it)}function H(F){var N,V,$=F.length,Q,st,rt,pt;for(V=0;V<$;V+=1){if(N=F[V],N.hasMask){var ht=N.masksProperties;for(st=ht.length,Q=0;Q<st;Q+=1)if(ht[Q].pt.k.i)ht[Q].pt.k.c=ht[Q].cl;else for(pt=ht[Q].pt.k.length,rt=0;rt<pt;rt+=1)ht[Q].pt.k[rt].s&&(ht[Q].pt.k[rt].s[0].c=ht[Q].cl),ht[Q].pt.k[rt].e&&(ht[Q].pt.k[rt].e[0].c=ht[Q].cl)}N.ty===4&&O(N.shapes)}}return function(F){if(L(W,F.v)&&(H(F.layers),F.assets)){var N,V=F.assets.length;for(N=0;N<V;N+=1)F.assets[N].layers&&H(F.assets[N].layers)}}}();function it(W){W.__complete||(J(W),G(W),q(W),X(W),et(W),k(W.layers,W.assets),S(W.chars,W.assets),W.__complete=!0)}function lt(W){W.t.a.length===0&&"m"in W.t.p}var tt={};return tt.completeData=it,tt.checkColors=J,tt.checkChars=q,tt.checkPathProperties=X,tt.checkShapes=et,tt.completeLayers=k,tt}if(l.dataManager||(l.dataManager=E()),l.assetLoader||(l.assetLoader=function(){function k(M){var P=M.getResponseHeader("content-type");return P&&M.responseType==="json"&&P.indexOf("json")!==-1||M.response&&_typeof$5(M.response)==="object"?M.response:M.response&&typeof M.response=="string"?JSON.parse(M.response):M.responseText?JSON.parse(M.responseText):null}function S(M,P,R,D){var L,G=new XMLHttpRequest;try{G.responseType="json"}catch{}G.onreadystatechange=function(){if(G.readyState===4)if(G.status===200)L=k(G),R(L);else try{L=k(G),R(L)}catch(q){D&&D(q)}};try{G.open(["G","E","T"].join(""),M,!0)}catch{G.open(["G","E","T"].join(""),P+"/"+M,!0)}G.send()}return{load:S}}()),x.data.type==="loadAnimation")l.assetLoader.load(x.data.path,x.data.fullPath,function(k){l.dataManager.completeData(k),l.postMessage({id:x.data.id,payload:k,status:"success"})},function(){l.postMessage({id:x.data.id,status:"error"})});else if(x.data.type==="complete"){var T=x.data.animation;l.dataManager.completeData(T),l.postMessage({id:x.data.id,payload:T,status:"success"})}else x.data.type==="loadData"&&l.assetLoader.load(x.data.path,x.data.fullPath,function(k){l.postMessage({id:x.data.id,payload:k,status:"success"})},function(){l.postMessage({id:x.data.id,status:"error"})})}),n.onmessage=function(b){var x=b.data,E=x.id,T=t[E];t[E]=null,x.status==="success"?T.onComplete(x.payload):T.onError&&T.onError()})}function d(b,x){i+=1;var E="processId_"+i;return t[E]={onComplete:b,onError:x},E}function m(b,x,E){f();var T=d(x,E);n.postMessage({type:"loadAnimation",path:b,fullPath:window.location.origin+window.location.pathname,id:T})}function y(b,x,E){f();var T=d(x,E);n.postMessage({type:"loadData",path:b,fullPath:window.location.origin+window.location.pathname,id:T})}function A(b,x,E){f();var T=d(x,E);n.postMessage({type:"complete",animation:b,id:T})}return{loadAnimation:m,loadData:y,completeAnimation:A}}(),ImagePreloader=function(){var i=function(){var S=createTag("canvas");S.width=1,S.height=1;var M=S.getContext("2d");return M.fillStyle="rgba(0,0,0,0)",M.fillRect(0,0,1,1),S}();function t(){this.loadedAssets+=1,this.loadedAssets===this.totalImages&&this.loadedFootagesCount===this.totalFootages&&this.imagesLoadedCb&&this.imagesLoadedCb(null)}function e(){this.loadedFootagesCount+=1,this.loadedAssets===this.totalImages&&this.loadedFootagesCount===this.totalFootages&&this.imagesLoadedCb&&this.imagesLoadedCb(null)}function n(S,M,P){var R="";if(S.e)R=S.p;else if(M){var D=S.p;D.indexOf("images/")!==-1&&(D=D.split("/")[1]),R=M+D}else R=P,R+=S.u?S.u:"",R+=S.p;return R}function a(S){var M=0,P=setInterval((function(){var R=S.getBBox();(R.width||M>500)&&(this._imageLoaded(),clearInterval(P)),M+=1}).bind(this),50)}function l(S){var M=n(S,this.assetsPath,this.path),P=createNS("image");isSafari?this.testImageLoaded(P):P.addEventListener("load",this._imageLoaded,!1),P.addEventListener("error",(function(){R.img=i,this._imageLoaded()}).bind(this),!1),P.setAttributeNS("http://www.w3.org/1999/xlink","href",M),this._elementHelper.append?this._elementHelper.append(P):this._elementHelper.appendChild(P);var R={img:P,assetData:S};return R}function c(S){var M=n(S,this.assetsPath,this.path),P=createTag("img");P.crossOrigin="anonymous",P.addEventListener("load",this._imageLoaded,!1),P.addEventListener("error",(function(){R.img=i,this._imageLoaded()}).bind(this),!1),P.src=M;var R={img:P,assetData:S};return R}function f(S){var M={assetData:S},P=n(S,this.assetsPath,this.path);return dataManager.loadData(P,(function(R){M.img=R,this._footageLoaded()}).bind(this),(function(){M.img={},this._footageLoaded()}).bind(this)),M}function d(S,M){this.imagesLoadedCb=M;var P,R=S.length;for(P=0;P<R;P+=1)S[P].layers||(!S[P].t||S[P].t==="seq"?(this.totalImages+=1,this.images.push(this._createImageData(S[P]))):S[P].t===3&&(this.totalFootages+=1,this.images.push(this.createFootageData(S[P]))))}function m(S){this.path=S||""}function y(S){this.assetsPath=S||""}function A(S){for(var M=0,P=this.images.length;M<P;){if(this.images[M].assetData===S)return this.images[M].img;M+=1}return null}function b(){this.imagesLoadedCb=null,this.images.length=0}function x(){return this.totalImages===this.loadedAssets}function E(){return this.totalFootages===this.loadedFootagesCount}function T(S,M){S==="svg"?(this._elementHelper=M,this._createImageData=this.createImageData.bind(this)):this._createImageData=this.createImgData.bind(this)}function k(){this._imageLoaded=t.bind(this),this._footageLoaded=e.bind(this),this.testImageLoaded=a.bind(this),this.createFootageData=f.bind(this),this.assetsPath="",this.path="",this.totalImages=0,this.totalFootages=0,this.loadedAssets=0,this.loadedFootagesCount=0,this.imagesLoadedCb=null,this.images=[]}return k.prototype={loadAssets:d,setAssetsPath:y,setPath:m,loadedImages:x,loadedFootages:E,destroy:b,getAsset:A,createImgData:c,createImageData:l,imageLoaded:t,footageLoaded:e,setCacheType:T},k}();function BaseEvent(){}BaseEvent.prototype={triggerEvent:function(t,e){if(this._cbs[t])for(var n=this._cbs[t],a=0;a<n.length;a+=1)n[a](e)},addEventListener:function(t,e){return this._cbs[t]||(this._cbs[t]=[]),this._cbs[t].push(e),(function(){this.removeEventListener(t,e)}).bind(this)},removeEventListener:function(t,e){if(!e)this._cbs[t]=null;else if(this._cbs[t]){for(var n=0,a=this._cbs[t].length;n<a;)this._cbs[t][n]===e&&(this._cbs[t].splice(n,1),n-=1,a-=1),n+=1;this._cbs[t].length||(this._cbs[t]=null)}}};var markerParser=function(){function i(t){for(var e=t.split(`\r
`),n={},a,l=0,c=0;c<e.length;c+=1)a=e[c].split(":"),a.length===2&&(n[a[0]]=a[1].trim(),l+=1);if(l===0)throw new Error;return n}return function(t){for(var e=[],n=0;n<t.length;n+=1){var a=t[n],l={time:a.tm,duration:a.dr};try{l.payload=JSON.parse(t[n].cm)}catch{try{l.payload=i(t[n].cm)}catch{l.payload={name:t[n].cm}}}e.push(l)}return e}}(),ProjectInterface=function(){function i(t){this.compositions.push(t)}return function(){function t(e){for(var n=0,a=this.compositions.length;n<a;){if(this.compositions[n].data&&this.compositions[n].data.nm===e)return this.compositions[n].prepareFrame&&this.compositions[n].data.xt&&this.compositions[n].prepareFrame(this.currentFrame),this.compositions[n].compInterface;n+=1}return null}return t.compositions=[],t.currentFrame=0,t.registerComposition=i,t}}(),renderers={},registerRenderer=function(t,e){renderers[t]=e};function getRenderer(i){return renderers[i]}function getRegisteredRenderer(){if(renderers.canvas)return"canvas";for(var i in renderers)if(renderers[i])return i;return""}function _typeof$4(i){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?_typeof$4=function(e){return typeof e}:_typeof$4=function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_typeof$4(i)}var AnimationItem=function(){this._cbs=[],this.name="",this.path="",this.isLoaded=!1,this.currentFrame=0,this.currentRawFrame=0,this.firstFrame=0,this.totalFrames=0,this.frameRate=0,this.frameMult=0,this.playSpeed=1,this.playDirection=1,this.playCount=0,this.animationData={},this.assets=[],this.isPaused=!0,this.autoplay=!1,this.loop=!0,this.renderer=null,this.animationID=createElementID(),this.assetsPath="",this.timeCompleted=0,this.segmentPos=0,this.isSubframeEnabled=getSubframeEnabled(),this.segments=[],this._idle=!0,this._completedLoop=!1,this.projectInterface=ProjectInterface(),this.imagePreloader=new ImagePreloader,this.audioController=audioControllerFactory(),this.markers=[],this.configAnimation=this.configAnimation.bind(this),this.onSetupError=this.onSetupError.bind(this),this.onSegmentComplete=this.onSegmentComplete.bind(this),this.drawnFrameEvent=new BMEnterFrameEvent("drawnFrame",0,0,0),this.expressionsPlugin=getExpressionsPlugin()};extendPrototype([BaseEvent],AnimationItem),AnimationItem.prototype.setParams=function(i){(i.wrapper||i.container)&&(this.wrapper=i.wrapper||i.container);var t="svg";i.animType?t=i.animType:i.renderer&&(t=i.renderer);var e=getRenderer(t);this.renderer=new e(this,i.rendererSettings),this.imagePreloader.setCacheType(t,this.renderer.globalData.defs),this.renderer.setProjectInterface(this.projectInterface),this.animType=t,i.loop===""||i.loop===null||i.loop===void 0||i.loop===!0?this.loop=!0:i.loop===!1?this.loop=!1:this.loop=parseInt(i.loop,10),this.autoplay="autoplay"in i?i.autoplay:!0,this.name=i.name?i.name:"",this.autoloadSegments=Object.prototype.hasOwnProperty.call(i,"autoloadSegments")?i.autoloadSegments:!0,this.assetsPath=i.assetsPath,this.initialSegment=i.initialSegment,i.audioFactory&&this.audioController.setAudioFactory(i.audioFactory),i.animationData?this.setupAnimation(i.animationData):i.path&&(i.path.lastIndexOf("\\")!==-1?this.path=i.path.substr(0,i.path.lastIndexOf("\\")+1):this.path=i.path.substr(0,i.path.lastIndexOf("/")+1),this.fileName=i.path.substr(i.path.lastIndexOf("/")+1),this.fileName=this.fileName.substr(0,this.fileName.lastIndexOf(".json")),dataManager.loadAnimation(i.path,this.configAnimation,this.onSetupError))},AnimationItem.prototype.onSetupError=function(){this.trigger("data_failed")},AnimationItem.prototype.setupAnimation=function(i){dataManager.completeAnimation(i,this.configAnimation)},AnimationItem.prototype.setData=function(i,t){t&&_typeof$4(t)!=="object"&&(t=JSON.parse(t));var e={wrapper:i,animationData:t},n=i.attributes;e.path=n.getNamedItem("data-animation-path")?n.getNamedItem("data-animation-path").value:n.getNamedItem("data-bm-path")?n.getNamedItem("data-bm-path").value:n.getNamedItem("bm-path")?n.getNamedItem("bm-path").value:"",e.animType=n.getNamedItem("data-anim-type")?n.getNamedItem("data-anim-type").value:n.getNamedItem("data-bm-type")?n.getNamedItem("data-bm-type").value:n.getNamedItem("bm-type")?n.getNamedItem("bm-type").value:n.getNamedItem("data-bm-renderer")?n.getNamedItem("data-bm-renderer").value:n.getNamedItem("bm-renderer")?n.getNamedItem("bm-renderer").value:getRegisteredRenderer()||"canvas";var a=n.getNamedItem("data-anim-loop")?n.getNamedItem("data-anim-loop").value:n.getNamedItem("data-bm-loop")?n.getNamedItem("data-bm-loop").value:n.getNamedItem("bm-loop")?n.getNamedItem("bm-loop").value:"";a==="false"?e.loop=!1:a==="true"?e.loop=!0:a!==""&&(e.loop=parseInt(a,10));var l=n.getNamedItem("data-anim-autoplay")?n.getNamedItem("data-anim-autoplay").value:n.getNamedItem("data-bm-autoplay")?n.getNamedItem("data-bm-autoplay").value:n.getNamedItem("bm-autoplay")?n.getNamedItem("bm-autoplay").value:!0;e.autoplay=l!=="false",e.name=n.getNamedItem("data-name")?n.getNamedItem("data-name").value:n.getNamedItem("data-bm-name")?n.getNamedItem("data-bm-name").value:n.getNamedItem("bm-name")?n.getNamedItem("bm-name").value:"";var c=n.getNamedItem("data-anim-prerender")?n.getNamedItem("data-anim-prerender").value:n.getNamedItem("data-bm-prerender")?n.getNamedItem("data-bm-prerender").value:n.getNamedItem("bm-prerender")?n.getNamedItem("bm-prerender").value:"";c==="false"&&(e.prerender=!1),e.path?this.setParams(e):this.trigger("destroy")},AnimationItem.prototype.includeLayers=function(i){i.op>this.animationData.op&&(this.animationData.op=i.op,this.totalFrames=Math.floor(i.op-this.animationData.ip));var t=this.animationData.layers,e,n=t.length,a=i.layers,l,c=a.length;for(l=0;l<c;l+=1)for(e=0;e<n;){if(t[e].id===a[l].id){t[e]=a[l];break}e+=1}if((i.chars||i.fonts)&&(this.renderer.globalData.fontManager.addChars(i.chars),this.renderer.globalData.fontManager.addFonts(i.fonts,this.renderer.globalData.defs)),i.assets)for(n=i.assets.length,e=0;e<n;e+=1)this.animationData.assets.push(i.assets[e]);this.animationData.__complete=!1,dataManager.completeAnimation(this.animationData,this.onSegmentComplete)},AnimationItem.prototype.onSegmentComplete=function(i){this.animationData=i;var t=getExpressionsPlugin();t&&t.initExpressions(this),this.loadNextSegment()},AnimationItem.prototype.loadNextSegment=function(){var i=this.animationData.segments;if(!i||i.length===0||!this.autoloadSegments){this.trigger("data_ready"),this.timeCompleted=this.totalFrames;return}var t=i.shift();this.timeCompleted=t.time*this.frameRate;var e=this.path+this.fileName+"_"+this.segmentPos+".json";this.segmentPos+=1,dataManager.loadData(e,this.includeLayers.bind(this),(function(){this.trigger("data_failed")}).bind(this))},AnimationItem.prototype.loadSegments=function(){var i=this.animationData.segments;i||(this.timeCompleted=this.totalFrames),this.loadNextSegment()},AnimationItem.prototype.imagesLoaded=function(){this.trigger("loaded_images"),this.checkLoaded()},AnimationItem.prototype.preloadImages=function(){this.imagePreloader.setAssetsPath(this.assetsPath),this.imagePreloader.setPath(this.path),this.imagePreloader.loadAssets(this.animationData.assets,this.imagesLoaded.bind(this))},AnimationItem.prototype.configAnimation=function(i){if(this.renderer)try{this.animationData=i,this.initialSegment?(this.totalFrames=Math.floor(this.initialSegment[1]-this.initialSegment[0]),this.firstFrame=Math.round(this.initialSegment[0])):(this.totalFrames=Math.floor(this.animationData.op-this.animationData.ip),this.firstFrame=Math.round(this.animationData.ip)),this.renderer.configAnimation(i),i.assets||(i.assets=[]),this.assets=this.animationData.assets,this.frameRate=this.animationData.fr,this.frameMult=this.animationData.fr/1e3,this.renderer.searchExtraCompositions(i.assets),this.markers=markerParser(i.markers||[]),this.trigger("config_ready"),this.preloadImages(),this.loadSegments(),this.updaFrameModifier(),this.waitForFontsLoaded(),this.isPaused&&this.audioController.pause()}catch(t){this.triggerConfigError(t)}},AnimationItem.prototype.waitForFontsLoaded=function(){this.renderer&&(this.renderer.globalData.fontManager.isLoaded?this.checkLoaded():setTimeout(this.waitForFontsLoaded.bind(this),20))},AnimationItem.prototype.checkLoaded=function(){if(!this.isLoaded&&this.renderer.globalData.fontManager.isLoaded&&(this.imagePreloader.loadedImages()||this.renderer.rendererType!=="canvas")&&this.imagePreloader.loadedFootages()){this.isLoaded=!0;var i=getExpressionsPlugin();i&&i.initExpressions(this),this.renderer.initItems(),setTimeout((function(){this.trigger("DOMLoaded")}).bind(this),0),this.gotoFrame(),this.autoplay&&this.play()}},AnimationItem.prototype.resize=function(i,t){var e=typeof i=="number"?i:void 0,n=typeof t=="number"?t:void 0;this.renderer.updateContainerSize(e,n)},AnimationItem.prototype.setSubframe=function(i){this.isSubframeEnabled=!!i},AnimationItem.prototype.gotoFrame=function(){this.currentFrame=this.isSubframeEnabled?this.currentRawFrame:~~this.currentRawFrame,this.timeCompleted!==this.totalFrames&&this.currentFrame>this.timeCompleted&&(this.currentFrame=this.timeCompleted),this.trigger("enterFrame"),this.renderFrame(),this.trigger("drawnFrame")},AnimationItem.prototype.renderFrame=function(){if(!(this.isLoaded===!1||!this.renderer))try{this.expressionsPlugin&&this.expressionsPlugin.resetFrame(),this.renderer.renderFrame(this.currentFrame+this.firstFrame)}catch(i){this.triggerRenderFrameError(i)}},AnimationItem.prototype.play=function(i){i&&this.name!==i||this.isPaused===!0&&(this.isPaused=!1,this.trigger("_play"),this.audioController.resume(),this._idle&&(this._idle=!1,this.trigger("_active")))},AnimationItem.prototype.pause=function(i){i&&this.name!==i||this.isPaused===!1&&(this.isPaused=!0,this.trigger("_pause"),this._idle=!0,this.trigger("_idle"),this.audioController.pause())},AnimationItem.prototype.togglePause=function(i){i&&this.name!==i||(this.isPaused===!0?this.play():this.pause())},AnimationItem.prototype.stop=function(i){i&&this.name!==i||(this.pause(),this.playCount=0,this._completedLoop=!1,this.setCurrentRawFrameValue(0))},AnimationItem.prototype.getMarkerData=function(i){for(var t,e=0;e<this.markers.length;e+=1)if(t=this.markers[e],t.payload&&t.payload.name===i)return t;return null},AnimationItem.prototype.goToAndStop=function(i,t,e){if(!(e&&this.name!==e)){var n=Number(i);if(isNaN(n)){var a=this.getMarkerData(i);a&&this.goToAndStop(a.time,!0)}else t?this.setCurrentRawFrameValue(i):this.setCurrentRawFrameValue(i*this.frameModifier);this.pause()}},AnimationItem.prototype.goToAndPlay=function(i,t,e){if(!(e&&this.name!==e)){var n=Number(i);if(isNaN(n)){var a=this.getMarkerData(i);a&&(a.duration?this.playSegments([a.time,a.time+a.duration],!0):this.goToAndStop(a.time,!0))}else this.goToAndStop(n,t,e);this.play()}},AnimationItem.prototype.advanceTime=function(i){if(!(this.isPaused===!0||this.isLoaded===!1)){var t=this.currentRawFrame+i*this.frameModifier,e=!1;t>=this.totalFrames-1&&this.frameModifier>0?!this.loop||this.playCount===this.loop?this.checkSegments(t>this.totalFrames?t%this.totalFrames:0)||(e=!0,t=this.totalFrames-1):t>=this.totalFrames?(this.playCount+=1,this.checkSegments(t%this.totalFrames)||(this.setCurrentRawFrameValue(t%this.totalFrames),this._completedLoop=!0,this.trigger("loopComplete"))):this.setCurrentRawFrameValue(t):t<0?this.checkSegments(t%this.totalFrames)||(this.loop&&!(this.playCount--<=0&&this.loop!==!0)?(this.setCurrentRawFrameValue(this.totalFrames+t%this.totalFrames),this._completedLoop?this.trigger("loopComplete"):this._completedLoop=!0):(e=!0,t=0)):this.setCurrentRawFrameValue(t),e&&(this.setCurrentRawFrameValue(t),this.pause(),this.trigger("complete"))}},AnimationItem.prototype.adjustSegment=function(i,t){this.playCount=0,i[1]<i[0]?(this.frameModifier>0&&(this.playSpeed<0?this.setSpeed(-this.playSpeed):this.setDirection(-1)),this.totalFrames=i[0]-i[1],this.timeCompleted=this.totalFrames,this.firstFrame=i[1],this.setCurrentRawFrameValue(this.totalFrames-.001-t)):i[1]>i[0]&&(this.frameModifier<0&&(this.playSpeed<0?this.setSpeed(-this.playSpeed):this.setDirection(1)),this.totalFrames=i[1]-i[0],this.timeCompleted=this.totalFrames,this.firstFrame=i[0],this.setCurrentRawFrameValue(.001+t)),this.trigger("segmentStart")},AnimationItem.prototype.setSegment=function(i,t){var e=-1;this.isPaused&&(this.currentRawFrame+this.firstFrame<i?e=i:this.currentRawFrame+this.firstFrame>t&&(e=t-i)),this.firstFrame=i,this.totalFrames=t-i,this.timeCompleted=this.totalFrames,e!==-1&&this.goToAndStop(e,!0)},AnimationItem.prototype.playSegments=function(i,t){if(t&&(this.segments.length=0),_typeof$4(i[0])==="object"){var e,n=i.length;for(e=0;e<n;e+=1)this.segments.push(i[e])}else this.segments.push(i);this.segments.length&&t&&this.adjustSegment(this.segments.shift(),0),this.isPaused&&this.play()},AnimationItem.prototype.resetSegments=function(i){this.segments.length=0,this.segments.push([this.animationData.ip,this.animationData.op]),i&&this.checkSegments(0)},AnimationItem.prototype.checkSegments=function(i){return this.segments.length?(this.adjustSegment(this.segments.shift(),i),!0):!1},AnimationItem.prototype.destroy=function(i){i&&this.name!==i||!this.renderer||(this.renderer.destroy(),this.imagePreloader.destroy(),this.trigger("destroy"),this._cbs=null,this.onEnterFrame=null,this.onLoopComplete=null,this.onComplete=null,this.onSegmentStart=null,this.onDestroy=null,this.renderer=null,this.expressionsPlugin=null,this.imagePreloader=null,this.projectInterface=null)},AnimationItem.prototype.setCurrentRawFrameValue=function(i){this.currentRawFrame=i,this.gotoFrame()},AnimationItem.prototype.setSpeed=function(i){this.playSpeed=i,this.updaFrameModifier()},AnimationItem.prototype.setDirection=function(i){this.playDirection=i<0?-1:1,this.updaFrameModifier()},AnimationItem.prototype.setLoop=function(i){this.loop=i},AnimationItem.prototype.setVolume=function(i,t){t&&this.name!==t||this.audioController.setVolume(i)},AnimationItem.prototype.getVolume=function(){return this.audioController.getVolume()},AnimationItem.prototype.mute=function(i){i&&this.name!==i||this.audioController.mute()},AnimationItem.prototype.unmute=function(i){i&&this.name!==i||this.audioController.unmute()},AnimationItem.prototype.updaFrameModifier=function(){this.frameModifier=this.frameMult*this.playSpeed*this.playDirection,this.audioController.setRate(this.playSpeed*this.playDirection)},AnimationItem.prototype.getPath=function(){return this.path},AnimationItem.prototype.getAssetsPath=function(i){var t="";if(i.e)t=i.p;else if(this.assetsPath){var e=i.p;e.indexOf("images/")!==-1&&(e=e.split("/")[1]),t=this.assetsPath+e}else t=this.path,t+=i.u?i.u:"",t+=i.p;return t},AnimationItem.prototype.getAssetData=function(i){for(var t=0,e=this.assets.length;t<e;){if(i===this.assets[t].id)return this.assets[t];t+=1}return null},AnimationItem.prototype.hide=function(){this.renderer.hide()},AnimationItem.prototype.show=function(){this.renderer.show()},AnimationItem.prototype.getDuration=function(i){return i?this.totalFrames:this.totalFrames/this.frameRate},AnimationItem.prototype.updateDocumentData=function(i,t,e){try{var n=this.renderer.getElementByPath(i);n.updateDocumentData(t,e)}catch{}},AnimationItem.prototype.trigger=function(i){if(this._cbs&&this._cbs[i])switch(i){case"enterFrame":this.triggerEvent(i,new BMEnterFrameEvent(i,this.currentFrame,this.totalFrames,this.frameModifier));break;case"drawnFrame":this.drawnFrameEvent.currentTime=this.currentFrame,this.drawnFrameEvent.totalTime=this.totalFrames,this.drawnFrameEvent.direction=this.frameModifier,this.triggerEvent(i,this.drawnFrameEvent);break;case"loopComplete":this.triggerEvent(i,new BMCompleteLoopEvent(i,this.loop,this.playCount,this.frameMult));break;case"complete":this.triggerEvent(i,new BMCompleteEvent(i,this.frameMult));break;case"segmentStart":this.triggerEvent(i,new BMSegmentStartEvent(i,this.firstFrame,this.totalFrames));break;case"destroy":this.triggerEvent(i,new BMDestroyEvent(i,this));break;default:this.triggerEvent(i)}i==="enterFrame"&&this.onEnterFrame&&this.onEnterFrame.call(this,new BMEnterFrameEvent(i,this.currentFrame,this.totalFrames,this.frameMult)),i==="loopComplete"&&this.onLoopComplete&&this.onLoopComplete.call(this,new BMCompleteLoopEvent(i,this.loop,this.playCount,this.frameMult)),i==="complete"&&this.onComplete&&this.onComplete.call(this,new BMCompleteEvent(i,this.frameMult)),i==="segmentStart"&&this.onSegmentStart&&this.onSegmentStart.call(this,new BMSegmentStartEvent(i,this.firstFrame,this.totalFrames)),i==="destroy"&&this.onDestroy&&this.onDestroy.call(this,new BMDestroyEvent(i,this))},AnimationItem.prototype.triggerRenderFrameError=function(i){var t=new BMRenderFrameErrorEvent(i,this.currentFrame);this.triggerEvent("error",t),this.onError&&this.onError.call(this,t)},AnimationItem.prototype.triggerConfigError=function(i){var t=new BMConfigErrorEvent(i,this.currentFrame);this.triggerEvent("error",t),this.onError&&this.onError.call(this,t)};var animationManager=function(){var i={},t=[],e=0,n=0,a=0,l=!0,c=!1;function f(O){for(var H=0,F=O.target;H<n;)t[H].animation===F&&(t.splice(H,1),H-=1,n-=1,F.isPaused||A()),H+=1}function d(O,H){if(!O)return null;for(var F=0;F<n;){if(t[F].elem===O&&t[F].elem!==null)return t[F].animation;F+=1}var N=new AnimationItem;return b(N,O),N.setData(O,H),N}function m(){var O,H=t.length,F=[];for(O=0;O<H;O+=1)F.push(t[O].animation);return F}function y(){a+=1,J()}function A(){a-=1}function b(O,H){O.addEventListener("destroy",f),O.addEventListener("_active",y),O.addEventListener("_idle",A),t.push({elem:H,animation:O}),n+=1}function x(O){var H=new AnimationItem;return b(H,null),H.setParams(O),H}function E(O,H){var F;for(F=0;F<n;F+=1)t[F].animation.setSpeed(O,H)}function T(O,H){var F;for(F=0;F<n;F+=1)t[F].animation.setDirection(O,H)}function k(O){var H;for(H=0;H<n;H+=1)t[H].animation.play(O)}function S(O){var H=O-e,F;for(F=0;F<n;F+=1)t[F].animation.advanceTime(H);e=O,a&&!c?window.requestAnimationFrame(S):l=!0}function M(O){e=O,window.requestAnimationFrame(S)}function P(O){var H;for(H=0;H<n;H+=1)t[H].animation.pause(O)}function R(O,H,F){var N;for(N=0;N<n;N+=1)t[N].animation.goToAndStop(O,H,F)}function D(O){var H;for(H=0;H<n;H+=1)t[H].animation.stop(O)}function L(O){var H;for(H=0;H<n;H+=1)t[H].animation.togglePause(O)}function G(O){var H;for(H=n-1;H>=0;H-=1)t[H].animation.destroy(O)}function q(O,H,F){var N=[].concat([].slice.call(document.getElementsByClassName("lottie")),[].slice.call(document.getElementsByClassName("bodymovin"))),V,$=N.length;for(V=0;V<$;V+=1)F&&N[V].setAttribute("data-bm-type",F),d(N[V],O);if(H&&$===0){F||(F="svg");var Q=document.getElementsByTagName("body")[0];Q.innerText="";var st=createTag("div");st.style.width="100%",st.style.height="100%",st.setAttribute("data-bm-type",F),Q.appendChild(st),d(st,O)}}function X(){var O;for(O=0;O<n;O+=1)t[O].animation.resize()}function J(){!c&&a&&l&&(window.requestAnimationFrame(M),l=!1)}function et(){c=!0}function it(){c=!1,J()}function lt(O,H){var F;for(F=0;F<n;F+=1)t[F].animation.setVolume(O,H)}function tt(O){var H;for(H=0;H<n;H+=1)t[H].animation.mute(O)}function W(O){var H;for(H=0;H<n;H+=1)t[H].animation.unmute(O)}return i.registerAnimation=d,i.loadAnimation=x,i.setSpeed=E,i.setDirection=T,i.play=k,i.pause=P,i.stop=D,i.togglePause=L,i.searchAnimations=q,i.resize=X,i.goToAndStop=R,i.destroy=G,i.freeze=et,i.unfreeze=it,i.setVolume=lt,i.mute=tt,i.unmute=W,i.getRegisteredAnimations=m,i}(),BezierFactory=function(){var i={};i.getBezierEasing=e;var t={};function e(M,P,R,D,L){var G=L||("bez_"+M+"_"+P+"_"+R+"_"+D).replace(/\./g,"p");if(t[G])return t[G];var q=new S([M,P,R,D]);return t[G]=q,q}var n=4,a=.001,l=1e-7,c=10,f=11,d=1/(f-1),m=typeof Float32Array=="function";function y(M,P){return 1-3*P+3*M}function A(M,P){return 3*P-6*M}function b(M){return 3*M}function x(M,P,R){return((y(P,R)*M+A(P,R))*M+b(P))*M}function E(M,P,R){return 3*y(P,R)*M*M+2*A(P,R)*M+b(P)}function T(M,P,R,D,L){var G,q,X=0;do q=P+(R-P)/2,G=x(q,D,L)-M,G>0?R=q:P=q;while(Math.abs(G)>l&&++X<c);return q}function k(M,P,R,D){for(var L=0;L<n;++L){var G=E(P,R,D);if(G===0)return P;var q=x(P,R,D)-M;P-=q/G}return P}function S(M){this._p=M,this._mSampleValues=m?new Float32Array(f):new Array(f),this._precomputed=!1,this.get=this.get.bind(this)}return S.prototype={get:function(P){var R=this._p[0],D=this._p[1],L=this._p[2],G=this._p[3];return this._precomputed||this._precompute(),R===D&&L===G?P:P===0?0:P===1?1:x(this._getTForX(P),D,G)},_precompute:function(){var P=this._p[0],R=this._p[1],D=this._p[2],L=this._p[3];this._precomputed=!0,(P!==R||D!==L)&&this._calcSampleValues()},_calcSampleValues:function(){for(var P=this._p[0],R=this._p[2],D=0;D<f;++D)this._mSampleValues[D]=x(D*d,P,R)},_getTForX:function(P){for(var R=this._p[0],D=this._p[2],L=this._mSampleValues,G=0,q=1,X=f-1;q!==X&&L[q]<=P;++q)G+=d;--q;var J=(P-L[q])/(L[q+1]-L[q]),et=G+J*d,it=E(et,R,D);return it>=a?k(P,et,R,D):it===0?et:T(P,G,G+d,R,D)}},i}(),pooling=function(){function i(t){return t.concat(createSizedArray(t.length))}return{double:i}}(),poolFactory=function(){return function(i,t,e){var n=0,a=i,l=createSizedArray(a),c={newElement:f,release:d};function f(){var m;return n?(n-=1,m=l[n]):m=t(),m}function d(m){n===a&&(l=pooling.double(l),a*=2),e&&e(m),l[n]=m,n+=1}return c}}(),bezierLengthPool=function(){function i(){return{addedLength:0,percents:createTypedArray("float32",getDefaultCurveSegments()),lengths:createTypedArray("float32",getDefaultCurveSegments())}}return poolFactory(8,i)}(),segmentsLengthPool=function(){function i(){return{lengths:[],totalLength:0}}function t(e){var n,a=e.lengths.length;for(n=0;n<a;n+=1)bezierLengthPool.release(e.lengths[n]);e.lengths.length=0}return poolFactory(8,i,t)}();function bezFunction(){var i=Math;function t(b,x,E,T,k,S){var M=b*T+x*k+E*S-k*T-S*b-E*x;return M>-.001&&M<.001}function e(b,x,E,T,k,S,M,P,R){if(E===0&&S===0&&R===0)return t(b,x,T,k,M,P);var D=i.sqrt(i.pow(T-b,2)+i.pow(k-x,2)+i.pow(S-E,2)),L=i.sqrt(i.pow(M-b,2)+i.pow(P-x,2)+i.pow(R-E,2)),G=i.sqrt(i.pow(M-T,2)+i.pow(P-k,2)+i.pow(R-S,2)),q;return D>L?D>G?q=D-L-G:q=G-L-D:G>L?q=G-L-D:q=L-D-G,q>-1e-4&&q<1e-4}var n=function(){return function(b,x,E,T){var k=getDefaultCurveSegments(),S,M,P,R,D,L=0,G,q=[],X=[],J=bezierLengthPool.newElement();for(P=E.length,S=0;S<k;S+=1){for(D=S/(k-1),G=0,M=0;M<P;M+=1)R=bmPow(1-D,3)*b[M]+3*bmPow(1-D,2)*D*E[M]+3*(1-D)*bmPow(D,2)*T[M]+bmPow(D,3)*x[M],q[M]=R,X[M]!==null&&(G+=bmPow(q[M]-X[M],2)),X[M]=q[M];G&&(G=bmSqrt(G),L+=G),J.percents[S]=D,J.lengths[S]=L}return J.addedLength=L,J}}();function a(b){var x=segmentsLengthPool.newElement(),E=b.c,T=b.v,k=b.o,S=b.i,M,P=b._length,R=x.lengths,D=0;for(M=0;M<P-1;M+=1)R[M]=n(T[M],T[M+1],k[M],S[M+1]),D+=R[M].addedLength;return E&&P&&(R[M]=n(T[M],T[0],k[M],S[0]),D+=R[M].addedLength),x.totalLength=D,x}function l(b){this.segmentLength=0,this.points=new Array(b)}function c(b,x){this.partialLength=b,this.point=x}var f=function(){var b={};return function(x,E,T,k){var S=(x[0]+"_"+x[1]+"_"+E[0]+"_"+E[1]+"_"+T[0]+"_"+T[1]+"_"+k[0]+"_"+k[1]).replace(/\./g,"p");if(!b[S]){var M=getDefaultCurveSegments(),P,R,D,L,G,q=0,X,J,et=null;x.length===2&&(x[0]!==E[0]||x[1]!==E[1])&&t(x[0],x[1],E[0],E[1],x[0]+T[0],x[1]+T[1])&&t(x[0],x[1],E[0],E[1],E[0]+k[0],E[1]+k[1])&&(M=2);var it=new l(M);for(D=T.length,P=0;P<M;P+=1){for(J=createSizedArray(D),G=P/(M-1),X=0,R=0;R<D;R+=1)L=bmPow(1-G,3)*x[R]+3*bmPow(1-G,2)*G*(x[R]+T[R])+3*(1-G)*bmPow(G,2)*(E[R]+k[R])+bmPow(G,3)*E[R],J[R]=L,et!==null&&(X+=bmPow(J[R]-et[R],2));X=bmSqrt(X),q+=X,it.points[P]=new c(X,J),et=J}it.segmentLength=q,b[S]=it}return b[S]}}();function d(b,x){var E=x.percents,T=x.lengths,k=E.length,S=bmFloor((k-1)*b),M=b*x.addedLength,P=0;if(S===k-1||S===0||M===T[S])return E[S];for(var R=T[S]>M?-1:1,D=!0;D;)if(T[S]<=M&&T[S+1]>M?(P=(M-T[S])/(T[S+1]-T[S]),D=!1):S+=R,S<0||S>=k-1){if(S===k-1)return E[S];D=!1}return E[S]+(E[S+1]-E[S])*P}function m(b,x,E,T,k,S){var M=d(k,S),P=1-M,R=i.round((P*P*P*b[0]+(M*P*P+P*M*P+P*P*M)*E[0]+(M*M*P+P*M*M+M*P*M)*T[0]+M*M*M*x[0])*1e3)/1e3,D=i.round((P*P*P*b[1]+(M*P*P+P*M*P+P*P*M)*E[1]+(M*M*P+P*M*M+M*P*M)*T[1]+M*M*M*x[1])*1e3)/1e3;return[R,D]}var y=createTypedArray("float32",8);function A(b,x,E,T,k,S,M){k<0?k=0:k>1&&(k=1);var P=d(k,M);S=S>1?1:S;var R=d(S,M),D,L=b.length,G=1-P,q=1-R,X=G*G*G,J=P*G*G*3,et=P*P*G*3,it=P*P*P,lt=G*G*q,tt=P*G*q+G*P*q+G*G*R,W=P*P*q+G*P*R+P*G*R,O=P*P*R,H=G*q*q,F=P*q*q+G*R*q+G*q*R,N=P*R*q+G*R*R+P*q*R,V=P*R*R,$=q*q*q,Q=R*q*q+q*R*q+q*q*R,st=R*R*q+q*R*R+R*q*R,rt=R*R*R;for(D=0;D<L;D+=1)y[D*4]=i.round((X*b[D]+J*E[D]+et*T[D]+it*x[D])*1e3)/1e3,y[D*4+1]=i.round((lt*b[D]+tt*E[D]+W*T[D]+O*x[D])*1e3)/1e3,y[D*4+2]=i.round((H*b[D]+F*E[D]+N*T[D]+V*x[D])*1e3)/1e3,y[D*4+3]=i.round(($*b[D]+Q*E[D]+st*T[D]+rt*x[D])*1e3)/1e3;return y}return{getSegmentsLength:a,getNewSegment:A,getPointInSegment:m,buildBezierData:f,pointOnLine2D:t,pointOnLine3D:e}}var bez=bezFunction(),initFrame=initialDefaultFrame,mathAbs=Math.abs;function interpolateValue(i,t){var e=this.offsetTime,n;this.propType==="multidimensional"&&(n=createTypedArray("float32",this.pv.length));for(var a=t.lastIndex,l=a,c=this.keyframes.length-1,f=!0,d,m,y;f;){if(d=this.keyframes[l],m=this.keyframes[l+1],l===c-1&&i>=m.t-e){d.h&&(d=m),a=0;break}if(m.t-e>i){a=l;break}l<c-1?l+=1:(a=0,f=!1)}y=this.keyframesMetadata[l]||{};var A,b,x,E,T,k,S=m.t-e,M=d.t-e,P;if(d.to){y.bezierData||(y.bezierData=bez.buildBezierData(d.s,m.s||d.e,d.to,d.ti));var R=y.bezierData;if(i>=S||i<M){var D=i>=S?R.points.length-1:0;for(b=R.points[D].point.length,A=0;A<b;A+=1)n[A]=R.points[D].point[A]}else{y.__fnct?k=y.__fnct:(k=BezierFactory.getBezierEasing(d.o.x,d.o.y,d.i.x,d.i.y,d.n).get,y.__fnct=k),x=k((i-M)/(S-M));var L=R.segmentLength*x,G,q=t.lastFrame<i&&t._lastKeyframeIndex===l?t._lastAddedLength:0;for(T=t.lastFrame<i&&t._lastKeyframeIndex===l?t._lastPoint:0,f=!0,E=R.points.length;f;){if(q+=R.points[T].partialLength,L===0||x===0||T===R.points.length-1){for(b=R.points[T].point.length,A=0;A<b;A+=1)n[A]=R.points[T].point[A];break}else if(L>=q&&L<q+R.points[T+1].partialLength){for(G=(L-q)/R.points[T+1].partialLength,b=R.points[T].point.length,A=0;A<b;A+=1)n[A]=R.points[T].point[A]+(R.points[T+1].point[A]-R.points[T].point[A])*G;break}T<E-1?T+=1:f=!1}t._lastPoint=T,t._lastAddedLength=q-R.points[T].partialLength,t._lastKeyframeIndex=l}}else{var X,J,et,it,lt;if(c=d.s.length,P=m.s||d.e,this.sh&&d.h!==1)if(i>=S)n[0]=P[0],n[1]=P[1],n[2]=P[2];else if(i<=M)n[0]=d.s[0],n[1]=d.s[1],n[2]=d.s[2];else{var tt=createQuaternion(d.s),W=createQuaternion(P),O=(i-M)/(S-M);quaternionToEuler(n,slerp(tt,W,O))}else for(l=0;l<c;l+=1)d.h!==1&&(i>=S?x=1:i<M?x=0:(d.o.x.constructor===Array?(y.__fnct||(y.__fnct=[]),y.__fnct[l]?k=y.__fnct[l]:(X=d.o.x[l]===void 0?d.o.x[0]:d.o.x[l],J=d.o.y[l]===void 0?d.o.y[0]:d.o.y[l],et=d.i.x[l]===void 0?d.i.x[0]:d.i.x[l],it=d.i.y[l]===void 0?d.i.y[0]:d.i.y[l],k=BezierFactory.getBezierEasing(X,J,et,it).get,y.__fnct[l]=k)):y.__fnct?k=y.__fnct:(X=d.o.x,J=d.o.y,et=d.i.x,it=d.i.y,k=BezierFactory.getBezierEasing(X,J,et,it).get,d.keyframeMetadata=k),x=k((i-M)/(S-M)))),P=m.s||d.e,lt=d.h===1?d.s[l]:d.s[l]+(P[l]-d.s[l])*x,this.propType==="multidimensional"?n[l]=lt:n=lt}return t.lastIndex=a,n}function slerp(i,t,e){var n=[],a=i[0],l=i[1],c=i[2],f=i[3],d=t[0],m=t[1],y=t[2],A=t[3],b,x,E,T,k;return x=a*d+l*m+c*y+f*A,x<0&&(x=-x,d=-d,m=-m,y=-y,A=-A),1-x>1e-6?(b=Math.acos(x),E=Math.sin(b),T=Math.sin((1-e)*b)/E,k=Math.sin(e*b)/E):(T=1-e,k=e),n[0]=T*a+k*d,n[1]=T*l+k*m,n[2]=T*c+k*y,n[3]=T*f+k*A,n}function quaternionToEuler(i,t){var e=t[0],n=t[1],a=t[2],l=t[3],c=Math.atan2(2*n*l-2*e*a,1-2*n*n-2*a*a),f=Math.asin(2*e*n+2*a*l),d=Math.atan2(2*e*l-2*n*a,1-2*e*e-2*a*a);i[0]=c/degToRads,i[1]=f/degToRads,i[2]=d/degToRads}function createQuaternion(i){var t=i[0]*degToRads,e=i[1]*degToRads,n=i[2]*degToRads,a=Math.cos(t/2),l=Math.cos(e/2),c=Math.cos(n/2),f=Math.sin(t/2),d=Math.sin(e/2),m=Math.sin(n/2),y=a*l*c-f*d*m,A=f*d*c+a*l*m,b=f*l*c+a*d*m,x=a*d*c-f*l*m;return[A,b,x,y]}function getValueAtCurrentTime(){var i=this.comp.renderedFrame-this.offsetTime,t=this.keyframes[0].t-this.offsetTime,e=this.keyframes[this.keyframes.length-1].t-this.offsetTime;if(!(i===this._caching.lastFrame||this._caching.lastFrame!==initFrame&&(this._caching.lastFrame>=e&&i>=e||this._caching.lastFrame<t&&i<t))){this._caching.lastFrame>=i&&(this._caching._lastKeyframeIndex=-1,this._caching.lastIndex=0);var n=this.interpolateValue(i,this._caching);this.pv=n}return this._caching.lastFrame=i,this.pv}function setVValue(i){var t;if(this.propType==="unidimensional")t=i*this.mult,mathAbs(this.v-t)>1e-5&&(this.v=t,this._mdf=!0);else for(var e=0,n=this.v.length;e<n;)t=i[e]*this.mult,mathAbs(this.v[e]-t)>1e-5&&(this.v[e]=t,this._mdf=!0),e+=1}function processEffectsSequence(){if(!(this.elem.globalData.frameId===this.frameId||!this.effectsSequence.length)){if(this.lock){this.setVValue(this.pv);return}this.lock=!0,this._mdf=this._isFirstFrame;var i,t=this.effectsSequence.length,e=this.kf?this.pv:this.data.k;for(i=0;i<t;i+=1)e=this.effectsSequence[i](e);this.setVValue(e),this._isFirstFrame=!1,this.lock=!1,this.frameId=this.elem.globalData.frameId}}function addEffect(i){this.effectsSequence.push(i),this.container.addDynamicProperty(this)}function ValueProperty(i,t,e,n){this.propType="unidimensional",this.mult=e||1,this.data=t,this.v=e?t.k*e:t.k,this.pv=t.k,this._mdf=!1,this.elem=i,this.container=n,this.comp=i.comp,this.k=!1,this.kf=!1,this.vel=0,this.effectsSequence=[],this._isFirstFrame=!0,this.getValue=processEffectsSequence,this.setVValue=setVValue,this.addEffect=addEffect}function MultiDimensionalProperty(i,t,e,n){this.propType="multidimensional",this.mult=e||1,this.data=t,this._mdf=!1,this.elem=i,this.container=n,this.comp=i.comp,this.k=!1,this.kf=!1,this.frameId=-1;var a,l=t.k.length;for(this.v=createTypedArray("float32",l),this.pv=createTypedArray("float32",l),this.vel=createTypedArray("float32",l),a=0;a<l;a+=1)this.v[a]=t.k[a]*this.mult,this.pv[a]=t.k[a];this._isFirstFrame=!0,this.effectsSequence=[],this.getValue=processEffectsSequence,this.setVValue=setVValue,this.addEffect=addEffect}function KeyframedValueProperty(i,t,e,n){this.propType="unidimensional",this.keyframes=t.k,this.keyframesMetadata=[],this.offsetTime=i.data.st,this.frameId=-1,this._caching={lastFrame:initFrame,lastIndex:0,value:0,_lastKeyframeIndex:-1},this.k=!0,this.kf=!0,this.data=t,this.mult=e||1,this.elem=i,this.container=n,this.comp=i.comp,this.v=initFrame,this.pv=initFrame,this._isFirstFrame=!0,this.getValue=processEffectsSequence,this.setVValue=setVValue,this.interpolateValue=interpolateValue,this.effectsSequence=[getValueAtCurrentTime.bind(this)],this.addEffect=addEffect}function KeyframedMultidimensionalProperty(i,t,e,n){this.propType="multidimensional";var a,l=t.k.length,c,f,d,m;for(a=0;a<l-1;a+=1)t.k[a].to&&t.k[a].s&&t.k[a+1]&&t.k[a+1].s&&(c=t.k[a].s,f=t.k[a+1].s,d=t.k[a].to,m=t.k[a].ti,(c.length===2&&!(c[0]===f[0]&&c[1]===f[1])&&bez.pointOnLine2D(c[0],c[1],f[0],f[1],c[0]+d[0],c[1]+d[1])&&bez.pointOnLine2D(c[0],c[1],f[0],f[1],f[0]+m[0],f[1]+m[1])||c.length===3&&!(c[0]===f[0]&&c[1]===f[1]&&c[2]===f[2])&&bez.pointOnLine3D(c[0],c[1],c[2],f[0],f[1],f[2],c[0]+d[0],c[1]+d[1],c[2]+d[2])&&bez.pointOnLine3D(c[0],c[1],c[2],f[0],f[1],f[2],f[0]+m[0],f[1]+m[1],f[2]+m[2]))&&(t.k[a].to=null,t.k[a].ti=null),c[0]===f[0]&&c[1]===f[1]&&d[0]===0&&d[1]===0&&m[0]===0&&m[1]===0&&(c.length===2||c[2]===f[2]&&d[2]===0&&m[2]===0)&&(t.k[a].to=null,t.k[a].ti=null));this.effectsSequence=[getValueAtCurrentTime.bind(this)],this.data=t,this.keyframes=t.k,this.keyframesMetadata=[],this.offsetTime=i.data.st,this.k=!0,this.kf=!0,this._isFirstFrame=!0,this.mult=e||1,this.elem=i,this.container=n,this.comp=i.comp,this.getValue=processEffectsSequence,this.setVValue=setVValue,this.interpolateValue=interpolateValue,this.frameId=-1;var y=t.k[0].s.length;for(this.v=createTypedArray("float32",y),this.pv=createTypedArray("float32",y),a=0;a<y;a+=1)this.v[a]=initFrame,this.pv[a]=initFrame;this._caching={lastFrame:initFrame,lastIndex:0,value:createTypedArray("float32",y)},this.addEffect=addEffect}var PropertyFactory=function(){function i(e,n,a,l,c){n.sid&&(n=e.globalData.slotManager.getProp(n));var f;if(!n.k.length)f=new ValueProperty(e,n,l,c);else if(typeof n.k[0]=="number")f=new MultiDimensionalProperty(e,n,l,c);else switch(a){case 0:f=new KeyframedValueProperty(e,n,l,c);break;case 1:f=new KeyframedMultidimensionalProperty(e,n,l,c);break}return f.effectsSequence.length&&c.addDynamicProperty(f),f}var t={getProp:i};return t}();function DynamicPropertyContainer(){}DynamicPropertyContainer.prototype={addDynamicProperty:function(t){this.dynamicProperties.indexOf(t)===-1&&(this.dynamicProperties.push(t),this.container.addDynamicProperty(this),this._isAnimated=!0)},iterateDynamicProperties:function(){this._mdf=!1;var t,e=this.dynamicProperties.length;for(t=0;t<e;t+=1)this.dynamicProperties[t].getValue(),this.dynamicProperties[t]._mdf&&(this._mdf=!0)},initDynamicPropertyContainer:function(t){this.container=t,this.dynamicProperties=[],this._mdf=!1,this._isAnimated=!1}};var pointPool=function(){function i(){return createTypedArray("float32",2)}return poolFactory(8,i)}();function ShapePath(){this.c=!1,this._length=0,this._maxLength=8,this.v=createSizedArray(this._maxLength),this.o=createSizedArray(this._maxLength),this.i=createSizedArray(this._maxLength)}ShapePath.prototype.setPathData=function(i,t){this.c=i,this.setLength(t);for(var e=0;e<t;)this.v[e]=pointPool.newElement(),this.o[e]=pointPool.newElement(),this.i[e]=pointPool.newElement(),e+=1},ShapePath.prototype.setLength=function(i){for(;this._maxLength<i;)this.doubleArrayLength();this._length=i},ShapePath.prototype.doubleArrayLength=function(){this.v=this.v.concat(createSizedArray(this._maxLength)),this.i=this.i.concat(createSizedArray(this._maxLength)),this.o=this.o.concat(createSizedArray(this._maxLength)),this._maxLength*=2},ShapePath.prototype.setXYAt=function(i,t,e,n,a){var l;switch(this._length=Math.max(this._length,n+1),this._length>=this._maxLength&&this.doubleArrayLength(),e){case"v":l=this.v;break;case"i":l=this.i;break;case"o":l=this.o;break;default:l=[];break}(!l[n]||l[n]&&!a)&&(l[n]=pointPool.newElement()),l[n][0]=i,l[n][1]=t},ShapePath.prototype.setTripleAt=function(i,t,e,n,a,l,c,f){this.setXYAt(i,t,"v",c,f),this.setXYAt(e,n,"o",c,f),this.setXYAt(a,l,"i",c,f)},ShapePath.prototype.reverse=function(){var i=new ShapePath;i.setPathData(this.c,this._length);var t=this.v,e=this.o,n=this.i,a=0;this.c&&(i.setTripleAt(t[0][0],t[0][1],n[0][0],n[0][1],e[0][0],e[0][1],0,!1),a=1);var l=this._length-1,c=this._length,f;for(f=a;f<c;f+=1)i.setTripleAt(t[l][0],t[l][1],n[l][0],n[l][1],e[l][0],e[l][1],f,!1),l-=1;return i},ShapePath.prototype.length=function(){return this._length};var shapePool=function(){function i(){return new ShapePath}function t(a){var l=a._length,c;for(c=0;c<l;c+=1)pointPool.release(a.v[c]),pointPool.release(a.i[c]),pointPool.release(a.o[c]),a.v[c]=null,a.i[c]=null,a.o[c]=null;a._length=0,a.c=!1}function e(a){var l=n.newElement(),c,f=a._length===void 0?a.v.length:a._length;for(l.setLength(f),l.c=a.c,c=0;c<f;c+=1)l.setTripleAt(a.v[c][0],a.v[c][1],a.o[c][0],a.o[c][1],a.i[c][0],a.i[c][1],c);return l}var n=poolFactory(4,i,t);return n.clone=e,n}();function ShapeCollection(){this._length=0,this._maxLength=4,this.shapes=createSizedArray(this._maxLength)}ShapeCollection.prototype.addShape=function(i){this._length===this._maxLength&&(this.shapes=this.shapes.concat(createSizedArray(this._maxLength)),this._maxLength*=2),this.shapes[this._length]=i,this._length+=1},ShapeCollection.prototype.releaseShapes=function(){var i;for(i=0;i<this._length;i+=1)shapePool.release(this.shapes[i]);this._length=0};var shapeCollectionPool=function(){var i={newShapeCollection:a,release:l},t=0,e=4,n=createSizedArray(e);function a(){var c;return t?(t-=1,c=n[t]):c=new ShapeCollection,c}function l(c){var f,d=c._length;for(f=0;f<d;f+=1)shapePool.release(c.shapes[f]);c._length=0,t===e&&(n=pooling.double(n),e*=2),n[t]=c,t+=1}return i}(),ShapePropertyFactory=function(){var i=-999999;function t(S,M,P){var R=P.lastIndex,D,L,G,q,X,J,et,it,lt,tt=this.keyframes;if(S<tt[0].t-this.offsetTime)D=tt[0].s[0],G=!0,R=0;else if(S>=tt[tt.length-1].t-this.offsetTime)D=tt[tt.length-1].s?tt[tt.length-1].s[0]:tt[tt.length-2].e[0],G=!0;else{for(var W=R,O=tt.length-1,H=!0,F,N,V;H&&(F=tt[W],N=tt[W+1],!(N.t-this.offsetTime>S));)W<O-1?W+=1:H=!1;if(V=this.keyframesMetadata[W]||{},G=F.h===1,R=W,!G){if(S>=N.t-this.offsetTime)it=1;else if(S<F.t-this.offsetTime)it=0;else{var $;V.__fnct?$=V.__fnct:($=BezierFactory.getBezierEasing(F.o.x,F.o.y,F.i.x,F.i.y).get,V.__fnct=$),it=$((S-(F.t-this.offsetTime))/(N.t-this.offsetTime-(F.t-this.offsetTime)))}L=N.s?N.s[0]:F.e[0]}D=F.s[0]}for(J=M._length,et=D.i[0].length,P.lastIndex=R,q=0;q<J;q+=1)for(X=0;X<et;X+=1)lt=G?D.i[q][X]:D.i[q][X]+(L.i[q][X]-D.i[q][X])*it,M.i[q][X]=lt,lt=G?D.o[q][X]:D.o[q][X]+(L.o[q][X]-D.o[q][X])*it,M.o[q][X]=lt,lt=G?D.v[q][X]:D.v[q][X]+(L.v[q][X]-D.v[q][X])*it,M.v[q][X]=lt}function e(){var S=this.comp.renderedFrame-this.offsetTime,M=this.keyframes[0].t-this.offsetTime,P=this.keyframes[this.keyframes.length-1].t-this.offsetTime,R=this._caching.lastFrame;return R!==i&&(R<M&&S<M||R>P&&S>P)||(this._caching.lastIndex=R<S?this._caching.lastIndex:0,this.interpolateShape(S,this.pv,this._caching)),this._caching.lastFrame=S,this.pv}function n(){this.paths=this.localShapeCollection}function a(S,M){if(S._length!==M._length||S.c!==M.c)return!1;var P,R=S._length;for(P=0;P<R;P+=1)if(S.v[P][0]!==M.v[P][0]||S.v[P][1]!==M.v[P][1]||S.o[P][0]!==M.o[P][0]||S.o[P][1]!==M.o[P][1]||S.i[P][0]!==M.i[P][0]||S.i[P][1]!==M.i[P][1])return!1;return!0}function l(S){a(this.v,S)||(this.v=shapePool.clone(S),this.localShapeCollection.releaseShapes(),this.localShapeCollection.addShape(this.v),this._mdf=!0,this.paths=this.localShapeCollection)}function c(){if(this.elem.globalData.frameId!==this.frameId){if(!this.effectsSequence.length){this._mdf=!1;return}if(this.lock){this.setVValue(this.pv);return}this.lock=!0,this._mdf=!1;var S;this.kf?S=this.pv:this.data.ks?S=this.data.ks.k:S=this.data.pt.k;var M,P=this.effectsSequence.length;for(M=0;M<P;M+=1)S=this.effectsSequence[M](S);this.setVValue(S),this.lock=!1,this.frameId=this.elem.globalData.frameId}}function f(S,M,P){this.propType="shape",this.comp=S.comp,this.container=S,this.elem=S,this.data=M,this.k=!1,this.kf=!1,this._mdf=!1;var R=P===3?M.pt.k:M.ks.k;this.v=shapePool.clone(R),this.pv=shapePool.clone(this.v),this.localShapeCollection=shapeCollectionPool.newShapeCollection(),this.paths=this.localShapeCollection,this.paths.addShape(this.v),this.reset=n,this.effectsSequence=[]}function d(S){this.effectsSequence.push(S),this.container.addDynamicProperty(this)}f.prototype.interpolateShape=t,f.prototype.getValue=c,f.prototype.setVValue=l,f.prototype.addEffect=d;function m(S,M,P){this.propType="shape",this.comp=S.comp,this.elem=S,this.container=S,this.offsetTime=S.data.st,this.keyframes=P===3?M.pt.k:M.ks.k,this.keyframesMetadata=[],this.k=!0,this.kf=!0;var R=this.keyframes[0].s[0].i.length;this.v=shapePool.newElement(),this.v.setPathData(this.keyframes[0].s[0].c,R),this.pv=shapePool.clone(this.v),this.localShapeCollection=shapeCollectionPool.newShapeCollection(),this.paths=this.localShapeCollection,this.paths.addShape(this.v),this.lastFrame=i,this.reset=n,this._caching={lastFrame:i,lastIndex:0},this.effectsSequence=[e.bind(this)]}m.prototype.getValue=c,m.prototype.interpolateShape=t,m.prototype.setVValue=l,m.prototype.addEffect=d;var y=function(){var S=roundCorner;function M(P,R){this.v=shapePool.newElement(),this.v.setPathData(!0,4),this.localShapeCollection=shapeCollectionPool.newShapeCollection(),this.paths=this.localShapeCollection,this.localShapeCollection.addShape(this.v),this.d=R.d,this.elem=P,this.comp=P.comp,this.frameId=-1,this.initDynamicPropertyContainer(P),this.p=PropertyFactory.getProp(P,R.p,1,0,this),this.s=PropertyFactory.getProp(P,R.s,1,0,this),this.dynamicProperties.length?this.k=!0:(this.k=!1,this.convertEllToPath())}return M.prototype={reset:n,getValue:function(){this.elem.globalData.frameId!==this.frameId&&(this.frameId=this.elem.globalData.frameId,this.iterateDynamicProperties(),this._mdf&&this.convertEllToPath())},convertEllToPath:function(){var R=this.p.v[0],D=this.p.v[1],L=this.s.v[0]/2,G=this.s.v[1]/2,q=this.d!==3,X=this.v;X.v[0][0]=R,X.v[0][1]=D-G,X.v[1][0]=q?R+L:R-L,X.v[1][1]=D,X.v[2][0]=R,X.v[2][1]=D+G,X.v[3][0]=q?R-L:R+L,X.v[3][1]=D,X.i[0][0]=q?R-L*S:R+L*S,X.i[0][1]=D-G,X.i[1][0]=q?R+L:R-L,X.i[1][1]=D-G*S,X.i[2][0]=q?R+L*S:R-L*S,X.i[2][1]=D+G,X.i[3][0]=q?R-L:R+L,X.i[3][1]=D+G*S,X.o[0][0]=q?R+L*S:R-L*S,X.o[0][1]=D-G,X.o[1][0]=q?R+L:R-L,X.o[1][1]=D+G*S,X.o[2][0]=q?R-L*S:R+L*S,X.o[2][1]=D+G,X.o[3][0]=q?R-L:R+L,X.o[3][1]=D-G*S}},extendPrototype([DynamicPropertyContainer],M),M}(),A=function(){function S(M,P){this.v=shapePool.newElement(),this.v.setPathData(!0,0),this.elem=M,this.comp=M.comp,this.data=P,this.frameId=-1,this.d=P.d,this.initDynamicPropertyContainer(M),P.sy===1?(this.ir=PropertyFactory.getProp(M,P.ir,0,0,this),this.is=PropertyFactory.getProp(M,P.is,0,.01,this),this.convertToPath=this.convertStarToPath):this.convertToPath=this.convertPolygonToPath,this.pt=PropertyFactory.getProp(M,P.pt,0,0,this),this.p=PropertyFactory.getProp(M,P.p,1,0,this),this.r=PropertyFactory.getProp(M,P.r,0,degToRads,this),this.or=PropertyFactory.getProp(M,P.or,0,0,this),this.os=PropertyFactory.getProp(M,P.os,0,.01,this),this.localShapeCollection=shapeCollectionPool.newShapeCollection(),this.localShapeCollection.addShape(this.v),this.paths=this.localShapeCollection,this.dynamicProperties.length?this.k=!0:(this.k=!1,this.convertToPath())}return S.prototype={reset:n,getValue:function(){this.elem.globalData.frameId!==this.frameId&&(this.frameId=this.elem.globalData.frameId,this.iterateDynamicProperties(),this._mdf&&this.convertToPath())},convertStarToPath:function(){var P=Math.floor(this.pt.v)*2,R=Math.PI*2/P,D=!0,L=this.or.v,G=this.ir.v,q=this.os.v,X=this.is.v,J=2*Math.PI*L/(P*2),et=2*Math.PI*G/(P*2),it,lt,tt,W,O=-Math.PI/2;O+=this.r.v;var H=this.data.d===3?-1:1;for(this.v._length=0,it=0;it<P;it+=1){lt=D?L:G,tt=D?q:X,W=D?J:et;var F=lt*Math.cos(O),N=lt*Math.sin(O),V=F===0&&N===0?0:N/Math.sqrt(F*F+N*N),$=F===0&&N===0?0:-F/Math.sqrt(F*F+N*N);F+=+this.p.v[0],N+=+this.p.v[1],this.v.setTripleAt(F,N,F-V*W*tt*H,N-$*W*tt*H,F+V*W*tt*H,N+$*W*tt*H,it,!0),D=!D,O+=R*H}},convertPolygonToPath:function(){var P=Math.floor(this.pt.v),R=Math.PI*2/P,D=this.or.v,L=this.os.v,G=2*Math.PI*D/(P*4),q,X=-Math.PI*.5,J=this.data.d===3?-1:1;for(X+=this.r.v,this.v._length=0,q=0;q<P;q+=1){var et=D*Math.cos(X),it=D*Math.sin(X),lt=et===0&&it===0?0:it/Math.sqrt(et*et+it*it),tt=et===0&&it===0?0:-et/Math.sqrt(et*et+it*it);et+=+this.p.v[0],it+=+this.p.v[1],this.v.setTripleAt(et,it,et-lt*G*L*J,it-tt*G*L*J,et+lt*G*L*J,it+tt*G*L*J,q,!0),X+=R*J}this.paths.length=0,this.paths[0]=this.v}},extendPrototype([DynamicPropertyContainer],S),S}(),b=function(){function S(M,P){this.v=shapePool.newElement(),this.v.c=!0,this.localShapeCollection=shapeCollectionPool.newShapeCollection(),this.localShapeCollection.addShape(this.v),this.paths=this.localShapeCollection,this.elem=M,this.comp=M.comp,this.frameId=-1,this.d=P.d,this.initDynamicPropertyContainer(M),this.p=PropertyFactory.getProp(M,P.p,1,0,this),this.s=PropertyFactory.getProp(M,P.s,1,0,this),this.r=PropertyFactory.getProp(M,P.r,0,0,this),this.dynamicProperties.length?this.k=!0:(this.k=!1,this.convertRectToPath())}return S.prototype={convertRectToPath:function(){var P=this.p.v[0],R=this.p.v[1],D=this.s.v[0]/2,L=this.s.v[1]/2,G=bmMin(D,L,this.r.v),q=G*(1-roundCorner);this.v._length=0,this.d===2||this.d===1?(this.v.setTripleAt(P+D,R-L+G,P+D,R-L+G,P+D,R-L+q,0,!0),this.v.setTripleAt(P+D,R+L-G,P+D,R+L-q,P+D,R+L-G,1,!0),G!==0?(this.v.setTripleAt(P+D-G,R+L,P+D-G,R+L,P+D-q,R+L,2,!0),this.v.setTripleAt(P-D+G,R+L,P-D+q,R+L,P-D+G,R+L,3,!0),this.v.setTripleAt(P-D,R+L-G,P-D,R+L-G,P-D,R+L-q,4,!0),this.v.setTripleAt(P-D,R-L+G,P-D,R-L+q,P-D,R-L+G,5,!0),this.v.setTripleAt(P-D+G,R-L,P-D+G,R-L,P-D+q,R-L,6,!0),this.v.setTripleAt(P+D-G,R-L,P+D-q,R-L,P+D-G,R-L,7,!0)):(this.v.setTripleAt(P-D,R+L,P-D+q,R+L,P-D,R+L,2),this.v.setTripleAt(P-D,R-L,P-D,R-L+q,P-D,R-L,3))):(this.v.setTripleAt(P+D,R-L+G,P+D,R-L+q,P+D,R-L+G,0,!0),G!==0?(this.v.setTripleAt(P+D-G,R-L,P+D-G,R-L,P+D-q,R-L,1,!0),this.v.setTripleAt(P-D+G,R-L,P-D+q,R-L,P-D+G,R-L,2,!0),this.v.setTripleAt(P-D,R-L+G,P-D,R-L+G,P-D,R-L+q,3,!0),this.v.setTripleAt(P-D,R+L-G,P-D,R+L-q,P-D,R+L-G,4,!0),this.v.setTripleAt(P-D+G,R+L,P-D+G,R+L,P-D+q,R+L,5,!0),this.v.setTripleAt(P+D-G,R+L,P+D-q,R+L,P+D-G,R+L,6,!0),this.v.setTripleAt(P+D,R+L-G,P+D,R+L-G,P+D,R+L-q,7,!0)):(this.v.setTripleAt(P-D,R-L,P-D+q,R-L,P-D,R-L,1,!0),this.v.setTripleAt(P-D,R+L,P-D,R+L-q,P-D,R+L,2,!0),this.v.setTripleAt(P+D,R+L,P+D-q,R+L,P+D,R+L,3,!0)))},getValue:function(){this.elem.globalData.frameId!==this.frameId&&(this.frameId=this.elem.globalData.frameId,this.iterateDynamicProperties(),this._mdf&&this.convertRectToPath())},reset:n},extendPrototype([DynamicPropertyContainer],S),S}();function x(S,M,P){var R;if(P===3||P===4){var D=P===3?M.pt:M.ks,L=D.k;L.length?R=new m(S,M,P):R=new f(S,M,P)}else P===5?R=new b(S,M):P===6?R=new y(S,M):P===7&&(R=new A(S,M));return R.k&&S.addDynamicProperty(R),R}function E(){return f}function T(){return m}var k={};return k.getShapeProp=x,k.getConstructorFunction=E,k.getKeyframedConstructorFunction=T,k}();/*!
 Transformation Matrix v2.0
 (c) Epistemex 2014-2015
 www.epistemex.com
 By Ken Fyrstenberg
 Contributions by leeoniya.
 License: MIT, header required.
 */var Matrix=function(){var i=Math.cos,t=Math.sin,e=Math.tan,n=Math.round;function a(){return this.props[0]=1,this.props[1]=0,this.props[2]=0,this.props[3]=0,this.props[4]=0,this.props[5]=1,this.props[6]=0,this.props[7]=0,this.props[8]=0,this.props[9]=0,this.props[10]=1,this.props[11]=0,this.props[12]=0,this.props[13]=0,this.props[14]=0,this.props[15]=1,this}function l(F){if(F===0)return this;var N=i(F),V=t(F);return this._t(N,-V,0,0,V,N,0,0,0,0,1,0,0,0,0,1)}function c(F){if(F===0)return this;var N=i(F),V=t(F);return this._t(1,0,0,0,0,N,-V,0,0,V,N,0,0,0,0,1)}function f(F){if(F===0)return this;var N=i(F),V=t(F);return this._t(N,0,V,0,0,1,0,0,-V,0,N,0,0,0,0,1)}function d(F){if(F===0)return this;var N=i(F),V=t(F);return this._t(N,-V,0,0,V,N,0,0,0,0,1,0,0,0,0,1)}function m(F,N){return this._t(1,N,F,1,0,0)}function y(F,N){return this.shear(e(F),e(N))}function A(F,N){var V=i(N),$=t(N);return this._t(V,$,0,0,-$,V,0,0,0,0,1,0,0,0,0,1)._t(1,0,0,0,e(F),1,0,0,0,0,1,0,0,0,0,1)._t(V,-$,0,0,$,V,0,0,0,0,1,0,0,0,0,1)}function b(F,N,V){return!V&&V!==0&&(V=1),F===1&&N===1&&V===1?this:this._t(F,0,0,0,0,N,0,0,0,0,V,0,0,0,0,1)}function x(F,N,V,$,Q,st,rt,pt,ht,mt,At,Ct,_t,Vt,ne,Et){return this.props[0]=F,this.props[1]=N,this.props[2]=V,this.props[3]=$,this.props[4]=Q,this.props[5]=st,this.props[6]=rt,this.props[7]=pt,this.props[8]=ht,this.props[9]=mt,this.props[10]=At,this.props[11]=Ct,this.props[12]=_t,this.props[13]=Vt,this.props[14]=ne,this.props[15]=Et,this}function E(F,N,V){return V=V||0,F!==0||N!==0||V!==0?this._t(1,0,0,0,0,1,0,0,0,0,1,0,F,N,V,1):this}function T(F,N,V,$,Q,st,rt,pt,ht,mt,At,Ct,_t,Vt,ne,Et){var gt=this.props;if(F===1&&N===0&&V===0&&$===0&&Q===0&&st===1&&rt===0&&pt===0&&ht===0&&mt===0&&At===1&&Ct===0)return gt[12]=gt[12]*F+gt[15]*_t,gt[13]=gt[13]*st+gt[15]*Vt,gt[14]=gt[14]*At+gt[15]*ne,gt[15]*=Et,this._identityCalculated=!1,this;var jt=gt[0],zt=gt[1],_e=gt[2],ye=gt[3],si=gt[4],ri=gt[5],ae=gt[6],Vi=gt[7],zi=gt[8],se=gt[9],Hi=gt[10],Ke=gt[11],He=gt[12],di=gt[13],hn=gt[14],cn=gt[15];return gt[0]=jt*F+zt*Q+_e*ht+ye*_t,gt[1]=jt*N+zt*st+_e*mt+ye*Vt,gt[2]=jt*V+zt*rt+_e*At+ye*ne,gt[3]=jt*$+zt*pt+_e*Ct+ye*Et,gt[4]=si*F+ri*Q+ae*ht+Vi*_t,gt[5]=si*N+ri*st+ae*mt+Vi*Vt,gt[6]=si*V+ri*rt+ae*At+Vi*ne,gt[7]=si*$+ri*pt+ae*Ct+Vi*Et,gt[8]=zi*F+se*Q+Hi*ht+Ke*_t,gt[9]=zi*N+se*st+Hi*mt+Ke*Vt,gt[10]=zi*V+se*rt+Hi*At+Ke*ne,gt[11]=zi*$+se*pt+Hi*Ct+Ke*Et,gt[12]=He*F+di*Q+hn*ht+cn*_t,gt[13]=He*N+di*st+hn*mt+cn*Vt,gt[14]=He*V+di*rt+hn*At+cn*ne,gt[15]=He*$+di*pt+hn*Ct+cn*Et,this._identityCalculated=!1,this}function k(F){var N=F.props;return this.transform(N[0],N[1],N[2],N[3],N[4],N[5],N[6],N[7],N[8],N[9],N[10],N[11],N[12],N[13],N[14],N[15])}function S(){return this._identityCalculated||(this._identity=!(this.props[0]!==1||this.props[1]!==0||this.props[2]!==0||this.props[3]!==0||this.props[4]!==0||this.props[5]!==1||this.props[6]!==0||this.props[7]!==0||this.props[8]!==0||this.props[9]!==0||this.props[10]!==1||this.props[11]!==0||this.props[12]!==0||this.props[13]!==0||this.props[14]!==0||this.props[15]!==1),this._identityCalculated=!0),this._identity}function M(F){for(var N=0;N<16;){if(F.props[N]!==this.props[N])return!1;N+=1}return!0}function P(F){var N;for(N=0;N<16;N+=1)F.props[N]=this.props[N];return F}function R(F){var N;for(N=0;N<16;N+=1)this.props[N]=F[N]}function D(F,N,V){return{x:F*this.props[0]+N*this.props[4]+V*this.props[8]+this.props[12],y:F*this.props[1]+N*this.props[5]+V*this.props[9]+this.props[13],z:F*this.props[2]+N*this.props[6]+V*this.props[10]+this.props[14]}}function L(F,N,V){return F*this.props[0]+N*this.props[4]+V*this.props[8]+this.props[12]}function G(F,N,V){return F*this.props[1]+N*this.props[5]+V*this.props[9]+this.props[13]}function q(F,N,V){return F*this.props[2]+N*this.props[6]+V*this.props[10]+this.props[14]}function X(){var F=this.props[0]*this.props[5]-this.props[1]*this.props[4],N=this.props[5]/F,V=-this.props[1]/F,$=-this.props[4]/F,Q=this.props[0]/F,st=(this.props[4]*this.props[13]-this.props[5]*this.props[12])/F,rt=-(this.props[0]*this.props[13]-this.props[1]*this.props[12])/F,pt=new Matrix;return pt.props[0]=N,pt.props[1]=V,pt.props[4]=$,pt.props[5]=Q,pt.props[12]=st,pt.props[13]=rt,pt}function J(F){var N=this.getInverseMatrix();return N.applyToPointArray(F[0],F[1],F[2]||0)}function et(F){var N,V=F.length,$=[];for(N=0;N<V;N+=1)$[N]=J(F[N]);return $}function it(F,N,V){var $=createTypedArray("float32",6);if(this.isIdentity())$[0]=F[0],$[1]=F[1],$[2]=N[0],$[3]=N[1],$[4]=V[0],$[5]=V[1];else{var Q=this.props[0],st=this.props[1],rt=this.props[4],pt=this.props[5],ht=this.props[12],mt=this.props[13];$[0]=F[0]*Q+F[1]*rt+ht,$[1]=F[0]*st+F[1]*pt+mt,$[2]=N[0]*Q+N[1]*rt+ht,$[3]=N[0]*st+N[1]*pt+mt,$[4]=V[0]*Q+V[1]*rt+ht,$[5]=V[0]*st+V[1]*pt+mt}return $}function lt(F,N,V){var $;return this.isIdentity()?$=[F,N,V]:$=[F*this.props[0]+N*this.props[4]+V*this.props[8]+this.props[12],F*this.props[1]+N*this.props[5]+V*this.props[9]+this.props[13],F*this.props[2]+N*this.props[6]+V*this.props[10]+this.props[14]],$}function tt(F,N){if(this.isIdentity())return F+","+N;var V=this.props;return Math.round((F*V[0]+N*V[4]+V[12])*100)/100+","+Math.round((F*V[1]+N*V[5]+V[13])*100)/100}function W(){for(var F=0,N=this.props,V="matrix3d(",$=1e4;F<16;)V+=n(N[F]*$)/$,V+=F===15?")":",",F+=1;return V}function O(F){var N=1e4;return F<1e-6&&F>0||F>-1e-6&&F<0?n(F*N)/N:F}function H(){var F=this.props,N=O(F[0]),V=O(F[1]),$=O(F[4]),Q=O(F[5]),st=O(F[12]),rt=O(F[13]);return"matrix("+N+","+V+","+$+","+Q+","+st+","+rt+")"}return function(){this.reset=a,this.rotate=l,this.rotateX=c,this.rotateY=f,this.rotateZ=d,this.skew=y,this.skewFromAxis=A,this.shear=m,this.scale=b,this.setTransform=x,this.translate=E,this.transform=T,this.multiply=k,this.applyToPoint=D,this.applyToX=L,this.applyToY=G,this.applyToZ=q,this.applyToPointArray=lt,this.applyToTriplePoints=it,this.applyToPointStringified=tt,this.toCSS=W,this.to2dCSS=H,this.clone=P,this.cloneFromProps=R,this.equals=M,this.inversePoints=et,this.inversePoint=J,this.getInverseMatrix=X,this._t=this.transform,this.isIdentity=S,this._identity=!0,this._identityCalculated=!1,this.props=createTypedArray("float32",16),this.reset()}}();function _typeof$3(i){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?_typeof$3=function(e){return typeof e}:_typeof$3=function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_typeof$3(i)}var lottie={};function setLocation(i){setLocationHref(i)}function searchAnimations(){animationManager.searchAnimations()}function setSubframeRendering(i){setSubframeEnabled(i)}function setPrefix(i){setIdPrefix(i)}function loadAnimation(i){return animationManager.loadAnimation(i)}function setQuality(i){if(typeof i=="string")switch(i){case"high":setDefaultCurveSegments(200);break;default:case"medium":setDefaultCurveSegments(50);break;case"low":setDefaultCurveSegments(10);break}else!isNaN(i)&&i>1&&setDefaultCurveSegments(i)}function inBrowser(){return typeof navigator<"u"}function installPlugin(i,t){i==="expressions"&&setExpressionsPlugin(t)}function getFactory(i){switch(i){case"propertyFactory":return PropertyFactory;case"shapePropertyFactory":return ShapePropertyFactory;case"matrix":return Matrix;default:return null}}lottie.play=animationManager.play,lottie.pause=animationManager.pause,lottie.setLocationHref=setLocation,lottie.togglePause=animationManager.togglePause,lottie.setSpeed=animationManager.setSpeed,lottie.setDirection=animationManager.setDirection,lottie.stop=animationManager.stop,lottie.searchAnimations=searchAnimations,lottie.registerAnimation=animationManager.registerAnimation,lottie.loadAnimation=loadAnimation,lottie.setSubframeRendering=setSubframeRendering,lottie.resize=animationManager.resize,lottie.goToAndStop=animationManager.goToAndStop,lottie.destroy=animationManager.destroy,lottie.setQuality=setQuality,lottie.inBrowser=inBrowser,lottie.installPlugin=installPlugin,lottie.freeze=animationManager.freeze,lottie.unfreeze=animationManager.unfreeze,lottie.setVolume=animationManager.setVolume,lottie.mute=animationManager.mute,lottie.unmute=animationManager.unmute,lottie.getRegisteredAnimations=animationManager.getRegisteredAnimations,lottie.useWebWorker=setWebWorker,lottie.setIDPrefix=setPrefix,lottie.__getFactory=getFactory,lottie.version="5.12.2";function checkReady(){document.readyState==="complete"&&(clearInterval(readyStateCheckInterval),searchAnimations())}function getQueryVariable(i){for(var t=queryString.split("&"),e=0;e<t.length;e+=1){var n=t[e].split("=");if(decodeURIComponent(n[0])==i)return decodeURIComponent(n[1])}return null}var queryString="";{var scripts=document.getElementsByTagName("script"),index=scripts.length-1,myScript=scripts[index]||{src:""};queryString=myScript.src?myScript.src.replace(/^[^\?]+\??/,""):"",getQueryVariable("renderer")}var readyStateCheckInterval=setInterval(checkReady,100);try{_typeof$3(exports)!=="object"&&(window.bodymovin=lottie)}catch(i){}var ShapeModifiers=function(){var i={},t={};i.registerModifier=e,i.getModifier=n;function e(a,l){t[a]||(t[a]=l)}function n(a,l,c){return new t[a](l,c)}return i}();function ShapeModifier(){}ShapeModifier.prototype.initModifierProperties=function(){},ShapeModifier.prototype.addShapeToModifier=function(){},ShapeModifier.prototype.addShape=function(i){if(!this.closed){i.sh.container.addDynamicProperty(i.sh);var t={shape:i.sh,data:i,localShapeCollection:shapeCollectionPool.newShapeCollection()};this.shapes.push(t),this.addShapeToModifier(t),this._isAnimated&&i.setAsAnimated()}},ShapeModifier.prototype.init=function(i,t){this.shapes=[],this.elem=i,this.initDynamicPropertyContainer(i),this.initModifierProperties(i,t),this.frameId=initialDefaultFrame,this.closed=!1,this.k=!1,this.dynamicProperties.length?this.k=!0:this.getValue(!0)},ShapeModifier.prototype.processKeys=function(){this.elem.globalData.frameId!==this.frameId&&(this.frameId=this.elem.globalData.frameId,this.iterateDynamicProperties())},extendPrototype([DynamicPropertyContainer],ShapeModifier);function TrimModifier(){}extendPrototype([ShapeModifier],TrimModifier),TrimModifier.prototype.initModifierProperties=function(i,t){this.s=PropertyFactory.getProp(i,t.s,0,.01,this),this.e=PropertyFactory.getProp(i,t.e,0,.01,this),this.o=PropertyFactory.getProp(i,t.o,0,0,this),this.sValue=0,this.eValue=0,this.getValue=this.processKeys,this.m=t.m,this._isAnimated=!!this.s.effectsSequence.length||!!this.e.effectsSequence.length||!!this.o.effectsSequence.length},TrimModifier.prototype.addShapeToModifier=function(i){i.pathsData=[]},TrimModifier.prototype.calculateShapeEdges=function(i,t,e,n,a){var l=[];t<=1?l.push({s:i,e:t}):i>=1?l.push({s:i-1,e:t-1}):(l.push({s:i,e:1}),l.push({s:0,e:t-1}));var c=[],f,d=l.length,m;for(f=0;f<d;f+=1)if(m=l[f],!(m.e*a<n||m.s*a>n+e)){var y,A;m.s*a<=n?y=0:y=(m.s*a-n)/e,m.e*a>=n+e?A=1:A=(m.e*a-n)/e,c.push([y,A])}return c.length||c.push([0,0]),c},TrimModifier.prototype.releasePathsData=function(i){var t,e=i.length;for(t=0;t<e;t+=1)segmentsLengthPool.release(i[t]);return i.length=0,i},TrimModifier.prototype.processShapes=function(i){var t,e;if(this._mdf||i){var n=this.o.v%360/360;if(n<0&&(n+=1),this.s.v>1?t=1+n:this.s.v<0?t=0+n:t=this.s.v+n,this.e.v>1?e=1+n:this.e.v<0?e=0+n:e=this.e.v+n,t>e){var a=t;t=e,e=a}t=Math.round(t*1e4)*1e-4,e=Math.round(e*1e4)*1e-4,this.sValue=t,this.eValue=e}else t=this.sValue,e=this.eValue;var l,c,f=this.shapes.length,d,m,y,A,b,x=0;if(e===t)for(c=0;c<f;c+=1)this.shapes[c].localShapeCollection.releaseShapes(),this.shapes[c].shape._mdf=!0,this.shapes[c].shape.paths=this.shapes[c].localShapeCollection,this._mdf&&(this.shapes[c].pathsData.length=0);else if(e===1&&t===0||e===0&&t===1){if(this._mdf)for(c=0;c<f;c+=1)this.shapes[c].pathsData.length=0,this.shapes[c].shape._mdf=!0}else{var E=[],T,k;for(c=0;c<f;c+=1)if(T=this.shapes[c],!T.shape._mdf&&!this._mdf&&!i&&this.m!==2)T.shape.paths=T.localShapeCollection;else{if(l=T.shape.paths,m=l._length,b=0,!T.shape._mdf&&T.pathsData.length)b=T.totalShapeLength;else{for(y=this.releasePathsData(T.pathsData),d=0;d<m;d+=1)A=bez.getSegmentsLength(l.shapes[d]),y.push(A),b+=A.totalLength;T.totalShapeLength=b,T.pathsData=y}x+=b,T.shape._mdf=!0}var S=t,M=e,P=0,R;for(c=f-1;c>=0;c-=1)if(T=this.shapes[c],T.shape._mdf){for(k=T.localShapeCollection,k.releaseShapes(),this.m===2&&f>1?(R=this.calculateShapeEdges(t,e,T.totalShapeLength,P,x),P+=T.totalShapeLength):R=[[S,M]],m=R.length,d=0;d<m;d+=1){S=R[d][0],M=R[d][1],E.length=0,M<=1?E.push({s:T.totalShapeLength*S,e:T.totalShapeLength*M}):S>=1?E.push({s:T.totalShapeLength*(S-1),e:T.totalShapeLength*(M-1)}):(E.push({s:T.totalShapeLength*S,e:T.totalShapeLength}),E.push({s:0,e:T.totalShapeLength*(M-1)}));var D=this.addShapes(T,E[0]);if(E[0].s!==E[0].e){if(E.length>1){var L=T.shape.paths.shapes[T.shape.paths._length-1];if(L.c){var G=D.pop();this.addPaths(D,k),D=this.addShapes(T,E[1],G)}else this.addPaths(D,k),D=this.addShapes(T,E[1])}this.addPaths(D,k)}}T.shape.paths=k}}},TrimModifier.prototype.addPaths=function(i,t){var e,n=i.length;for(e=0;e<n;e+=1)t.addShape(i[e])},TrimModifier.prototype.addSegment=function(i,t,e,n,a,l,c){a.setXYAt(t[0],t[1],"o",l),a.setXYAt(e[0],e[1],"i",l+1),c&&a.setXYAt(i[0],i[1],"v",l),a.setXYAt(n[0],n[1],"v",l+1)},TrimModifier.prototype.addSegmentFromArray=function(i,t,e,n){t.setXYAt(i[1],i[5],"o",e),t.setXYAt(i[2],i[6],"i",e+1),n&&t.setXYAt(i[0],i[4],"v",e),t.setXYAt(i[3],i[7],"v",e+1)},TrimModifier.prototype.addShapes=function(i,t,e){var n=i.pathsData,a=i.shape.paths.shapes,l,c=i.shape.paths._length,f,d,m=0,y,A,b,x,E=[],T,k=!0;for(e?(A=e._length,T=e._length):(e=shapePool.newElement(),A=0,T=0),E.push(e),l=0;l<c;l+=1){for(b=n[l].lengths,e.c=a[l].c,d=a[l].c?b.length:b.length+1,f=1;f<d;f+=1)if(y=b[f-1],m+y.addedLength<t.s)m+=y.addedLength,e.c=!1;else if(m>t.e){e.c=!1;break}else t.s<=m&&t.e>=m+y.addedLength?(this.addSegment(a[l].v[f-1],a[l].o[f-1],a[l].i[f],a[l].v[f],e,A,k),k=!1):(x=bez.getNewSegment(a[l].v[f-1],a[l].v[f],a[l].o[f-1],a[l].i[f],(t.s-m)/y.addedLength,(t.e-m)/y.addedLength,b[f-1]),this.addSegmentFromArray(x,e,A,k),k=!1,e.c=!1),m+=y.addedLength,A+=1;if(a[l].c&&b.length){if(y=b[f-1],m<=t.e){var S=b[f-1].addedLength;t.s<=m&&t.e>=m+S?(this.addSegment(a[l].v[f-1],a[l].o[f-1],a[l].i[0],a[l].v[0],e,A,k),k=!1):(x=bez.getNewSegment(a[l].v[f-1],a[l].v[0],a[l].o[f-1],a[l].i[0],(t.s-m)/S,(t.e-m)/S,b[f-1]),this.addSegmentFromArray(x,e,A,k),k=!1,e.c=!1)}else e.c=!1;m+=y.addedLength,A+=1}if(e._length&&(e.setXYAt(e.v[T][0],e.v[T][1],"i",T),e.setXYAt(e.v[e._length-1][0],e.v[e._length-1][1],"o",e._length-1)),m>t.e)break;l<c-1&&(e=shapePool.newElement(),k=!0,E.push(e),A=0)}return E};function PuckerAndBloatModifier(){}extendPrototype([ShapeModifier],PuckerAndBloatModifier),PuckerAndBloatModifier.prototype.initModifierProperties=function(i,t){this.getValue=this.processKeys,this.amount=PropertyFactory.getProp(i,t.a,0,null,this),this._isAnimated=!!this.amount.effectsSequence.length},PuckerAndBloatModifier.prototype.processPath=function(i,t){var e=t/100,n=[0,0],a=i._length,l=0;for(l=0;l<a;l+=1)n[0]+=i.v[l][0],n[1]+=i.v[l][1];n[0]/=a,n[1]/=a;var c=shapePool.newElement();c.c=i.c;var f,d,m,y,A,b;for(l=0;l<a;l+=1)f=i.v[l][0]+(n[0]-i.v[l][0])*e,d=i.v[l][1]+(n[1]-i.v[l][1])*e,m=i.o[l][0]+(n[0]-i.o[l][0])*-e,y=i.o[l][1]+(n[1]-i.o[l][1])*-e,A=i.i[l][0]+(n[0]-i.i[l][0])*-e,b=i.i[l][1]+(n[1]-i.i[l][1])*-e,c.setTripleAt(f,d,m,y,A,b,l);return c},PuckerAndBloatModifier.prototype.processShapes=function(i){var t,e,n=this.shapes.length,a,l,c=this.amount.v;if(c!==0){var f,d;for(e=0;e<n;e+=1){if(f=this.shapes[e],d=f.localShapeCollection,!(!f.shape._mdf&&!this._mdf&&!i))for(d.releaseShapes(),f.shape._mdf=!0,t=f.shape.paths.shapes,l=f.shape.paths._length,a=0;a<l;a+=1)d.addShape(this.processPath(t[a],c));f.shape.paths=f.localShapeCollection}}this.dynamicProperties.length||(this._mdf=!1)};var TransformPropertyFactory=function(){var i=[0,0];function t(d){var m=this._mdf;this.iterateDynamicProperties(),this._mdf=this._mdf||m,this.a&&d.translate(-this.a.v[0],-this.a.v[1],this.a.v[2]),this.s&&d.scale(this.s.v[0],this.s.v[1],this.s.v[2]),this.sk&&d.skewFromAxis(-this.sk.v,this.sa.v),this.r?d.rotate(-this.r.v):d.rotateZ(-this.rz.v).rotateY(this.ry.v).rotateX(this.rx.v).rotateZ(-this.or.v[2]).rotateY(this.or.v[1]).rotateX(this.or.v[0]),this.data.p.s?this.data.p.z?d.translate(this.px.v,this.py.v,-this.pz.v):d.translate(this.px.v,this.py.v,0):d.translate(this.p.v[0],this.p.v[1],-this.p.v[2])}function e(d){if(this.elem.globalData.frameId!==this.frameId){if(this._isDirty&&(this.precalculateMatrix(),this._isDirty=!1),this.iterateDynamicProperties(),this._mdf||d){var m;if(this.v.cloneFromProps(this.pre.props),this.appliedTransformations<1&&this.v.translate(-this.a.v[0],-this.a.v[1],this.a.v[2]),this.appliedTransformations<2&&this.v.scale(this.s.v[0],this.s.v[1],this.s.v[2]),this.sk&&this.appliedTransformations<3&&this.v.skewFromAxis(-this.sk.v,this.sa.v),this.r&&this.appliedTransformations<4?this.v.rotate(-this.r.v):!this.r&&this.appliedTransformations<4&&this.v.rotateZ(-this.rz.v).rotateY(this.ry.v).rotateX(this.rx.v).rotateZ(-this.or.v[2]).rotateY(this.or.v[1]).rotateX(this.or.v[0]),this.autoOriented){var y,A;if(m=this.elem.globalData.frameRate,this.p&&this.p.keyframes&&this.p.getValueAtTime)this.p._caching.lastFrame+this.p.offsetTime<=this.p.keyframes[0].t?(y=this.p.getValueAtTime((this.p.keyframes[0].t+.01)/m,0),A=this.p.getValueAtTime(this.p.keyframes[0].t/m,0)):this.p._caching.lastFrame+this.p.offsetTime>=this.p.keyframes[this.p.keyframes.length-1].t?(y=this.p.getValueAtTime(this.p.keyframes[this.p.keyframes.length-1].t/m,0),A=this.p.getValueAtTime((this.p.keyframes[this.p.keyframes.length-1].t-.05)/m,0)):(y=this.p.pv,A=this.p.getValueAtTime((this.p._caching.lastFrame+this.p.offsetTime-.01)/m,this.p.offsetTime));else if(this.px&&this.px.keyframes&&this.py.keyframes&&this.px.getValueAtTime&&this.py.getValueAtTime){y=[],A=[];var b=this.px,x=this.py;b._caching.lastFrame+b.offsetTime<=b.keyframes[0].t?(y[0]=b.getValueAtTime((b.keyframes[0].t+.01)/m,0),y[1]=x.getValueAtTime((x.keyframes[0].t+.01)/m,0),A[0]=b.getValueAtTime(b.keyframes[0].t/m,0),A[1]=x.getValueAtTime(x.keyframes[0].t/m,0)):b._caching.lastFrame+b.offsetTime>=b.keyframes[b.keyframes.length-1].t?(y[0]=b.getValueAtTime(b.keyframes[b.keyframes.length-1].t/m,0),y[1]=x.getValueAtTime(x.keyframes[x.keyframes.length-1].t/m,0),A[0]=b.getValueAtTime((b.keyframes[b.keyframes.length-1].t-.01)/m,0),A[1]=x.getValueAtTime((x.keyframes[x.keyframes.length-1].t-.01)/m,0)):(y=[b.pv,x.pv],A[0]=b.getValueAtTime((b._caching.lastFrame+b.offsetTime-.01)/m,b.offsetTime),A[1]=x.getValueAtTime((x._caching.lastFrame+x.offsetTime-.01)/m,x.offsetTime))}else A=i,y=A;this.v.rotate(-Math.atan2(y[1]-A[1],y[0]-A[0]))}this.data.p&&this.data.p.s?this.data.p.z?this.v.translate(this.px.v,this.py.v,-this.pz.v):this.v.translate(this.px.v,this.py.v,0):this.v.translate(this.p.v[0],this.p.v[1],-this.p.v[2])}this.frameId=this.elem.globalData.frameId}}function n(){if(this.appliedTransformations=0,this.pre.reset(),!this.a.effectsSequence.length)this.pre.translate(-this.a.v[0],-this.a.v[1],this.a.v[2]),this.appliedTransformations=1;else return;if(!this.s.effectsSequence.length)this.pre.scale(this.s.v[0],this.s.v[1],this.s.v[2]),this.appliedTransformations=2;else return;if(this.sk)if(!this.sk.effectsSequence.length&&!this.sa.effectsSequence.length)this.pre.skewFromAxis(-this.sk.v,this.sa.v),this.appliedTransformations=3;else return;this.r?this.r.effectsSequence.length||(this.pre.rotate(-this.r.v),this.appliedTransformations=4):!this.rz.effectsSequence.length&&!this.ry.effectsSequence.length&&!this.rx.effectsSequence.length&&!this.or.effectsSequence.length&&(this.pre.rotateZ(-this.rz.v).rotateY(this.ry.v).rotateX(this.rx.v).rotateZ(-this.or.v[2]).rotateY(this.or.v[1]).rotateX(this.or.v[0]),this.appliedTransformations=4)}function a(){}function l(d){this._addDynamicProperty(d),this.elem.addDynamicProperty(d),this._isDirty=!0}function c(d,m,y){if(this.elem=d,this.frameId=-1,this.propType="transform",this.data=m,this.v=new Matrix,this.pre=new Matrix,this.appliedTransformations=0,this.initDynamicPropertyContainer(y||d),m.p&&m.p.s?(this.px=PropertyFactory.getProp(d,m.p.x,0,0,this),this.py=PropertyFactory.getProp(d,m.p.y,0,0,this),m.p.z&&(this.pz=PropertyFactory.getProp(d,m.p.z,0,0,this))):this.p=PropertyFactory.getProp(d,m.p||{k:[0,0,0]},1,0,this),m.rx){if(this.rx=PropertyFactory.getProp(d,m.rx,0,degToRads,this),this.ry=PropertyFactory.getProp(d,m.ry,0,degToRads,this),this.rz=PropertyFactory.getProp(d,m.rz,0,degToRads,this),m.or.k[0].ti){var A,b=m.or.k.length;for(A=0;A<b;A+=1)m.or.k[A].to=null,m.or.k[A].ti=null}this.or=PropertyFactory.getProp(d,m.or,1,degToRads,this),this.or.sh=!0}else this.r=PropertyFactory.getProp(d,m.r||{k:0},0,degToRads,this);m.sk&&(this.sk=PropertyFactory.getProp(d,m.sk,0,degToRads,this),this.sa=PropertyFactory.getProp(d,m.sa,0,degToRads,this)),this.a=PropertyFactory.getProp(d,m.a||{k:[0,0,0]},1,0,this),this.s=PropertyFactory.getProp(d,m.s||{k:[100,100,100]},1,.01,this),m.o?this.o=PropertyFactory.getProp(d,m.o,0,.01,d):this.o={_mdf:!1,v:1},this._isDirty=!0,this.dynamicProperties.length||this.getValue(!0)}c.prototype={applyToMatrix:t,getValue:e,precalculateMatrix:n,autoOrient:a},extendPrototype([DynamicPropertyContainer],c),c.prototype.addDynamicProperty=l,c.prototype._addDynamicProperty=DynamicPropertyContainer.prototype.addDynamicProperty;function f(d,m,y){return new c(d,m,y)}return{getTransformProperty:f}}();function RepeaterModifier(){}extendPrototype([ShapeModifier],RepeaterModifier),RepeaterModifier.prototype.initModifierProperties=function(i,t){this.getValue=this.processKeys,this.c=PropertyFactory.getProp(i,t.c,0,null,this),this.o=PropertyFactory.getProp(i,t.o,0,null,this),this.tr=TransformPropertyFactory.getTransformProperty(i,t.tr,this),this.so=PropertyFactory.getProp(i,t.tr.so,0,.01,this),this.eo=PropertyFactory.getProp(i,t.tr.eo,0,.01,this),this.data=t,this.dynamicProperties.length||this.getValue(!0),this._isAnimated=!!this.dynamicProperties.length,this.pMatrix=new Matrix,this.rMatrix=new Matrix,this.sMatrix=new Matrix,this.tMatrix=new Matrix,this.matrix=new Matrix},RepeaterModifier.prototype.applyTransforms=function(i,t,e,n,a,l){var c=l?-1:1,f=n.s.v[0]+(1-n.s.v[0])*(1-a),d=n.s.v[1]+(1-n.s.v[1])*(1-a);i.translate(n.p.v[0]*c*a,n.p.v[1]*c*a,n.p.v[2]),t.translate(-n.a.v[0],-n.a.v[1],n.a.v[2]),t.rotate(-n.r.v*c*a),t.translate(n.a.v[0],n.a.v[1],n.a.v[2]),e.translate(-n.a.v[0],-n.a.v[1],n.a.v[2]),e.scale(l?1/f:f,l?1/d:d),e.translate(n.a.v[0],n.a.v[1],n.a.v[2])},RepeaterModifier.prototype.init=function(i,t,e,n){for(this.elem=i,this.arr=t,this.pos=e,this.elemsData=n,this._currentCopies=0,this._elements=[],this._groups=[],this.frameId=-1,this.initDynamicPropertyContainer(i),this.initModifierProperties(i,t[e]);e>0;)e-=1,this._elements.unshift(t[e]);this.dynamicProperties.length?this.k=!0:this.getValue(!0)},RepeaterModifier.prototype.resetElements=function(i){var t,e=i.length;for(t=0;t<e;t+=1)i[t]._processed=!1,i[t].ty==="gr"&&this.resetElements(i[t].it)},RepeaterModifier.prototype.cloneElements=function(i){var t=JSON.parse(JSON.stringify(i));return this.resetElements(t),t},RepeaterModifier.prototype.changeGroupRender=function(i,t){var e,n=i.length;for(e=0;e<n;e+=1)i[e]._render=t,i[e].ty==="gr"&&this.changeGroupRender(i[e].it,t)},RepeaterModifier.prototype.processShapes=function(i){var t,e,n,a,l,c=!1;if(this._mdf||i){var f=Math.ceil(this.c.v);if(this._groups.length<f){for(;this._groups.length<f;){var d={it:this.cloneElements(this._elements),ty:"gr"};d.it.push({a:{a:0,ix:1,k:[0,0]},nm:"Transform",o:{a:0,ix:7,k:100},p:{a:0,ix:2,k:[0,0]},r:{a:1,ix:6,k:[{s:0,e:0,t:0},{s:0,e:0,t:1}]},s:{a:0,ix:3,k:[100,100]},sa:{a:0,ix:5,k:0},sk:{a:0,ix:4,k:0},ty:"tr"}),this.arr.splice(0,0,d),this._groups.splice(0,0,d),this._currentCopies+=1}this.elem.reloadShapes(),c=!0}l=0;var m;for(n=0;n<=this._groups.length-1;n+=1){if(m=l<f,this._groups[n]._render=m,this.changeGroupRender(this._groups[n].it,m),!m){var y=this.elemsData[n].it,A=y[y.length-1];A.transform.op.v!==0?(A.transform.op._mdf=!0,A.transform.op.v=0):A.transform.op._mdf=!1}l+=1}this._currentCopies=f;var b=this.o.v,x=b%1,E=b>0?Math.floor(b):Math.ceil(b),T=this.pMatrix.props,k=this.rMatrix.props,S=this.sMatrix.props;this.pMatrix.reset(),this.rMatrix.reset(),this.sMatrix.reset(),this.tMatrix.reset(),this.matrix.reset();var M=0;if(b>0){for(;M<E;)this.applyTransforms(this.pMatrix,this.rMatrix,this.sMatrix,this.tr,1,!1),M+=1;x&&(this.applyTransforms(this.pMatrix,this.rMatrix,this.sMatrix,this.tr,x,!1),M+=x)}else if(b<0){for(;M>E;)this.applyTransforms(this.pMatrix,this.rMatrix,this.sMatrix,this.tr,1,!0),M-=1;x&&(this.applyTransforms(this.pMatrix,this.rMatrix,this.sMatrix,this.tr,-x,!0),M-=x)}n=this.data.m===1?0:this._currentCopies-1,a=this.data.m===1?1:-1,l=this._currentCopies;for(var P,R;l;){if(t=this.elemsData[n].it,e=t[t.length-1].transform.mProps.v.props,R=e.length,t[t.length-1].transform.mProps._mdf=!0,t[t.length-1].transform.op._mdf=!0,t[t.length-1].transform.op.v=this._currentCopies===1?this.so.v:this.so.v+(this.eo.v-this.so.v)*(n/(this._currentCopies-1)),M!==0){for((n!==0&&a===1||n!==this._currentCopies-1&&a===-1)&&this.applyTransforms(this.pMatrix,this.rMatrix,this.sMatrix,this.tr,1,!1),this.matrix.transform(k[0],k[1],k[2],k[3],k[4],k[5],k[6],k[7],k[8],k[9],k[10],k[11],k[12],k[13],k[14],k[15]),this.matrix.transform(S[0],S[1],S[2],S[3],S[4],S[5],S[6],S[7],S[8],S[9],S[10],S[11],S[12],S[13],S[14],S[15]),this.matrix.transform(T[0],T[1],T[2],T[3],T[4],T[5],T[6],T[7],T[8],T[9],T[10],T[11],T[12],T[13],T[14],T[15]),P=0;P<R;P+=1)e[P]=this.matrix.props[P];this.matrix.reset()}else for(this.matrix.reset(),P=0;P<R;P+=1)e[P]=this.matrix.props[P];M+=1,l-=1,n+=a}}else for(l=this._currentCopies,n=0,a=1;l;)t=this.elemsData[n].it,e=t[t.length-1].transform.mProps.v.props,t[t.length-1].transform.mProps._mdf=!1,t[t.length-1].transform.op._mdf=!1,l-=1,n+=a;return c},RepeaterModifier.prototype.addShape=function(){};function RoundCornersModifier(){}extendPrototype([ShapeModifier],RoundCornersModifier),RoundCornersModifier.prototype.initModifierProperties=function(i,t){this.getValue=this.processKeys,this.rd=PropertyFactory.getProp(i,t.r,0,null,this),this._isAnimated=!!this.rd.effectsSequence.length},RoundCornersModifier.prototype.processPath=function(i,t){var e=shapePool.newElement();e.c=i.c;var n,a=i._length,l,c,f,d,m,y,A=0,b,x,E,T,k,S;for(n=0;n<a;n+=1)l=i.v[n],f=i.o[n],c=i.i[n],l[0]===f[0]&&l[1]===f[1]&&l[0]===c[0]&&l[1]===c[1]?(n===0||n===a-1)&&!i.c?(e.setTripleAt(l[0],l[1],f[0],f[1],c[0],c[1],A),A+=1):(n===0?d=i.v[a-1]:d=i.v[n-1],m=Math.sqrt(Math.pow(l[0]-d[0],2)+Math.pow(l[1]-d[1],2)),y=m?Math.min(m/2,t)/m:0,k=l[0]+(d[0]-l[0])*y,b=k,S=l[1]-(l[1]-d[1])*y,x=S,E=b-(b-l[0])*roundCorner,T=x-(x-l[1])*roundCorner,e.setTripleAt(b,x,E,T,k,S,A),A+=1,n===a-1?d=i.v[0]:d=i.v[n+1],m=Math.sqrt(Math.pow(l[0]-d[0],2)+Math.pow(l[1]-d[1],2)),y=m?Math.min(m/2,t)/m:0,E=l[0]+(d[0]-l[0])*y,b=E,T=l[1]+(d[1]-l[1])*y,x=T,k=b-(b-l[0])*roundCorner,S=x-(x-l[1])*roundCorner,e.setTripleAt(b,x,E,T,k,S,A),A+=1):(e.setTripleAt(i.v[n][0],i.v[n][1],i.o[n][0],i.o[n][1],i.i[n][0],i.i[n][1],A),A+=1);return e},RoundCornersModifier.prototype.processShapes=function(i){var t,e,n=this.shapes.length,a,l,c=this.rd.v;if(c!==0){var f,d;for(e=0;e<n;e+=1){if(f=this.shapes[e],d=f.localShapeCollection,!(!f.shape._mdf&&!this._mdf&&!i))for(d.releaseShapes(),f.shape._mdf=!0,t=f.shape.paths.shapes,l=f.shape.paths._length,a=0;a<l;a+=1)d.addShape(this.processPath(t[a],c));f.shape.paths=f.localShapeCollection}}this.dynamicProperties.length||(this._mdf=!1)};function floatEqual(i,t){return Math.abs(i-t)*1e5<=Math.min(Math.abs(i),Math.abs(t))}function floatZero(i){return Math.abs(i)<=1e-5}function lerp(i,t,e){return i*(1-e)+t*e}function lerpPoint(i,t,e){return[lerp(i[0],t[0],e),lerp(i[1],t[1],e)]}function quadRoots(i,t,e){if(i===0)return[];var n=t*t-4*i*e;if(n<0)return[];var a=-t/(2*i);if(n===0)return[a];var l=Math.sqrt(n)/(2*i);return[a-l,a+l]}function polynomialCoefficients(i,t,e,n){return[-i+3*t-3*e+n,3*i-6*t+3*e,-3*i+3*t,i]}function singlePoint(i){return new PolynomialBezier(i,i,i,i,!1)}function PolynomialBezier(i,t,e,n,a){a&&pointEqual(i,t)&&(t=lerpPoint(i,n,1/3)),a&&pointEqual(e,n)&&(e=lerpPoint(i,n,2/3));var l=polynomialCoefficients(i[0],t[0],e[0],n[0]),c=polynomialCoefficients(i[1],t[1],e[1],n[1]);this.a=[l[0],c[0]],this.b=[l[1],c[1]],this.c=[l[2],c[2]],this.d=[l[3],c[3]],this.points=[i,t,e,n]}PolynomialBezier.prototype.point=function(i){return[((this.a[0]*i+this.b[0])*i+this.c[0])*i+this.d[0],((this.a[1]*i+this.b[1])*i+this.c[1])*i+this.d[1]]},PolynomialBezier.prototype.derivative=function(i){return[(3*i*this.a[0]+2*this.b[0])*i+this.c[0],(3*i*this.a[1]+2*this.b[1])*i+this.c[1]]},PolynomialBezier.prototype.tangentAngle=function(i){var t=this.derivative(i);return Math.atan2(t[1],t[0])},PolynomialBezier.prototype.normalAngle=function(i){var t=this.derivative(i);return Math.atan2(t[0],t[1])},PolynomialBezier.prototype.inflectionPoints=function(){var i=this.a[1]*this.b[0]-this.a[0]*this.b[1];if(floatZero(i))return[];var t=-.5*(this.a[1]*this.c[0]-this.a[0]*this.c[1])/i,e=t*t-1/3*(this.b[1]*this.c[0]-this.b[0]*this.c[1])/i;if(e<0)return[];var n=Math.sqrt(e);return floatZero(n)?n>0&&n<1?[t]:[]:[t-n,t+n].filter(function(a){return a>0&&a<1})},PolynomialBezier.prototype.split=function(i){if(i<=0)return[singlePoint(this.points[0]),this];if(i>=1)return[this,singlePoint(this.points[this.points.length-1])];var t=lerpPoint(this.points[0],this.points[1],i),e=lerpPoint(this.points[1],this.points[2],i),n=lerpPoint(this.points[2],this.points[3],i),a=lerpPoint(t,e,i),l=lerpPoint(e,n,i),c=lerpPoint(a,l,i);return[new PolynomialBezier(this.points[0],t,a,c,!0),new PolynomialBezier(c,l,n,this.points[3],!0)]};function extrema(i,t){var e=i.points[0][t],n=i.points[i.points.length-1][t];if(e>n){var a=n;n=e,e=a}for(var l=quadRoots(3*i.a[t],2*i.b[t],i.c[t]),c=0;c<l.length;c+=1)if(l[c]>0&&l[c]<1){var f=i.point(l[c])[t];f<e?e=f:f>n&&(n=f)}return{min:e,max:n}}PolynomialBezier.prototype.bounds=function(){return{x:extrema(this,0),y:extrema(this,1)}},PolynomialBezier.prototype.boundingBox=function(){var i=this.bounds();return{left:i.x.min,right:i.x.max,top:i.y.min,bottom:i.y.max,width:i.x.max-i.x.min,height:i.y.max-i.y.min,cx:(i.x.max+i.x.min)/2,cy:(i.y.max+i.y.min)/2}};function intersectData(i,t,e){var n=i.boundingBox();return{cx:n.cx,cy:n.cy,width:n.width,height:n.height,bez:i,t:(t+e)/2,t1:t,t2:e}}function splitData(i){var t=i.bez.split(.5);return[intersectData(t[0],i.t1,i.t),intersectData(t[1],i.t,i.t2)]}function boxIntersect(i,t){return Math.abs(i.cx-t.cx)*2<i.width+t.width&&Math.abs(i.cy-t.cy)*2<i.height+t.height}function intersectsImpl(i,t,e,n,a,l){if(boxIntersect(i,t)){if(e>=l||i.width<=n&&i.height<=n&&t.width<=n&&t.height<=n){a.push([i.t,t.t]);return}var c=splitData(i),f=splitData(t);intersectsImpl(c[0],f[0],e+1,n,a,l),intersectsImpl(c[0],f[1],e+1,n,a,l),intersectsImpl(c[1],f[0],e+1,n,a,l),intersectsImpl(c[1],f[1],e+1,n,a,l)}}PolynomialBezier.prototype.intersections=function(i,t,e){t===void 0&&(t=2),e===void 0&&(e=7);var n=[];return intersectsImpl(intersectData(this,0,1),intersectData(i,0,1),0,t,n,e),n},PolynomialBezier.shapeSegment=function(i,t){var e=(t+1)%i.length();return new PolynomialBezier(i.v[t],i.o[t],i.i[e],i.v[e],!0)},PolynomialBezier.shapeSegmentInverted=function(i,t){var e=(t+1)%i.length();return new PolynomialBezier(i.v[e],i.i[e],i.o[t],i.v[t],!0)};function crossProduct(i,t){return[i[1]*t[2]-i[2]*t[1],i[2]*t[0]-i[0]*t[2],i[0]*t[1]-i[1]*t[0]]}function lineIntersection(i,t,e,n){var a=[i[0],i[1],1],l=[t[0],t[1],1],c=[e[0],e[1],1],f=[n[0],n[1],1],d=crossProduct(crossProduct(a,l),crossProduct(c,f));return floatZero(d[2])?null:[d[0]/d[2],d[1]/d[2]]}function polarOffset(i,t,e){return[i[0]+Math.cos(t)*e,i[1]-Math.sin(t)*e]}function pointDistance(i,t){return Math.hypot(i[0]-t[0],i[1]-t[1])}function pointEqual(i,t){return floatEqual(i[0],t[0])&&floatEqual(i[1],t[1])}function ZigZagModifier(){}extendPrototype([ShapeModifier],ZigZagModifier),ZigZagModifier.prototype.initModifierProperties=function(i,t){this.getValue=this.processKeys,this.amplitude=PropertyFactory.getProp(i,t.s,0,null,this),this.frequency=PropertyFactory.getProp(i,t.r,0,null,this),this.pointsType=PropertyFactory.getProp(i,t.pt,0,null,this),this._isAnimated=this.amplitude.effectsSequence.length!==0||this.frequency.effectsSequence.length!==0||this.pointsType.effectsSequence.length!==0};function setPoint(i,t,e,n,a,l,c){var f=e-Math.PI/2,d=e+Math.PI/2,m=t[0]+Math.cos(e)*n*a,y=t[1]-Math.sin(e)*n*a;i.setTripleAt(m,y,m+Math.cos(f)*l,y-Math.sin(f)*l,m+Math.cos(d)*c,y-Math.sin(d)*c,i.length())}function getPerpendicularVector(i,t){var e=[t[0]-i[0],t[1]-i[1]],n=-Math.PI*.5,a=[Math.cos(n)*e[0]-Math.sin(n)*e[1],Math.sin(n)*e[0]+Math.cos(n)*e[1]];return a}function getProjectingAngle(i,t){var e=t===0?i.length()-1:t-1,n=(t+1)%i.length(),a=i.v[e],l=i.v[n],c=getPerpendicularVector(a,l);return Math.atan2(0,1)-Math.atan2(c[1],c[0])}function zigZagCorner(i,t,e,n,a,l,c){var f=getProjectingAngle(t,e),d=t.v[e%t._length],m=t.v[e===0?t._length-1:e-1],y=t.v[(e+1)%t._length],A=l===2?Math.sqrt(Math.pow(d[0]-m[0],2)+Math.pow(d[1]-m[1],2)):0,b=l===2?Math.sqrt(Math.pow(d[0]-y[0],2)+Math.pow(d[1]-y[1],2)):0;setPoint(i,t.v[e%t._length],f,c,n,b/((a+1)*2),A/((a+1)*2))}function zigZagSegment(i,t,e,n,a,l){for(var c=0;c<n;c+=1){var f=(c+1)/(n+1),d=a===2?Math.sqrt(Math.pow(t.points[3][0]-t.points[0][0],2)+Math.pow(t.points[3][1]-t.points[0][1],2)):0,m=t.normalAngle(f),y=t.point(f);setPoint(i,y,m,l,e,d/((n+1)*2),d/((n+1)*2)),l=-l}return l}ZigZagModifier.prototype.processPath=function(i,t,e,n){var a=i._length,l=shapePool.newElement();if(l.c=i.c,i.c||(a-=1),a===0)return l;var c=-1,f=PolynomialBezier.shapeSegment(i,0);zigZagCorner(l,i,0,t,e,n,c);for(var d=0;d<a;d+=1)c=zigZagSegment(l,f,t,e,n,-c),d===a-1&&!i.c?f=null:f=PolynomialBezier.shapeSegment(i,(d+1)%a),zigZagCorner(l,i,d+1,t,e,n,c);return l},ZigZagModifier.prototype.processShapes=function(i){var t,e,n=this.shapes.length,a,l,c=this.amplitude.v,f=Math.max(0,Math.round(this.frequency.v)),d=this.pointsType.v;if(c!==0){var m,y;for(e=0;e<n;e+=1){if(m=this.shapes[e],y=m.localShapeCollection,!(!m.shape._mdf&&!this._mdf&&!i))for(y.releaseShapes(),m.shape._mdf=!0,t=m.shape.paths.shapes,l=m.shape.paths._length,a=0;a<l;a+=1)y.addShape(this.processPath(t[a],c,f,d));m.shape.paths=m.localShapeCollection}}this.dynamicProperties.length||(this._mdf=!1)};function linearOffset(i,t,e){var n=Math.atan2(t[0]-i[0],t[1]-i[1]);return[polarOffset(i,n,e),polarOffset(t,n,e)]}function offsetSegment(i,t){var e,n,a,l,c,f,d;d=linearOffset(i.points[0],i.points[1],t),e=d[0],n=d[1],d=linearOffset(i.points[1],i.points[2],t),a=d[0],l=d[1],d=linearOffset(i.points[2],i.points[3],t),c=d[0],f=d[1];var m=lineIntersection(e,n,a,l);m===null&&(m=n);var y=lineIntersection(c,f,a,l);return y===null&&(y=c),new PolynomialBezier(e,m,y,f)}function joinLines(i,t,e,n,a){var l=t.points[3],c=e.points[0];if(n===3||pointEqual(l,c))return l;if(n===2){var f=-t.tangentAngle(1),d=-e.tangentAngle(0)+Math.PI,m=lineIntersection(l,polarOffset(l,f+Math.PI/2,100),c,polarOffset(c,f+Math.PI/2,100)),y=m?pointDistance(m,l):pointDistance(l,c)/2,A=polarOffset(l,f,2*y*roundCorner);return i.setXYAt(A[0],A[1],"o",i.length()-1),A=polarOffset(c,d,2*y*roundCorner),i.setTripleAt(c[0],c[1],c[0],c[1],A[0],A[1],i.length()),c}var b=pointEqual(l,t.points[2])?t.points[0]:t.points[2],x=pointEqual(c,e.points[1])?e.points[3]:e.points[1],E=lineIntersection(b,l,c,x);return E&&pointDistance(E,l)<a?(i.setTripleAt(E[0],E[1],E[0],E[1],E[0],E[1],i.length()),E):l}function getIntersection(i,t){var e=i.intersections(t);return e.length&&floatEqual(e[0][0],1)&&e.shift(),e.length?e[0]:null}function pruneSegmentIntersection(i,t){var e=i.slice(),n=t.slice(),a=getIntersection(i[i.length-1],t[0]);return a&&(e[i.length-1]=i[i.length-1].split(a[0])[0],n[0]=t[0].split(a[1])[1]),i.length>1&&t.length>1&&(a=getIntersection(i[0],t[t.length-1]),a)?[[i[0].split(a[0])[0]],[t[t.length-1].split(a[1])[1]]]:[e,n]}function pruneIntersections(i){for(var t,e=1;e<i.length;e+=1)t=pruneSegmentIntersection(i[e-1],i[e]),i[e-1]=t[0],i[e]=t[1];return i.length>1&&(t=pruneSegmentIntersection(i[i.length-1],i[0]),i[i.length-1]=t[0],i[0]=t[1]),i}function offsetSegmentSplit(i,t){var e=i.inflectionPoints(),n,a,l,c;if(e.length===0)return[offsetSegment(i,t)];if(e.length===1||floatEqual(e[1],1))return l=i.split(e[0]),n=l[0],a=l[1],[offsetSegment(n,t),offsetSegment(a,t)];l=i.split(e[0]),n=l[0];var f=(e[1]-e[0])/(1-e[0]);return l=l[1].split(f),c=l[0],a=l[1],[offsetSegment(n,t),offsetSegment(c,t),offsetSegment(a,t)]}function OffsetPathModifier(){}extendPrototype([ShapeModifier],OffsetPathModifier),OffsetPathModifier.prototype.initModifierProperties=function(i,t){this.getValue=this.processKeys,this.amount=PropertyFactory.getProp(i,t.a,0,null,this),this.miterLimit=PropertyFactory.getProp(i,t.ml,0,null,this),this.lineJoin=t.lj,this._isAnimated=this.amount.effectsSequence.length!==0},OffsetPathModifier.prototype.processPath=function(i,t,e,n){var a=shapePool.newElement();a.c=i.c;var l=i.length();i.c||(l-=1);var c,f,d,m=[];for(c=0;c<l;c+=1)d=PolynomialBezier.shapeSegment(i,c),m.push(offsetSegmentSplit(d,t));if(!i.c)for(c=l-1;c>=0;c-=1)d=PolynomialBezier.shapeSegmentInverted(i,c),m.push(offsetSegmentSplit(d,t));m=pruneIntersections(m);var y=null,A=null;for(c=0;c<m.length;c+=1){var b=m[c];for(A&&(y=joinLines(a,A,b[0],e,n)),A=b[b.length-1],f=0;f<b.length;f+=1)d=b[f],y&&pointEqual(d.points[0],y)?a.setXYAt(d.points[1][0],d.points[1][1],"o",a.length()-1):a.setTripleAt(d.points[0][0],d.points[0][1],d.points[1][0],d.points[1][1],d.points[0][0],d.points[0][1],a.length()),a.setTripleAt(d.points[3][0],d.points[3][1],d.points[3][0],d.points[3][1],d.points[2][0],d.points[2][1],a.length()),y=d.points[3]}return m.length&&joinLines(a,A,m[0][0],e,n),a},OffsetPathModifier.prototype.processShapes=function(i){var t,e,n=this.shapes.length,a,l,c=this.amount.v,f=this.miterLimit.v,d=this.lineJoin;if(c!==0){var m,y;for(e=0;e<n;e+=1){if(m=this.shapes[e],y=m.localShapeCollection,!(!m.shape._mdf&&!this._mdf&&!i))for(y.releaseShapes(),m.shape._mdf=!0,t=m.shape.paths.shapes,l=m.shape.paths._length,a=0;a<l;a+=1)y.addShape(this.processPath(t[a],c,d,f));m.shape.paths=m.localShapeCollection}}this.dynamicProperties.length||(this._mdf=!1)};function getFontProperties(i){for(var t=i.fStyle?i.fStyle.split(" "):[],e="normal",n="normal",a=t.length,l,c=0;c<a;c+=1)switch(l=t[c].toLowerCase(),l){case"italic":n="italic";break;case"bold":e="700";break;case"black":e="900";break;case"medium":e="500";break;case"regular":case"normal":e="400";break;case"light":case"thin":e="200";break}return{style:n,weight:i.fWeight||e}}var FontManager=function(){var i=5e3,t={w:0,size:0,shapes:[],data:{shapes:[]}},e=[];e=e.concat([2304,2305,2306,2307,2362,2363,2364,2364,2366,2367,2368,2369,2370,2371,2372,2373,2374,2375,2376,2377,2378,2379,2380,2381,2382,2383,2387,2388,2389,2390,2391,2402,2403]);var n=127988,a=917631,l=917601,c=917626,f=65039,d=8205,m=127462,y=127487,A=["d83cdffb","d83cdffc","d83cdffd","d83cdffe","d83cdfff"];function b(O){var H=O.split(","),F,N=H.length,V=[];for(F=0;F<N;F+=1)H[F]!=="sans-serif"&&H[F]!=="monospace"&&V.push(H[F]);return V.join(",")}function x(O,H){var F=createTag("span");F.setAttribute("aria-hidden",!0),F.style.fontFamily=H;var N=createTag("span");N.innerText="giItT1WQy@!-/#",F.style.position="absolute",F.style.left="-10000px",F.style.top="-10000px",F.style.fontSize="300px",F.style.fontVariant="normal",F.style.fontStyle="normal",F.style.fontWeight="normal",F.style.letterSpacing="0",F.appendChild(N),document.body.appendChild(F);var V=N.offsetWidth;return N.style.fontFamily=b(O)+", "+H,{node:N,w:V,parent:F}}function E(){var O,H=this.fonts.length,F,N,V=H;for(O=0;O<H;O+=1)this.fonts[O].loaded?V-=1:this.fonts[O].fOrigin==="n"||this.fonts[O].origin===0?this.fonts[O].loaded=!0:(F=this.fonts[O].monoCase.node,N=this.fonts[O].monoCase.w,F.offsetWidth!==N?(V-=1,this.fonts[O].loaded=!0):(F=this.fonts[O].sansCase.node,N=this.fonts[O].sansCase.w,F.offsetWidth!==N&&(V-=1,this.fonts[O].loaded=!0)),this.fonts[O].loaded&&(this.fonts[O].sansCase.parent.parentNode.removeChild(this.fonts[O].sansCase.parent),this.fonts[O].monoCase.parent.parentNode.removeChild(this.fonts[O].monoCase.parent)));V!==0&&Date.now()-this.initTime<i?setTimeout(this.checkLoadedFontsBinded,20):setTimeout(this.setIsLoadedBinded,10)}function T(O,H){var F=document.body&&H?"svg":"canvas",N,V=getFontProperties(O);if(F==="svg"){var $=createNS("text");$.style.fontSize="100px",$.setAttribute("font-family",O.fFamily),$.setAttribute("font-style",V.style),$.setAttribute("font-weight",V.weight),$.textContent="1",O.fClass?($.style.fontFamily="inherit",$.setAttribute("class",O.fClass)):$.style.fontFamily=O.fFamily,H.appendChild($),N=$}else{var Q=new OffscreenCanvas(500,500).getContext("2d");Q.font=V.style+" "+V.weight+" 100px "+O.fFamily,N=Q}function st(rt){return F==="svg"?(N.textContent=rt,N.getComputedTextLength()):N.measureText(rt).width}return{measureText:st}}function k(O,H){if(!O){this.isLoaded=!0;return}if(this.chars){this.isLoaded=!0,this.fonts=O.list;return}if(!document.body){this.isLoaded=!0,O.list.forEach(function(At){At.helper=T(At),At.cache={}}),this.fonts=O.list;return}var F=O.list,N,V=F.length,$=V;for(N=0;N<V;N+=1){var Q=!0,st,rt;if(F[N].loaded=!1,F[N].monoCase=x(F[N].fFamily,"monospace"),F[N].sansCase=x(F[N].fFamily,"sans-serif"),!F[N].fPath)F[N].loaded=!0,$-=1;else if(F[N].fOrigin==="p"||F[N].origin===3){if(st=document.querySelectorAll('style[f-forigin="p"][f-family="'+F[N].fFamily+'"], style[f-origin="3"][f-family="'+F[N].fFamily+'"]'),st.length>0&&(Q=!1),Q){var pt=createTag("style");pt.setAttribute("f-forigin",F[N].fOrigin),pt.setAttribute("f-origin",F[N].origin),pt.setAttribute("f-family",F[N].fFamily),pt.type="text/css",pt.innerText="@font-face {font-family: "+F[N].fFamily+"; font-style: normal; src: url('"+F[N].fPath+"');}",H.appendChild(pt)}}else if(F[N].fOrigin==="g"||F[N].origin===1){for(st=document.querySelectorAll('link[f-forigin="g"], link[f-origin="1"]'),rt=0;rt<st.length;rt+=1)st[rt].href.indexOf(F[N].fPath)!==-1&&(Q=!1);if(Q){var ht=createTag("link");ht.setAttribute("f-forigin",F[N].fOrigin),ht.setAttribute("f-origin",F[N].origin),ht.type="text/css",ht.rel="stylesheet",ht.href=F[N].fPath,document.body.appendChild(ht)}}else if(F[N].fOrigin==="t"||F[N].origin===2){for(st=document.querySelectorAll('script[f-forigin="t"], script[f-origin="2"]'),rt=0;rt<st.length;rt+=1)F[N].fPath===st[rt].src&&(Q=!1);if(Q){var mt=createTag("link");mt.setAttribute("f-forigin",F[N].fOrigin),mt.setAttribute("f-origin",F[N].origin),mt.setAttribute("rel","stylesheet"),mt.setAttribute("href",F[N].fPath),H.appendChild(mt)}}F[N].helper=T(F[N],H),F[N].cache={},this.fonts.push(F[N])}$===0?this.isLoaded=!0:setTimeout(this.checkLoadedFonts.bind(this),100)}function S(O){if(O){this.chars||(this.chars=[]);var H,F=O.length,N,V=this.chars.length,$;for(H=0;H<F;H+=1){for(N=0,$=!1;N<V;)this.chars[N].style===O[H].style&&this.chars[N].fFamily===O[H].fFamily&&this.chars[N].ch===O[H].ch&&($=!0),N+=1;$||(this.chars.push(O[H]),V+=1)}}}function M(O,H,F){for(var N=0,V=this.chars.length;N<V;){if(this.chars[N].ch===O&&this.chars[N].style===H&&this.chars[N].fFamily===F)return this.chars[N];N+=1}return(typeof O=="string"&&O.charCodeAt(0)!==13||!O)&&console&&console.warn&&!this._warned&&(this._warned=!0,console.warn("Missing character from exported characters list: ",O,H,F)),t}function P(O,H,F){var N=this.getFontByName(H),V=O;if(!N.cache[V]){var $=N.helper;if(O===" "){var Q=$.measureText("|"+O+"|"),st=$.measureText("||");N.cache[V]=(Q-st)/100}else N.cache[V]=$.measureText(O)/100}return N.cache[V]*F}function R(O){for(var H=0,F=this.fonts.length;H<F;){if(this.fonts[H].fName===O)return this.fonts[H];H+=1}return this.fonts[0]}function D(O){var H=0,F=O.charCodeAt(0);if(F>=55296&&F<=56319){var N=O.charCodeAt(1);N>=56320&&N<=57343&&(H=(F-55296)*1024+N-56320+65536)}return H}function L(O,H){var F=O.toString(16)+H.toString(16);return A.indexOf(F)!==-1}function G(O){return O===d}function q(O){return O===f}function X(O){var H=D(O);return H>=m&&H<=y}function J(O){return X(O.substr(0,2))&&X(O.substr(2,2))}function et(O){return e.indexOf(O)!==-1}function it(O,H){var F=D(O.substr(H,2));if(F!==n)return!1;var N=0;for(H+=2;N<5;){if(F=D(O.substr(H,2)),F<l||F>c)return!1;N+=1,H+=2}return D(O.substr(H,2))===a}function lt(){this.isLoaded=!0}var tt=function(){this.fonts=[],this.chars=null,this.typekitLoaded=0,this.isLoaded=!1,this._warned=!1,this.initTime=Date.now(),this.setIsLoadedBinded=this.setIsLoaded.bind(this),this.checkLoadedFontsBinded=this.checkLoadedFonts.bind(this)};tt.isModifier=L,tt.isZeroWidthJoiner=G,tt.isFlagEmoji=J,tt.isRegionalCode=X,tt.isCombinedCharacter=et,tt.isRegionalFlag=it,tt.isVariationSelector=q,tt.BLACK_FLAG_CODE_POINT=n;var W={addChars:S,addFonts:k,getCharData:M,getFontByName:R,measureText:P,checkLoadedFonts:E,setIsLoaded:lt};return tt.prototype=W,tt}();function SlotManager(i){this.animationData=i}SlotManager.prototype.getProp=function(i){return this.animationData.slots&&this.animationData.slots[i.sid]?Object.assign(i,this.animationData.slots[i.sid].p):i};function slotFactory(i){return new SlotManager(i)}function RenderableElement(){}RenderableElement.prototype={initRenderable:function(){this.isInRange=!1,this.hidden=!1,this.isTransparent=!1,this.renderableComponents=[]},addRenderableComponent:function(t){this.renderableComponents.indexOf(t)===-1&&this.renderableComponents.push(t)},removeRenderableComponent:function(t){this.renderableComponents.indexOf(t)!==-1&&this.renderableComponents.splice(this.renderableComponents.indexOf(t),1)},prepareRenderableFrame:function(t){this.checkLayerLimits(t)},checkTransparency:function(){this.finalTransform.mProp.o.v<=0?!this.isTransparent&&this.globalData.renderConfig.hideOnTransparent&&(this.isTransparent=!0,this.hide()):this.isTransparent&&(this.isTransparent=!1,this.show())},checkLayerLimits:function(t){this.data.ip-this.data.st<=t&&this.data.op-this.data.st>t?this.isInRange!==!0&&(this.globalData._mdf=!0,this._mdf=!0,this.isInRange=!0,this.show()):this.isInRange!==!1&&(this.globalData._mdf=!0,this.isInRange=!1,this.hide())},renderRenderable:function(){var t,e=this.renderableComponents.length;for(t=0;t<e;t+=1)this.renderableComponents[t].renderFrame(this._isFirstFrame)},sourceRectAtTime:function(){return{top:0,left:0,width:100,height:100}},getLayerSize:function(){return this.data.ty===5?{w:this.data.textData.width,h:this.data.textData.height}:{w:this.data.width,h:this.data.height}}};var getBlendMode=function(){var i={0:"source-over",1:"multiply",2:"screen",3:"overlay",4:"darken",5:"lighten",6:"color-dodge",7:"color-burn",8:"hard-light",9:"soft-light",10:"difference",11:"exclusion",12:"hue",13:"saturation",14:"color",15:"luminosity"};return function(t){return i[t]||""}}();function SliderEffect(i,t,e){this.p=PropertyFactory.getProp(t,i.v,0,0,e)}function AngleEffect(i,t,e){this.p=PropertyFactory.getProp(t,i.v,0,0,e)}function ColorEffect(i,t,e){this.p=PropertyFactory.getProp(t,i.v,1,0,e)}function PointEffect(i,t,e){this.p=PropertyFactory.getProp(t,i.v,1,0,e)}function LayerIndexEffect(i,t,e){this.p=PropertyFactory.getProp(t,i.v,0,0,e)}function MaskIndexEffect(i,t,e){this.p=PropertyFactory.getProp(t,i.v,0,0,e)}function CheckboxEffect(i,t,e){this.p=PropertyFactory.getProp(t,i.v,0,0,e)}function NoValueEffect(){this.p={}}function EffectsManager(i,t){var e=i.ef||[];this.effectElements=[];var n,a=e.length,l;for(n=0;n<a;n+=1)l=new GroupEffect(e[n],t),this.effectElements.push(l)}function GroupEffect(i,t){this.init(i,t)}extendPrototype([DynamicPropertyContainer],GroupEffect),GroupEffect.prototype.getValue=GroupEffect.prototype.iterateDynamicProperties,GroupEffect.prototype.init=function(i,t){this.data=i,this.effectElements=[],this.initDynamicPropertyContainer(t);var e,n=this.data.ef.length,a,l=this.data.ef;for(e=0;e<n;e+=1){switch(a=null,l[e].ty){case 0:a=new SliderEffect(l[e],t,this);break;case 1:a=new AngleEffect(l[e],t,this);break;case 2:a=new ColorEffect(l[e],t,this);break;case 3:a=new PointEffect(l[e],t,this);break;case 4:case 7:a=new CheckboxEffect(l[e],t,this);break;case 10:a=new LayerIndexEffect(l[e],t,this);break;case 11:a=new MaskIndexEffect(l[e],t,this);break;case 5:a=new EffectsManager(l[e],t);break;default:a=new NoValueEffect(l[e]);break}a&&this.effectElements.push(a)}};function BaseElement(){}BaseElement.prototype={checkMasks:function(){if(!this.data.hasMask)return!1;for(var t=0,e=this.data.masksProperties.length;t<e;){if(this.data.masksProperties[t].mode!=="n"&&this.data.masksProperties[t].cl!==!1)return!0;t+=1}return!1},initExpressions:function(){var t=getExpressionInterfaces();if(t){var e=t("layer"),n=t("effects"),a=t("shape"),l=t("text"),c=t("comp");this.layerInterface=e(this),this.data.hasMask&&this.maskManager&&this.layerInterface.registerMaskInterface(this.maskManager);var f=n.createEffectsInterface(this,this.layerInterface);this.layerInterface.registerEffectsInterface(f),this.data.ty===0||this.data.xt?this.compInterface=c(this):this.data.ty===4?(this.layerInterface.shapeInterface=a(this.shapesData,this.itemsData,this.layerInterface),this.layerInterface.content=this.layerInterface.shapeInterface):this.data.ty===5&&(this.layerInterface.textInterface=l(this),this.layerInterface.text=this.layerInterface.textInterface)}},setBlendMode:function(){var t=getBlendMode(this.data.bm),e=this.baseElement||this.layerElement;e.style["mix-blend-mode"]=t},initBaseData:function(t,e,n){this.globalData=e,this.comp=n,this.data=t,this.layerId=createElementID(),this.data.sr||(this.data.sr=1),this.effectsManager=new EffectsManager(this.data,this,this.dynamicProperties)},getType:function(){return this.type},sourceRectAtTime:function(){}};function FrameElement(){}FrameElement.prototype={initFrame:function(){this._isFirstFrame=!1,this.dynamicProperties=[],this._mdf=!1},prepareProperties:function(t,e){var n,a=this.dynamicProperties.length;for(n=0;n<a;n+=1)(e||this._isParent&&this.dynamicProperties[n].propType==="transform")&&(this.dynamicProperties[n].getValue(),this.dynamicProperties[n]._mdf&&(this.globalData._mdf=!0,this._mdf=!0))},addDynamicProperty:function(t){this.dynamicProperties.indexOf(t)===-1&&this.dynamicProperties.push(t)}};function FootageElement(i,t,e){this.initFrame(),this.initRenderable(),this.assetData=t.getAssetData(i.refId),this.footageData=t.imageLoader.getAsset(this.assetData),this.initBaseData(i,t,e)}FootageElement.prototype.prepareFrame=function(){},extendPrototype([RenderableElement,BaseElement,FrameElement],FootageElement),FootageElement.prototype.getBaseElement=function(){return null},FootageElement.prototype.renderFrame=function(){},FootageElement.prototype.destroy=function(){},FootageElement.prototype.initExpressions=function(){var i=getExpressionInterfaces();if(i){var t=i("footage");this.layerInterface=t(this)}},FootageElement.prototype.getFootageData=function(){return this.footageData};function AudioElement(i,t,e){this.initFrame(),this.initRenderable(),this.assetData=t.getAssetData(i.refId),this.initBaseData(i,t,e),this._isPlaying=!1,this._canPlay=!1;var n=this.globalData.getAssetsPath(this.assetData);this.audio=this.globalData.audioController.createAudio(n),this._currentTime=0,this.globalData.audioController.addAudio(this),this._volumeMultiplier=1,this._volume=1,this._previousVolume=null,this.tm=i.tm?PropertyFactory.getProp(this,i.tm,0,t.frameRate,this):{_placeholder:!0},this.lv=PropertyFactory.getProp(this,i.au&&i.au.lv?i.au.lv:{k:[100]},1,.01,this)}AudioElement.prototype.prepareFrame=function(i){if(this.prepareRenderableFrame(i,!0),this.prepareProperties(i,!0),this.tm._placeholder)this._currentTime=i/this.data.sr;else{var t=this.tm.v;this._currentTime=t}this._volume=this.lv.v[0];var e=this._volume*this._volumeMultiplier;this._previousVolume!==e&&(this._previousVolume=e,this.audio.volume(e))},extendPrototype([RenderableElement,BaseElement,FrameElement],AudioElement),AudioElement.prototype.renderFrame=function(){this.isInRange&&this._canPlay&&(this._isPlaying?(!this.audio.playing()||Math.abs(this._currentTime/this.globalData.frameRate-this.audio.seek())>.1)&&this.audio.seek(this._currentTime/this.globalData.frameRate):(this.audio.play(),this.audio.seek(this._currentTime/this.globalData.frameRate),this._isPlaying=!0))},AudioElement.prototype.show=function(){},AudioElement.prototype.hide=function(){this.audio.pause(),this._isPlaying=!1},AudioElement.prototype.pause=function(){this.audio.pause(),this._isPlaying=!1,this._canPlay=!1},AudioElement.prototype.resume=function(){this._canPlay=!0},AudioElement.prototype.setRate=function(i){this.audio.rate(i)},AudioElement.prototype.volume=function(i){this._volumeMultiplier=i,this._previousVolume=i*this._volume,this.audio.volume(this._previousVolume)},AudioElement.prototype.getBaseElement=function(){return null},AudioElement.prototype.destroy=function(){},AudioElement.prototype.sourceRectAtTime=function(){},AudioElement.prototype.initExpressions=function(){};function BaseRenderer(){}BaseRenderer.prototype.checkLayers=function(i){var t,e=this.layers.length,n;for(this.completeLayers=!0,t=e-1;t>=0;t-=1)this.elements[t]||(n=this.layers[t],n.ip-n.st<=i-this.layers[t].st&&n.op-n.st>i-this.layers[t].st&&this.buildItem(t)),this.completeLayers=this.elements[t]?this.completeLayers:!1;this.checkPendingElements()},BaseRenderer.prototype.createItem=function(i){switch(i.ty){case 2:return this.createImage(i);case 0:return this.createComp(i);case 1:return this.createSolid(i);case 3:return this.createNull(i);case 4:return this.createShape(i);case 5:return this.createText(i);case 6:return this.createAudio(i);case 13:return this.createCamera(i);case 15:return this.createFootage(i);default:return this.createNull(i)}},BaseRenderer.prototype.createCamera=function(){throw new Error("You're using a 3d camera. Try the html renderer.")},BaseRenderer.prototype.createAudio=function(i){return new AudioElement(i,this.globalData,this)},BaseRenderer.prototype.createFootage=function(i){return new FootageElement(i,this.globalData,this)},BaseRenderer.prototype.buildAllItems=function(){var i,t=this.layers.length;for(i=0;i<t;i+=1)this.buildItem(i);this.checkPendingElements()},BaseRenderer.prototype.includeLayers=function(i){this.completeLayers=!1;var t,e=i.length,n,a=this.layers.length;for(t=0;t<e;t+=1)for(n=0;n<a;){if(this.layers[n].id===i[t].id){this.layers[n]=i[t];break}n+=1}},BaseRenderer.prototype.setProjectInterface=function(i){this.globalData.projectInterface=i},BaseRenderer.prototype.initItems=function(){this.globalData.progressiveLoad||this.buildAllItems()},BaseRenderer.prototype.buildElementParenting=function(i,t,e){for(var n=this.elements,a=this.layers,l=0,c=a.length;l<c;)a[l].ind==t&&(!n[l]||n[l]===!0?(this.buildItem(l),this.addPendingElement(i)):(e.push(n[l]),n[l].setAsParent(),a[l].parent!==void 0?this.buildElementParenting(i,a[l].parent,e):i.setHierarchy(e))),l+=1},BaseRenderer.prototype.addPendingElement=function(i){this.pendingElements.push(i)},BaseRenderer.prototype.searchExtraCompositions=function(i){var t,e=i.length;for(t=0;t<e;t+=1)if(i[t].xt){var n=this.createComp(i[t]);n.initExpressions(),this.globalData.projectInterface.registerComposition(n)}},BaseRenderer.prototype.getElementById=function(i){var t,e=this.elements.length;for(t=0;t<e;t+=1)if(this.elements[t].data.ind===i)return this.elements[t];return null},BaseRenderer.prototype.getElementByPath=function(i){var t=i.shift(),e;if(typeof t=="number")e=this.elements[t];else{var n,a=this.elements.length;for(n=0;n<a;n+=1)if(this.elements[n].data.nm===t){e=this.elements[n];break}}return i.length===0?e:e.getElementByPath(i)},BaseRenderer.prototype.setupGlobalData=function(i,t){this.globalData.fontManager=new FontManager,this.globalData.slotManager=slotFactory(i),this.globalData.fontManager.addChars(i.chars),this.globalData.fontManager.addFonts(i.fonts,t),this.globalData.getAssetData=this.animationItem.getAssetData.bind(this.animationItem),this.globalData.getAssetsPath=this.animationItem.getAssetsPath.bind(this.animationItem),this.globalData.imageLoader=this.animationItem.imagePreloader,this.globalData.audioController=this.animationItem.audioController,this.globalData.frameId=0,this.globalData.frameRate=i.fr,this.globalData.nm=i.nm,this.globalData.compSize={w:i.w,h:i.h}};var effectTypes={TRANSFORM_EFFECT:"transformEFfect"};function TransformElement(){}TransformElement.prototype={initTransform:function(){var t=new Matrix;this.finalTransform={mProp:this.data.ks?TransformPropertyFactory.getTransformProperty(this,this.data.ks,this):{o:0},_matMdf:!1,_localMatMdf:!1,_opMdf:!1,mat:t,localMat:t,localOpacity:1},this.data.ao&&(this.finalTransform.mProp.autoOriented=!0),this.data.ty},renderTransform:function(){if(this.finalTransform._opMdf=this.finalTransform.mProp.o._mdf||this._isFirstFrame,this.finalTransform._matMdf=this.finalTransform.mProp._mdf||this._isFirstFrame,this.hierarchy){var t,e=this.finalTransform.mat,n=0,a=this.hierarchy.length;if(!this.finalTransform._matMdf)for(;n<a;){if(this.hierarchy[n].finalTransform.mProp._mdf){this.finalTransform._matMdf=!0;break}n+=1}if(this.finalTransform._matMdf)for(t=this.finalTransform.mProp.v.props,e.cloneFromProps(t),n=0;n<a;n+=1)e.multiply(this.hierarchy[n].finalTransform.mProp.v)}this.finalTransform._matMdf&&(this.finalTransform._localMatMdf=this.finalTransform._matMdf),this.finalTransform._opMdf&&(this.finalTransform.localOpacity=this.finalTransform.mProp.o.v)},renderLocalTransform:function(){if(this.localTransforms){var t=0,e=this.localTransforms.length;if(this.finalTransform._localMatMdf=this.finalTransform._matMdf,!this.finalTransform._localMatMdf||!this.finalTransform._opMdf)for(;t<e;)this.localTransforms[t]._mdf&&(this.finalTransform._localMatMdf=!0),this.localTransforms[t]._opMdf&&!this.finalTransform._opMdf&&(this.finalTransform.localOpacity=this.finalTransform.mProp.o.v,this.finalTransform._opMdf=!0),t+=1;if(this.finalTransform._localMatMdf){var n=this.finalTransform.localMat;for(this.localTransforms[0].matrix.clone(n),t=1;t<e;t+=1){var a=this.localTransforms[t].matrix;n.multiply(a)}n.multiply(this.finalTransform.mat)}if(this.finalTransform._opMdf){var l=this.finalTransform.localOpacity;for(t=0;t<e;t+=1)l*=this.localTransforms[t].opacity*.01;this.finalTransform.localOpacity=l}}},searchEffectTransforms:function(){if(this.renderableEffectsManager){var t=this.renderableEffectsManager.getEffects(effectTypes.TRANSFORM_EFFECT);if(t.length){this.localTransforms=[],this.finalTransform.localMat=new Matrix;var e=0,n=t.length;for(e=0;e<n;e+=1)this.localTransforms.push(t[e])}}},globalToLocal:function(t){var e=[];e.push(this.finalTransform);for(var n=!0,a=this.comp;n;)a.finalTransform?(a.data.hasMask&&e.splice(0,0,a.finalTransform),a=a.comp):n=!1;var l,c=e.length,f;for(l=0;l<c;l+=1)f=e[l].mat.applyToPointArray(0,0,0),t=[t[0]-f[0],t[1]-f[1],0];return t},mHelper:new Matrix};function MaskElement(i,t,e){this.data=i,this.element=t,this.globalData=e,this.storedData=[],this.masksProperties=this.data.masksProperties||[],this.maskElement=null;var n=this.globalData.defs,a,l=this.masksProperties?this.masksProperties.length:0;this.viewData=createSizedArray(l),this.solidPath="";var c,f=this.masksProperties,d=0,m=[],y,A,b=createElementID(),x,E,T,k,S="clipPath",M="clip-path";for(a=0;a<l;a+=1)if((f[a].mode!=="a"&&f[a].mode!=="n"||f[a].inv||f[a].o.k!==100||f[a].o.x)&&(S="mask",M="mask"),(f[a].mode==="s"||f[a].mode==="i")&&d===0?(x=createNS("rect"),x.setAttribute("fill","#ffffff"),x.setAttribute("width",this.element.comp.data.w||0),x.setAttribute("height",this.element.comp.data.h||0),m.push(x)):x=null,c=createNS("path"),f[a].mode==="n")this.viewData[a]={op:PropertyFactory.getProp(this.element,f[a].o,0,.01,this.element),prop:ShapePropertyFactory.getShapeProp(this.element,f[a],3),elem:c,lastPath:""},n.appendChild(c);else{d+=1,c.setAttribute("fill",f[a].mode==="s"?"#000000":"#ffffff"),c.setAttribute("clip-rule","nonzero");var P;if(f[a].x.k!==0?(S="mask",M="mask",k=PropertyFactory.getProp(this.element,f[a].x,0,null,this.element),P=createElementID(),E=createNS("filter"),E.setAttribute("id",P),T=createNS("feMorphology"),T.setAttribute("operator","erode"),T.setAttribute("in","SourceGraphic"),T.setAttribute("radius","0"),E.appendChild(T),n.appendChild(E),c.setAttribute("stroke",f[a].mode==="s"?"#000000":"#ffffff")):(T=null,k=null),this.storedData[a]={elem:c,x:k,expan:T,lastPath:"",lastOperator:"",filterId:P,lastRadius:0},f[a].mode==="i"){A=m.length;var R=createNS("g");for(y=0;y<A;y+=1)R.appendChild(m[y]);var D=createNS("mask");D.setAttribute("mask-type","alpha"),D.setAttribute("id",b+"_"+d),D.appendChild(c),n.appendChild(D),R.setAttribute("mask","url("+getLocationHref()+"#"+b+"_"+d+")"),m.length=0,m.push(R)}else m.push(c);f[a].inv&&!this.solidPath&&(this.solidPath=this.createLayerSolidPath()),this.viewData[a]={elem:c,lastPath:"",op:PropertyFactory.getProp(this.element,f[a].o,0,.01,this.element),prop:ShapePropertyFactory.getShapeProp(this.element,f[a],3),invRect:x},this.viewData[a].prop.k||this.drawPath(f[a],this.viewData[a].prop.v,this.viewData[a])}for(this.maskElement=createNS(S),l=m.length,a=0;a<l;a+=1)this.maskElement.appendChild(m[a]);d>0&&(this.maskElement.setAttribute("id",b),this.element.maskedElement.setAttribute(M,"url("+getLocationHref()+"#"+b+")"),n.appendChild(this.maskElement)),this.viewData.length&&this.element.addRenderableComponent(this)}MaskElement.prototype.getMaskProperty=function(i){return this.viewData[i].prop},MaskElement.prototype.renderFrame=function(i){var t=this.element.finalTransform.mat,e,n=this.masksProperties.length;for(e=0;e<n;e+=1)if((this.viewData[e].prop._mdf||i)&&this.drawPath(this.masksProperties[e],this.viewData[e].prop.v,this.viewData[e]),(this.viewData[e].op._mdf||i)&&this.viewData[e].elem.setAttribute("fill-opacity",this.viewData[e].op.v),this.masksProperties[e].mode!=="n"&&(this.viewData[e].invRect&&(this.element.finalTransform.mProp._mdf||i)&&this.viewData[e].invRect.setAttribute("transform",t.getInverseMatrix().to2dCSS()),this.storedData[e].x&&(this.storedData[e].x._mdf||i))){var a=this.storedData[e].expan;this.storedData[e].x.v<0?(this.storedData[e].lastOperator!=="erode"&&(this.storedData[e].lastOperator="erode",this.storedData[e].elem.setAttribute("filter","url("+getLocationHref()+"#"+this.storedData[e].filterId+")")),a.setAttribute("radius",-this.storedData[e].x.v)):(this.storedData[e].lastOperator!=="dilate"&&(this.storedData[e].lastOperator="dilate",this.storedData[e].elem.setAttribute("filter",null)),this.storedData[e].elem.setAttribute("stroke-width",this.storedData[e].x.v*2))}},MaskElement.prototype.getMaskelement=function(){return this.maskElement},MaskElement.prototype.createLayerSolidPath=function(){var i="M0,0 ";return i+=" h"+this.globalData.compSize.w,i+=" v"+this.globalData.compSize.h,i+=" h-"+this.globalData.compSize.w,i+=" v-"+this.globalData.compSize.h+" ",i},MaskElement.prototype.drawPath=function(i,t,e){var n=" M"+t.v[0][0]+","+t.v[0][1],a,l;for(l=t._length,a=1;a<l;a+=1)n+=" C"+t.o[a-1][0]+","+t.o[a-1][1]+" "+t.i[a][0]+","+t.i[a][1]+" "+t.v[a][0]+","+t.v[a][1];if(t.c&&l>1&&(n+=" C"+t.o[a-1][0]+","+t.o[a-1][1]+" "+t.i[0][0]+","+t.i[0][1]+" "+t.v[0][0]+","+t.v[0][1]),e.lastPath!==n){var c="";e.elem&&(t.c&&(c=i.inv?this.solidPath+n:n),e.elem.setAttribute("d",c)),e.lastPath=n}},MaskElement.prototype.destroy=function(){this.element=null,this.globalData=null,this.maskElement=null,this.data=null,this.masksProperties=null};var filtersFactory=function(){var i={};i.createFilter=t,i.createAlphaToLuminanceFilter=e;function t(n,a){var l=createNS("filter");return l.setAttribute("id",n),a!==!0&&(l.setAttribute("filterUnits","objectBoundingBox"),l.setAttribute("x","0%"),l.setAttribute("y","0%"),l.setAttribute("width","100%"),l.setAttribute("height","100%")),l}function e(){var n=createNS("feColorMatrix");return n.setAttribute("type","matrix"),n.setAttribute("color-interpolation-filters","sRGB"),n.setAttribute("values","0 0 0 1 0  0 0 0 1 0  0 0 0 1 0  0 0 0 1 1"),n}return i}(),featureSupport=function(){var i={maskType:!0,svgLumaHidden:!0,offscreenCanvas:typeof OffscreenCanvas<"u"};return(/MSIE 10/i.test(navigator.userAgent)||/MSIE 9/i.test(navigator.userAgent)||/rv:11.0/i.test(navigator.userAgent)||/Edge\/\d./i.test(navigator.userAgent))&&(i.maskType=!1),/firefox/i.test(navigator.userAgent)&&(i.svgLumaHidden=!1),i}(),registeredEffects$1={},idPrefix="filter_result_";function SVGEffects(i){var t,e="SourceGraphic",n=i.data.ef?i.data.ef.length:0,a=createElementID(),l=filtersFactory.createFilter(a,!0),c=0;this.filters=[];var f;for(t=0;t<n;t+=1){f=null;var d=i.data.ef[t].ty;if(registeredEffects$1[d]){var m=registeredEffects$1[d].effect;f=new m(l,i.effectsManager.effectElements[t],i,idPrefix+c,e),e=idPrefix+c,registeredEffects$1[d].countsAsEffect&&(c+=1)}f&&this.filters.push(f)}c&&(i.globalData.defs.appendChild(l),i.layerElement.setAttribute("filter","url("+getLocationHref()+"#"+a+")")),this.filters.length&&i.addRenderableComponent(this)}SVGEffects.prototype.renderFrame=function(i){var t,e=this.filters.length;for(t=0;t<e;t+=1)this.filters[t].renderFrame(i)},SVGEffects.prototype.getEffects=function(i){var t,e=this.filters.length,n=[];for(t=0;t<e;t+=1)this.filters[t].type===i&&n.push(this.filters[t]);return n};function registerEffect$1(i,t,e){registeredEffects$1[i]={effect:t,countsAsEffect:e}}function SVGBaseElement(){}SVGBaseElement.prototype={initRendererElement:function(){this.layerElement=createNS("g")},createContainerElements:function(){this.matteElement=createNS("g"),this.transformedElement=this.layerElement,this.maskedElement=this.layerElement,this._sizeChanged=!1;var t=null;if(this.data.td){this.matteMasks={};var e=createNS("g");e.setAttribute("id",this.layerId),e.appendChild(this.layerElement),t=e,this.globalData.defs.appendChild(e)}else this.data.tt?(this.matteElement.appendChild(this.layerElement),t=this.matteElement,this.baseElement=this.matteElement):this.baseElement=this.layerElement;if(this.data.ln&&this.layerElement.setAttribute("id",this.data.ln),this.data.cl&&this.layerElement.setAttribute("class",this.data.cl),this.data.ty===0&&!this.data.hd){var n=createNS("clipPath"),a=createNS("path");a.setAttribute("d","M0,0 L"+this.data.w+",0 L"+this.data.w+","+this.data.h+" L0,"+this.data.h+"z");var l=createElementID();if(n.setAttribute("id",l),n.appendChild(a),this.globalData.defs.appendChild(n),this.checkMasks()){var c=createNS("g");c.setAttribute("clip-path","url("+getLocationHref()+"#"+l+")"),c.appendChild(this.layerElement),this.transformedElement=c,t?t.appendChild(this.transformedElement):this.baseElement=this.transformedElement}else this.layerElement.setAttribute("clip-path","url("+getLocationHref()+"#"+l+")")}this.data.bm!==0&&this.setBlendMode()},renderElement:function(){this.finalTransform._localMatMdf&&this.transformedElement.setAttribute("transform",this.finalTransform.localMat.to2dCSS()),this.finalTransform._opMdf&&this.transformedElement.setAttribute("opacity",this.finalTransform.localOpacity)},destroyBaseElement:function(){this.layerElement=null,this.matteElement=null,this.maskManager.destroy()},getBaseElement:function(){return this.data.hd?null:this.baseElement},createRenderableComponents:function(){this.maskManager=new MaskElement(this.data,this,this.globalData),this.renderableEffectsManager=new SVGEffects(this),this.searchEffectTransforms()},getMatte:function(t){if(this.matteMasks||(this.matteMasks={}),!this.matteMasks[t]){var e=this.layerId+"_"+t,n,a,l,c;if(t===1||t===3){var f=createNS("mask");f.setAttribute("id",e),f.setAttribute("mask-type",t===3?"luminance":"alpha"),l=createNS("use"),l.setAttributeNS("http://www.w3.org/1999/xlink","href","#"+this.layerId),f.appendChild(l),this.globalData.defs.appendChild(f),!featureSupport.maskType&&t===1&&(f.setAttribute("mask-type","luminance"),n=createElementID(),a=filtersFactory.createFilter(n),this.globalData.defs.appendChild(a),a.appendChild(filtersFactory.createAlphaToLuminanceFilter()),c=createNS("g"),c.appendChild(l),f.appendChild(c),c.setAttribute("filter","url("+getLocationHref()+"#"+n+")"))}else if(t===2){var d=createNS("mask");d.setAttribute("id",e),d.setAttribute("mask-type","alpha");var m=createNS("g");d.appendChild(m),n=createElementID(),a=filtersFactory.createFilter(n);var y=createNS("feComponentTransfer");y.setAttribute("in","SourceGraphic"),a.appendChild(y);var A=createNS("feFuncA");A.setAttribute("type","table"),A.setAttribute("tableValues","1.0 0.0"),y.appendChild(A),this.globalData.defs.appendChild(a);var b=createNS("rect");b.setAttribute("width",this.comp.data.w),b.setAttribute("height",this.comp.data.h),b.setAttribute("x","0"),b.setAttribute("y","0"),b.setAttribute("fill","#ffffff"),b.setAttribute("opacity","0"),m.setAttribute("filter","url("+getLocationHref()+"#"+n+")"),m.appendChild(b),l=createNS("use"),l.setAttributeNS("http://www.w3.org/1999/xlink","href","#"+this.layerId),m.appendChild(l),featureSupport.maskType||(d.setAttribute("mask-type","luminance"),a.appendChild(filtersFactory.createAlphaToLuminanceFilter()),c=createNS("g"),m.appendChild(b),c.appendChild(this.layerElement),m.appendChild(c)),this.globalData.defs.appendChild(d)}this.matteMasks[t]=e}return this.matteMasks[t]},setMatte:function(t){this.matteElement&&this.matteElement.setAttribute("mask","url("+getLocationHref()+"#"+t+")")}};function HierarchyElement(){}HierarchyElement.prototype={initHierarchy:function(){this.hierarchy=[],this._isParent=!1,this.checkParenting()},setHierarchy:function(t){this.hierarchy=t},setAsParent:function(){this._isParent=!0},checkParenting:function(){this.data.parent!==void 0&&this.comp.buildElementParenting(this,this.data.parent,[])}};function RenderableDOMElement(){}(function(){var i={initElement:function(e,n,a){this.initFrame(),this.initBaseData(e,n,a),this.initTransform(e,n,a),this.initHierarchy(),this.initRenderable(),this.initRendererElement(),this.createContainerElements(),this.createRenderableComponents(),this.createContent(),this.hide()},hide:function(){if(!this.hidden&&(!this.isInRange||this.isTransparent)){var e=this.baseElement||this.layerElement;e.style.display="none",this.hidden=!0}},show:function(){if(this.isInRange&&!this.isTransparent){if(!this.data.hd){var e=this.baseElement||this.layerElement;e.style.display="block"}this.hidden=!1,this._isFirstFrame=!0}},renderFrame:function(){this.data.hd||this.hidden||(this.renderTransform(),this.renderRenderable(),this.renderLocalTransform(),this.renderElement(),this.renderInnerContent(),this._isFirstFrame&&(this._isFirstFrame=!1))},renderInnerContent:function(){},prepareFrame:function(e){this._mdf=!1,this.prepareRenderableFrame(e),this.prepareProperties(e,this.isInRange),this.checkTransparency()},destroy:function(){this.innerElem=null,this.destroyBaseElement()}};extendPrototype([RenderableElement,createProxyFunction(i)],RenderableDOMElement)})();function IImageElement(i,t,e){this.assetData=t.getAssetData(i.refId),this.assetData&&this.assetData.sid&&(this.assetData=t.slotManager.getProp(this.assetData)),this.initElement(i,t,e),this.sourceRect={top:0,left:0,width:this.assetData.w,height:this.assetData.h}}extendPrototype([BaseElement,TransformElement,SVGBaseElement,HierarchyElement,FrameElement,RenderableDOMElement],IImageElement),IImageElement.prototype.createContent=function(){var i=this.globalData.getAssetsPath(this.assetData);this.innerElem=createNS("image"),this.innerElem.setAttribute("width",this.assetData.w+"px"),this.innerElem.setAttribute("height",this.assetData.h+"px"),this.innerElem.setAttribute("preserveAspectRatio",this.assetData.pr||this.globalData.renderConfig.imagePreserveAspectRatio),this.innerElem.setAttributeNS("http://www.w3.org/1999/xlink","href",i),this.layerElement.appendChild(this.innerElem)},IImageElement.prototype.sourceRectAtTime=function(){return this.sourceRect};function ProcessedElement(i,t){this.elem=i,this.pos=t}function IShapeElement(){}IShapeElement.prototype={addShapeToModifiers:function(t){var e,n=this.shapeModifiers.length;for(e=0;e<n;e+=1)this.shapeModifiers[e].addShape(t)},isShapeInAnimatedModifiers:function(t){for(var e=0,n=this.shapeModifiers.length;e<n;)if(this.shapeModifiers[e].isAnimatedWithShape(t))return!0;return!1},renderModifiers:function(){if(this.shapeModifiers.length){var t,e=this.shapes.length;for(t=0;t<e;t+=1)this.shapes[t].sh.reset();e=this.shapeModifiers.length;var n;for(t=e-1;t>=0&&(n=this.shapeModifiers[t].processShapes(this._isFirstFrame),!n);t-=1);}},searchProcessedElement:function(t){for(var e=this.processedElements,n=0,a=e.length;n<a;){if(e[n].elem===t)return e[n].pos;n+=1}return 0},addProcessedElement:function(t,e){for(var n=this.processedElements,a=n.length;a;)if(a-=1,n[a].elem===t){n[a].pos=e;return}n.push(new ProcessedElement(t,e))},prepareFrame:function(t){this.prepareRenderableFrame(t),this.prepareProperties(t,this.isInRange)}};var lineCapEnum={1:"butt",2:"round",3:"square"},lineJoinEnum={1:"miter",2:"round",3:"bevel"};function SVGShapeData(i,t,e){this.caches=[],this.styles=[],this.transformers=i,this.lStr="",this.sh=e,this.lvl=t,this._isAnimated=!!e.k;for(var n=0,a=i.length;n<a;){if(i[n].mProps.dynamicProperties.length){this._isAnimated=!0;break}n+=1}}SVGShapeData.prototype.setAsAnimated=function(){this._isAnimated=!0};function SVGStyleData(i,t){this.data=i,this.type=i.ty,this.d="",this.lvl=t,this._mdf=!1,this.closed=i.hd===!0,this.pElem=createNS("path"),this.msElem=null}SVGStyleData.prototype.reset=function(){this.d="",this._mdf=!1};function DashProperty(i,t,e,n){this.elem=i,this.frameId=-1,this.dataProps=createSizedArray(t.length),this.renderer=e,this.k=!1,this.dashStr="",this.dashArray=createTypedArray("float32",t.length?t.length-1:0),this.dashoffset=createTypedArray("float32",1),this.initDynamicPropertyContainer(n);var a,l=t.length||0,c;for(a=0;a<l;a+=1)c=PropertyFactory.getProp(i,t[a].v,0,0,this),this.k=c.k||this.k,this.dataProps[a]={n:t[a].n,p:c};this.k||this.getValue(!0),this._isAnimated=this.k}DashProperty.prototype.getValue=function(i){if(!(this.elem.globalData.frameId===this.frameId&&!i)&&(this.frameId=this.elem.globalData.frameId,this.iterateDynamicProperties(),this._mdf=this._mdf||i,this._mdf)){var t=0,e=this.dataProps.length;for(this.renderer==="svg"&&(this.dashStr=""),t=0;t<e;t+=1)this.dataProps[t].n!=="o"?this.renderer==="svg"?this.dashStr+=" "+this.dataProps[t].p.v:this.dashArray[t]=this.dataProps[t].p.v:this.dashoffset[0]=this.dataProps[t].p.v}},extendPrototype([DynamicPropertyContainer],DashProperty);function SVGStrokeStyleData(i,t,e){this.initDynamicPropertyContainer(i),this.getValue=this.iterateDynamicProperties,this.o=PropertyFactory.getProp(i,t.o,0,.01,this),this.w=PropertyFactory.getProp(i,t.w,0,null,this),this.d=new DashProperty(i,t.d||{},"svg",this),this.c=PropertyFactory.getProp(i,t.c,1,255,this),this.style=e,this._isAnimated=!!this._isAnimated}extendPrototype([DynamicPropertyContainer],SVGStrokeStyleData);function SVGFillStyleData(i,t,e){this.initDynamicPropertyContainer(i),this.getValue=this.iterateDynamicProperties,this.o=PropertyFactory.getProp(i,t.o,0,.01,this),this.c=PropertyFactory.getProp(i,t.c,1,255,this),this.style=e}extendPrototype([DynamicPropertyContainer],SVGFillStyleData);function SVGNoStyleData(i,t,e){this.initDynamicPropertyContainer(i),this.getValue=this.iterateDynamicProperties,this.style=e}extendPrototype([DynamicPropertyContainer],SVGNoStyleData);function GradientProperty(i,t,e){this.data=t,this.c=createTypedArray("uint8c",t.p*4);var n=t.k.k[0].s?t.k.k[0].s.length-t.p*4:t.k.k.length-t.p*4;this.o=createTypedArray("float32",n),this._cmdf=!1,this._omdf=!1,this._collapsable=this.checkCollapsable(),this._hasOpacity=n,this.initDynamicPropertyContainer(e),this.prop=PropertyFactory.getProp(i,t.k,1,null,this),this.k=this.prop.k,this.getValue(!0)}GradientProperty.prototype.comparePoints=function(i,t){for(var e=0,n=this.o.length/2,a;e<n;){if(a=Math.abs(i[e*4]-i[t*4+e*2]),a>.01)return!1;e+=1}return!0},GradientProperty.prototype.checkCollapsable=function(){if(this.o.length/2!==this.c.length/4)return!1;if(this.data.k.k[0].s)for(var i=0,t=this.data.k.k.length;i<t;){if(!this.comparePoints(this.data.k.k[i].s,this.data.p))return!1;i+=1}else if(!this.comparePoints(this.data.k.k,this.data.p))return!1;return!0},GradientProperty.prototype.getValue=function(i){if(this.prop.getValue(),this._mdf=!1,this._cmdf=!1,this._omdf=!1,this.prop._mdf||i){var t,e=this.data.p*4,n,a;for(t=0;t<e;t+=1)n=t%4===0?100:255,a=Math.round(this.prop.v[t]*n),this.c[t]!==a&&(this.c[t]=a,this._cmdf=!i);if(this.o.length)for(e=this.prop.v.length,t=this.data.p*4;t<e;t+=1)n=t%2===0?100:1,a=t%2===0?Math.round(this.prop.v[t]*100):this.prop.v[t],this.o[t-this.data.p*4]!==a&&(this.o[t-this.data.p*4]=a,this._omdf=!i);this._mdf=!i}},extendPrototype([DynamicPropertyContainer],GradientProperty);function SVGGradientFillStyleData(i,t,e){this.initDynamicPropertyContainer(i),this.getValue=this.iterateDynamicProperties,this.initGradientData(i,t,e)}SVGGradientFillStyleData.prototype.initGradientData=function(i,t,e){this.o=PropertyFactory.getProp(i,t.o,0,.01,this),this.s=PropertyFactory.getProp(i,t.s,1,null,this),this.e=PropertyFactory.getProp(i,t.e,1,null,this),this.h=PropertyFactory.getProp(i,t.h||{k:0},0,.01,this),this.a=PropertyFactory.getProp(i,t.a||{k:0},0,degToRads,this),this.g=new GradientProperty(i,t.g,this),this.style=e,this.stops=[],this.setGradientData(e.pElem,t),this.setGradientOpacity(t,e),this._isAnimated=!!this._isAnimated},SVGGradientFillStyleData.prototype.setGradientData=function(i,t){var e=createElementID(),n=createNS(t.t===1?"linearGradient":"radialGradient");n.setAttribute("id",e),n.setAttribute("spreadMethod","pad"),n.setAttribute("gradientUnits","userSpaceOnUse");var a=[],l,c,f;for(f=t.g.p*4,c=0;c<f;c+=4)l=createNS("stop"),n.appendChild(l),a.push(l);i.setAttribute(t.ty==="gf"?"fill":"stroke","url("+getLocationHref()+"#"+e+")"),this.gf=n,this.cst=a},SVGGradientFillStyleData.prototype.setGradientOpacity=function(i,t){if(this.g._hasOpacity&&!this.g._collapsable){var e,n,a,l=createNS("mask"),c=createNS("path");l.appendChild(c);var f=createElementID(),d=createElementID();l.setAttribute("id",d);var m=createNS(i.t===1?"linearGradient":"radialGradient");m.setAttribute("id",f),m.setAttribute("spreadMethod","pad"),m.setAttribute("gradientUnits","userSpaceOnUse"),a=i.g.k.k[0].s?i.g.k.k[0].s.length:i.g.k.k.length;var y=this.stops;for(n=i.g.p*4;n<a;n+=2)e=createNS("stop"),e.setAttribute("stop-color","rgb(255,255,255)"),m.appendChild(e),y.push(e);c.setAttribute(i.ty==="gf"?"fill":"stroke","url("+getLocationHref()+"#"+f+")"),i.ty==="gs"&&(c.setAttribute("stroke-linecap",lineCapEnum[i.lc||2]),c.setAttribute("stroke-linejoin",lineJoinEnum[i.lj||2]),i.lj===1&&c.setAttribute("stroke-miterlimit",i.ml)),this.of=m,this.ms=l,this.ost=y,this.maskId=d,t.msElem=c}},extendPrototype([DynamicPropertyContainer],SVGGradientFillStyleData);function SVGGradientStrokeStyleData(i,t,e){this.initDynamicPropertyContainer(i),this.getValue=this.iterateDynamicProperties,this.w=PropertyFactory.getProp(i,t.w,0,null,this),this.d=new DashProperty(i,t.d||{},"svg",this),this.initGradientData(i,t,e),this._isAnimated=!!this._isAnimated}extendPrototype([SVGGradientFillStyleData,DynamicPropertyContainer],SVGGradientStrokeStyleData);function ShapeGroupData(){this.it=[],this.prevViewData=[],this.gr=createNS("g")}function SVGTransformData(i,t,e){this.transform={mProps:i,op:t,container:e},this.elements=[],this._isAnimated=this.transform.mProps.dynamicProperties.length||this.transform.op.effectsSequence.length}var buildShapeString=function(t,e,n,a){if(e===0)return"";var l=t.o,c=t.i,f=t.v,d,m=" M"+a.applyToPointStringified(f[0][0],f[0][1]);for(d=1;d<e;d+=1)m+=" C"+a.applyToPointStringified(l[d-1][0],l[d-1][1])+" "+a.applyToPointStringified(c[d][0],c[d][1])+" "+a.applyToPointStringified(f[d][0],f[d][1]);return n&&e&&(m+=" C"+a.applyToPointStringified(l[d-1][0],l[d-1][1])+" "+a.applyToPointStringified(c[0][0],c[0][1])+" "+a.applyToPointStringified(f[0][0],f[0][1]),m+="z"),m},SVGElementsRenderer=function(){var i=new Matrix,t=new Matrix,e={createRenderFunction:n};function n(A){switch(A.ty){case"fl":return f;case"gf":return m;case"gs":return d;case"st":return y;case"sh":case"el":case"rc":case"sr":return c;case"tr":return a;case"no":return l;default:return null}}function a(A,b,x){(x||b.transform.op._mdf)&&b.transform.container.setAttribute("opacity",b.transform.op.v),(x||b.transform.mProps._mdf)&&b.transform.container.setAttribute("transform",b.transform.mProps.v.to2dCSS())}function l(){}function c(A,b,x){var E,T,k,S,M,P,R=b.styles.length,D=b.lvl,L,G,q,X;for(P=0;P<R;P+=1){if(S=b.sh._mdf||x,b.styles[P].lvl<D){for(G=t.reset(),q=D-b.styles[P].lvl,X=b.transformers.length-1;!S&&q>0;)S=b.transformers[X].mProps._mdf||S,q-=1,X-=1;if(S)for(q=D-b.styles[P].lvl,X=b.transformers.length-1;q>0;)G.multiply(b.transformers[X].mProps.v),q-=1,X-=1}else G=i;if(L=b.sh.paths,T=L._length,S){for(k="",E=0;E<T;E+=1)M=L.shapes[E],M&&M._length&&(k+=buildShapeString(M,M._length,M.c,G));b.caches[P]=k}else k=b.caches[P];b.styles[P].d+=A.hd===!0?"":k,b.styles[P]._mdf=S||b.styles[P]._mdf}}function f(A,b,x){var E=b.style;(b.c._mdf||x)&&E.pElem.setAttribute("fill","rgb("+bmFloor(b.c.v[0])+","+bmFloor(b.c.v[1])+","+bmFloor(b.c.v[2])+")"),(b.o._mdf||x)&&E.pElem.setAttribute("fill-opacity",b.o.v)}function d(A,b,x){m(A,b,x),y(A,b,x)}function m(A,b,x){var E=b.gf,T=b.g._hasOpacity,k=b.s.v,S=b.e.v;if(b.o._mdf||x){var M=A.ty==="gf"?"fill-opacity":"stroke-opacity";b.style.pElem.setAttribute(M,b.o.v)}if(b.s._mdf||x){var P=A.t===1?"x1":"cx",R=P==="x1"?"y1":"cy";E.setAttribute(P,k[0]),E.setAttribute(R,k[1]),T&&!b.g._collapsable&&(b.of.setAttribute(P,k[0]),b.of.setAttribute(R,k[1]))}var D,L,G,q;if(b.g._cmdf||x){D=b.cst;var X=b.g.c;for(G=D.length,L=0;L<G;L+=1)q=D[L],q.setAttribute("offset",X[L*4]+"%"),q.setAttribute("stop-color","rgb("+X[L*4+1]+","+X[L*4+2]+","+X[L*4+3]+")")}if(T&&(b.g._omdf||x)){var J=b.g.o;for(b.g._collapsable?D=b.cst:D=b.ost,G=D.length,L=0;L<G;L+=1)q=D[L],b.g._collapsable||q.setAttribute("offset",J[L*2]+"%"),q.setAttribute("stop-opacity",J[L*2+1])}if(A.t===1)(b.e._mdf||x)&&(E.setAttribute("x2",S[0]),E.setAttribute("y2",S[1]),T&&!b.g._collapsable&&(b.of.setAttribute("x2",S[0]),b.of.setAttribute("y2",S[1])));else{var et;if((b.s._mdf||b.e._mdf||x)&&(et=Math.sqrt(Math.pow(k[0]-S[0],2)+Math.pow(k[1]-S[1],2)),E.setAttribute("r",et),T&&!b.g._collapsable&&b.of.setAttribute("r",et)),b.e._mdf||b.h._mdf||b.a._mdf||x){et||(et=Math.sqrt(Math.pow(k[0]-S[0],2)+Math.pow(k[1]-S[1],2)));var it=Math.atan2(S[1]-k[1],S[0]-k[0]),lt=b.h.v;lt>=1?lt=.99:lt<=-1&&(lt=-.99);var tt=et*lt,W=Math.cos(it+b.a.v)*tt+k[0],O=Math.sin(it+b.a.v)*tt+k[1];E.setAttribute("fx",W),E.setAttribute("fy",O),T&&!b.g._collapsable&&(b.of.setAttribute("fx",W),b.of.setAttribute("fy",O))}}}function y(A,b,x){var E=b.style,T=b.d;T&&(T._mdf||x)&&T.dashStr&&(E.pElem.setAttribute("stroke-dasharray",T.dashStr),E.pElem.setAttribute("stroke-dashoffset",T.dashoffset[0])),b.c&&(b.c._mdf||x)&&E.pElem.setAttribute("stroke","rgb("+bmFloor(b.c.v[0])+","+bmFloor(b.c.v[1])+","+bmFloor(b.c.v[2])+")"),(b.o._mdf||x)&&E.pElem.setAttribute("stroke-opacity",b.o.v),(b.w._mdf||x)&&(E.pElem.setAttribute("stroke-width",b.w.v),E.msElem&&E.msElem.setAttribute("stroke-width",b.w.v))}return e}();function SVGShapeElement(i,t,e){this.shapes=[],this.shapesData=i.shapes,this.stylesList=[],this.shapeModifiers=[],this.itemsData=[],this.processedElements=[],this.animatedContents=[],this.initElement(i,t,e),this.prevViewData=[]}extendPrototype([BaseElement,TransformElement,SVGBaseElement,IShapeElement,HierarchyElement,FrameElement,RenderableDOMElement],SVGShapeElement),SVGShapeElement.prototype.initSecondaryElement=function(){},SVGShapeElement.prototype.identityMatrix=new Matrix,SVGShapeElement.prototype.buildExpressionInterface=function(){},SVGShapeElement.prototype.createContent=function(){this.searchShapes(this.shapesData,this.itemsData,this.prevViewData,this.layerElement,0,[],!0),this.filterUniqueShapes()},SVGShapeElement.prototype.filterUniqueShapes=function(){var i,t=this.shapes.length,e,n,a=this.stylesList.length,l,c=[],f=!1;for(n=0;n<a;n+=1){for(l=this.stylesList[n],f=!1,c.length=0,i=0;i<t;i+=1)e=this.shapes[i],e.styles.indexOf(l)!==-1&&(c.push(e),f=e._isAnimated||f);c.length>1&&f&&this.setShapesAsAnimated(c)}},SVGShapeElement.prototype.setShapesAsAnimated=function(i){var t,e=i.length;for(t=0;t<e;t+=1)i[t].setAsAnimated()},SVGShapeElement.prototype.createStyleElement=function(i,t){var e,n=new SVGStyleData(i,t),a=n.pElem;if(i.ty==="st")e=new SVGStrokeStyleData(this,i,n);else if(i.ty==="fl")e=new SVGFillStyleData(this,i,n);else if(i.ty==="gf"||i.ty==="gs"){var l=i.ty==="gf"?SVGGradientFillStyleData:SVGGradientStrokeStyleData;e=new l(this,i,n),this.globalData.defs.appendChild(e.gf),e.maskId&&(this.globalData.defs.appendChild(e.ms),this.globalData.defs.appendChild(e.of),a.setAttribute("mask","url("+getLocationHref()+"#"+e.maskId+")"))}else i.ty==="no"&&(e=new SVGNoStyleData(this,i,n));return(i.ty==="st"||i.ty==="gs")&&(a.setAttribute("stroke-linecap",lineCapEnum[i.lc||2]),a.setAttribute("stroke-linejoin",lineJoinEnum[i.lj||2]),a.setAttribute("fill-opacity","0"),i.lj===1&&a.setAttribute("stroke-miterlimit",i.ml)),i.r===2&&a.setAttribute("fill-rule","evenodd"),i.ln&&a.setAttribute("id",i.ln),i.cl&&a.setAttribute("class",i.cl),i.bm&&(a.style["mix-blend-mode"]=getBlendMode(i.bm)),this.stylesList.push(n),this.addToAnimatedContents(i,e),e},SVGShapeElement.prototype.createGroupElement=function(i){var t=new ShapeGroupData;return i.ln&&t.gr.setAttribute("id",i.ln),i.cl&&t.gr.setAttribute("class",i.cl),i.bm&&(t.gr.style["mix-blend-mode"]=getBlendMode(i.bm)),t},SVGShapeElement.prototype.createTransformElement=function(i,t){var e=TransformPropertyFactory.getTransformProperty(this,i,this),n=new SVGTransformData(e,e.o,t);return this.addToAnimatedContents(i,n),n},SVGShapeElement.prototype.createShapeElement=function(i,t,e){var n=4;i.ty==="rc"?n=5:i.ty==="el"?n=6:i.ty==="sr"&&(n=7);var a=ShapePropertyFactory.getShapeProp(this,i,n,this),l=new SVGShapeData(t,e,a);return this.shapes.push(l),this.addShapeToModifiers(l),this.addToAnimatedContents(i,l),l},SVGShapeElement.prototype.addToAnimatedContents=function(i,t){for(var e=0,n=this.animatedContents.length;e<n;){if(this.animatedContents[e].element===t)return;e+=1}this.animatedContents.push({fn:SVGElementsRenderer.createRenderFunction(i),element:t,data:i})},SVGShapeElement.prototype.setElementStyles=function(i){var t=i.styles,e,n=this.stylesList.length;for(e=0;e<n;e+=1)this.stylesList[e].closed||t.push(this.stylesList[e])},SVGShapeElement.prototype.reloadShapes=function(){this._isFirstFrame=!0;var i,t=this.itemsData.length;for(i=0;i<t;i+=1)this.prevViewData[i]=this.itemsData[i];for(this.searchShapes(this.shapesData,this.itemsData,this.prevViewData,this.layerElement,0,[],!0),this.filterUniqueShapes(),t=this.dynamicProperties.length,i=0;i<t;i+=1)this.dynamicProperties[i].getValue();this.renderModifiers()},SVGShapeElement.prototype.searchShapes=function(i,t,e,n,a,l,c){var f=[].concat(l),d,m=i.length-1,y,A,b=[],x=[],E,T,k;for(d=m;d>=0;d-=1){if(k=this.searchProcessedElement(i[d]),k?t[d]=e[k-1]:i[d]._render=c,i[d].ty==="fl"||i[d].ty==="st"||i[d].ty==="gf"||i[d].ty==="gs"||i[d].ty==="no")k?t[d].style.closed=!1:t[d]=this.createStyleElement(i[d],a),i[d]._render&&t[d].style.pElem.parentNode!==n&&n.appendChild(t[d].style.pElem),b.push(t[d].style);else if(i[d].ty==="gr"){if(!k)t[d]=this.createGroupElement(i[d]);else for(A=t[d].it.length,y=0;y<A;y+=1)t[d].prevViewData[y]=t[d].it[y];this.searchShapes(i[d].it,t[d].it,t[d].prevViewData,t[d].gr,a+1,f,c),i[d]._render&&t[d].gr.parentNode!==n&&n.appendChild(t[d].gr)}else i[d].ty==="tr"?(k||(t[d]=this.createTransformElement(i[d],n)),E=t[d].transform,f.push(E)):i[d].ty==="sh"||i[d].ty==="rc"||i[d].ty==="el"||i[d].ty==="sr"?(k||(t[d]=this.createShapeElement(i[d],f,a)),this.setElementStyles(t[d])):i[d].ty==="tm"||i[d].ty==="rd"||i[d].ty==="ms"||i[d].ty==="pb"||i[d].ty==="zz"||i[d].ty==="op"?(k?(T=t[d],T.closed=!1):(T=ShapeModifiers.getModifier(i[d].ty),T.init(this,i[d]),t[d]=T,this.shapeModifiers.push(T)),x.push(T)):i[d].ty==="rp"&&(k?(T=t[d],T.closed=!0):(T=ShapeModifiers.getModifier(i[d].ty),t[d]=T,T.init(this,i,d,t),this.shapeModifiers.push(T),c=!1),x.push(T));this.addProcessedElement(i[d],d+1)}for(m=b.length,d=0;d<m;d+=1)b[d].closed=!0;for(m=x.length,d=0;d<m;d+=1)x[d].closed=!0},SVGShapeElement.prototype.renderInnerContent=function(){this.renderModifiers();var i,t=this.stylesList.length;for(i=0;i<t;i+=1)this.stylesList[i].reset();for(this.renderShape(),i=0;i<t;i+=1)(this.stylesList[i]._mdf||this._isFirstFrame)&&(this.stylesList[i].msElem&&(this.stylesList[i].msElem.setAttribute("d",this.stylesList[i].d),this.stylesList[i].d="M0 0"+this.stylesList[i].d),this.stylesList[i].pElem.setAttribute("d",this.stylesList[i].d||"M0 0"))},SVGShapeElement.prototype.renderShape=function(){var i,t=this.animatedContents.length,e;for(i=0;i<t;i+=1)e=this.animatedContents[i],(this._isFirstFrame||e.element._isAnimated)&&e.data!==!0&&e.fn(e.data,e.element,this._isFirstFrame)},SVGShapeElement.prototype.destroy=function(){this.destroyBaseElement(),this.shapesData=null,this.itemsData=null};function LetterProps(i,t,e,n,a,l){this.o=i,this.sw=t,this.sc=e,this.fc=n,this.m=a,this.p=l,this._mdf={o:!0,sw:!!t,sc:!!e,fc:!!n,m:!0,p:!0}}LetterProps.prototype.update=function(i,t,e,n,a,l){this._mdf.o=!1,this._mdf.sw=!1,this._mdf.sc=!1,this._mdf.fc=!1,this._mdf.m=!1,this._mdf.p=!1;var c=!1;return this.o!==i&&(this.o=i,this._mdf.o=!0,c=!0),this.sw!==t&&(this.sw=t,this._mdf.sw=!0,c=!0),this.sc!==e&&(this.sc=e,this._mdf.sc=!0,c=!0),this.fc!==n&&(this.fc=n,this._mdf.fc=!0,c=!0),this.m!==a&&(this.m=a,this._mdf.m=!0,c=!0),l.length&&(this.p[0]!==l[0]||this.p[1]!==l[1]||this.p[4]!==l[4]||this.p[5]!==l[5]||this.p[12]!==l[12]||this.p[13]!==l[13])&&(this.p=l,this._mdf.p=!0,c=!0),c};function TextProperty(i,t){this._frameId=initialDefaultFrame,this.pv="",this.v="",this.kf=!1,this._isFirstFrame=!0,this._mdf=!1,t.d&&t.d.sid&&(t.d=i.globalData.slotManager.getProp(t.d)),this.data=t,this.elem=i,this.comp=this.elem.comp,this.keysIndex=0,this.canResize=!1,this.minimumFontSize=1,this.effectsSequence=[],this.currentData={ascent:0,boxWidth:this.defaultBoxWidth,f:"",fStyle:"",fWeight:"",fc:"",j:"",justifyOffset:"",l:[],lh:0,lineWidths:[],ls:"",of:"",s:"",sc:"",sw:0,t:0,tr:0,sz:0,ps:null,fillColorAnim:!1,strokeColorAnim:!1,strokeWidthAnim:!1,yOffset:0,finalSize:0,finalText:[],finalLineHeight:0,__complete:!1},this.copyData(this.currentData,this.data.d.k[0].s),this.searchProperty()||this.completeTextData(this.currentData)}TextProperty.prototype.defaultBoxWidth=[0,0],TextProperty.prototype.copyData=function(i,t){for(var e in t)Object.prototype.hasOwnProperty.call(t,e)&&(i[e]=t[e]);return i},TextProperty.prototype.setCurrentData=function(i){i.__complete||this.completeTextData(i),this.currentData=i,this.currentData.boxWidth=this.currentData.boxWidth||this.defaultBoxWidth,this._mdf=!0},TextProperty.prototype.searchProperty=function(){return this.searchKeyframes()},TextProperty.prototype.searchKeyframes=function(){return this.kf=this.data.d.k.length>1,this.kf&&this.addEffect(this.getKeyframeValue.bind(this)),this.kf},TextProperty.prototype.addEffect=function(i){this.effectsSequence.push(i),this.elem.addDynamicProperty(this)},TextProperty.prototype.getValue=function(i){if(!((this.elem.globalData.frameId===this.frameId||!this.effectsSequence.length)&&!i)){this.currentData.t=this.data.d.k[this.keysIndex].s.t;var t=this.currentData,e=this.keysIndex;if(this.lock){this.setCurrentData(this.currentData);return}this.lock=!0,this._mdf=!1;var n,a=this.effectsSequence.length,l=i||this.data.d.k[this.keysIndex].s;for(n=0;n<a;n+=1)e!==this.keysIndex?l=this.effectsSequence[n](l,l.t):l=this.effectsSequence[n](this.currentData,l.t);t!==l&&this.setCurrentData(l),this.v=this.currentData,this.pv=this.v,this.lock=!1,this.frameId=this.elem.globalData.frameId}},TextProperty.prototype.getKeyframeValue=function(){for(var i=this.data.d.k,t=this.elem.comp.renderedFrame,e=0,n=i.length;e<=n-1&&!(e===n-1||i[e+1].t>t);)e+=1;return this.keysIndex!==e&&(this.keysIndex=e),this.data.d.k[this.keysIndex].s},TextProperty.prototype.buildFinalText=function(i){for(var t=[],e=0,n=i.length,a,l,c=!1,f=!1,d="";e<n;)c=f,f=!1,a=i.charCodeAt(e),d=i.charAt(e),FontManager.isCombinedCharacter(a)?c=!0:a>=55296&&a<=56319?FontManager.isRegionalFlag(i,e)?d=i.substr(e,14):(l=i.charCodeAt(e+1),l>=56320&&l<=57343&&(FontManager.isModifier(a,l)?(d=i.substr(e,2),c=!0):FontManager.isFlagEmoji(i.substr(e,4))?d=i.substr(e,4):d=i.substr(e,2))):a>56319?(l=i.charCodeAt(e+1),FontManager.isVariationSelector(a)&&(c=!0)):FontManager.isZeroWidthJoiner(a)&&(c=!0,f=!0),c?(t[t.length-1]+=d,c=!1):t.push(d),e+=d.length;return t},TextProperty.prototype.completeTextData=function(i){i.__complete=!0;var t=this.elem.globalData.fontManager,e=this.data,n=[],a,l,c,f=0,d,m=e.m.g,y=0,A=0,b=0,x=[],E=0,T=0,k,S,M=t.getFontByName(i.f),P,R=0,D=getFontProperties(M);i.fWeight=D.weight,i.fStyle=D.style,i.finalSize=i.s,i.finalText=this.buildFinalText(i.t),l=i.finalText.length,i.finalLineHeight=i.lh;var L=i.tr/1e3*i.finalSize,G;if(i.sz)for(var q=!0,X=i.sz[0],J=i.sz[1],et,it;q;){it=this.buildFinalText(i.t),et=0,E=0,l=it.length,L=i.tr/1e3*i.finalSize;var lt=-1;for(a=0;a<l;a+=1)G=it[a].charCodeAt(0),c=!1,it[a]===" "?lt=a:(G===13||G===3)&&(E=0,c=!0,et+=i.finalLineHeight||i.finalSize*1.2),t.chars?(P=t.getCharData(it[a],M.fStyle,M.fFamily),R=c?0:P.w*i.finalSize/100):R=t.measureText(it[a],i.f,i.finalSize),E+R>X&&it[a]!==" "?(lt===-1?l+=1:a=lt,et+=i.finalLineHeight||i.finalSize*1.2,it.splice(a,lt===a?1:0,"\r"),lt=-1,E=0):(E+=R,E+=L);et+=M.ascent*i.finalSize/100,this.canResize&&i.finalSize>this.minimumFontSize&&J<et?(i.finalSize-=1,i.finalLineHeight=i.finalSize*i.lh/i.s):(i.finalText=it,l=i.finalText.length,q=!1)}E=-L,R=0;var tt=0,W;for(a=0;a<l;a+=1)if(c=!1,W=i.finalText[a],G=W.charCodeAt(0),G===13||G===3?(tt=0,x.push(E),T=E>T?E:T,E=-2*L,d="",c=!0,b+=1):d=W,t.chars?(P=t.getCharData(W,M.fStyle,t.getFontByName(i.f).fFamily),R=c?0:P.w*i.finalSize/100):R=t.measureText(d,i.f,i.finalSize),W===" "?tt+=R+L:(E+=R+L+tt,tt=0),n.push({l:R,an:R,add:y,n:c,anIndexes:[],val:d,line:b,animatorJustifyOffset:0}),m==2){if(y+=R,d===""||d===" "||a===l-1){for((d===""||d===" ")&&(y-=R);A<=a;)n[A].an=y,n[A].ind=f,n[A].extra=R,A+=1;f+=1,y=0}}else if(m==3){if(y+=R,d===""||a===l-1){for(d===""&&(y-=R);A<=a;)n[A].an=y,n[A].ind=f,n[A].extra=R,A+=1;y=0,f+=1}}else n[f].ind=f,n[f].extra=0,f+=1;if(i.l=n,T=E>T?E:T,x.push(E),i.sz)i.boxWidth=i.sz[0],i.justifyOffset=0;else switch(i.boxWidth=T,i.j){case 1:i.justifyOffset=-i.boxWidth;break;case 2:i.justifyOffset=-i.boxWidth/2;break;default:i.justifyOffset=0}i.lineWidths=x;var O=e.a,H,F;S=O.length;var N,V,$=[];for(k=0;k<S;k+=1){for(H=O[k],H.a.sc&&(i.strokeColorAnim=!0),H.a.sw&&(i.strokeWidthAnim=!0),(H.a.fc||H.a.fh||H.a.fs||H.a.fb)&&(i.fillColorAnim=!0),V=0,N=H.s.b,a=0;a<l;a+=1)F=n[a],F.anIndexes[k]=V,(N==1&&F.val!==""||N==2&&F.val!==""&&F.val!==" "||N==3&&(F.n||F.val==" "||a==l-1)||N==4&&(F.n||a==l-1))&&(H.s.rn===1&&$.push(V),V+=1);e.a[k].s.totalChars=V;var Q=-1,st;if(H.s.rn===1)for(a=0;a<l;a+=1)F=n[a],Q!=F.anIndexes[k]&&(Q=F.anIndexes[k],st=$.splice(Math.floor(Math.random()*$.length),1)[0]),F.anIndexes[k]=st}i.yOffset=i.finalLineHeight||i.finalSize*1.2,i.ls=i.ls||0,i.ascent=M.ascent*i.finalSize/100},TextProperty.prototype.updateDocumentData=function(i,t){t=t===void 0?this.keysIndex:t;var e=this.copyData({},this.data.d.k[t].s);e=this.copyData(e,i),this.data.d.k[t].s=e,this.recalculate(t),this.setCurrentData(e),this.elem.addDynamicProperty(this)},TextProperty.prototype.recalculate=function(i){var t=this.data.d.k[i].s;t.__complete=!1,this.keysIndex=0,this._isFirstFrame=!0,this.getValue(t)},TextProperty.prototype.canResizeFont=function(i){this.canResize=i,this.recalculate(this.keysIndex),this.elem.addDynamicProperty(this)},TextProperty.prototype.setMinimumFontSize=function(i){this.minimumFontSize=Math.floor(i)||1,this.recalculate(this.keysIndex),this.elem.addDynamicProperty(this)};var TextSelectorProp=function(){var i=Math.max,t=Math.min,e=Math.floor;function n(l,c){this._currentTextLength=-1,this.k=!1,this.data=c,this.elem=l,this.comp=l.comp,this.finalS=0,this.finalE=0,this.initDynamicPropertyContainer(l),this.s=PropertyFactory.getProp(l,c.s||{k:0},0,0,this),"e"in c?this.e=PropertyFactory.getProp(l,c.e,0,0,this):this.e={v:100},this.o=PropertyFactory.getProp(l,c.o||{k:0},0,0,this),this.xe=PropertyFactory.getProp(l,c.xe||{k:0},0,0,this),this.ne=PropertyFactory.getProp(l,c.ne||{k:0},0,0,this),this.sm=PropertyFactory.getProp(l,c.sm||{k:100},0,0,this),this.a=PropertyFactory.getProp(l,c.a,0,.01,this),this.dynamicProperties.length||this.getValue()}n.prototype={getMult:function(c){this._currentTextLength!==this.elem.textProperty.currentData.l.length&&this.getValue();var f=0,d=0,m=1,y=1;this.ne.v>0?f=this.ne.v/100:d=-this.ne.v/100,this.xe.v>0?m=1-this.xe.v/100:y=1+this.xe.v/100;var A=BezierFactory.getBezierEasing(f,d,m,y).get,b=0,x=this.finalS,E=this.finalE,T=this.data.sh;if(T===2)E===x?b=c>=E?1:0:b=i(0,t(.5/(E-x)+(c-x)/(E-x),1)),b=A(b);else if(T===3)E===x?b=c>=E?0:1:b=1-i(0,t(.5/(E-x)+(c-x)/(E-x),1)),b=A(b);else if(T===4)E===x?b=0:(b=i(0,t(.5/(E-x)+(c-x)/(E-x),1)),b<.5?b*=2:b=1-2*(b-.5)),b=A(b);else if(T===5){if(E===x)b=0;else{var k=E-x;c=t(i(0,c+.5-x),E-x);var S=-k/2+c,M=k/2;b=Math.sqrt(1-S*S/(M*M))}b=A(b)}else T===6?(E===x?b=0:(c=t(i(0,c+.5-x),E-x),b=(1+Math.cos(Math.PI+Math.PI*2*c/(E-x)))/2),b=A(b)):(c>=e(x)&&(c-x<0?b=i(0,t(t(E,1)-(x-c),1)):b=i(0,t(E-c,1))),b=A(b));if(this.sm.v!==100){var P=this.sm.v*.01;P===0&&(P=1e-8);var R=.5-P*.5;b<R?b=0:(b=(b-R)/P,b>1&&(b=1))}return b*this.a.v},getValue:function(c){this.iterateDynamicProperties(),this._mdf=c||this._mdf,this._currentTextLength=this.elem.textProperty.currentData.l.length||0,c&&this.data.r===2&&(this.e.v=this._currentTextLength);var f=this.data.r===2?1:100/this.data.totalChars,d=this.o.v/f,m=this.s.v/f+d,y=this.e.v/f+d;if(m>y){var A=m;m=y,y=A}this.finalS=m,this.finalE=y}},extendPrototype([DynamicPropertyContainer],n);function a(l,c,f){return new n(l,c)}return{getTextSelectorProp:a}}();function TextAnimatorDataProperty(i,t,e){var n={propType:!1},a=PropertyFactory.getProp,l=t.a;this.a={r:l.r?a(i,l.r,0,degToRads,e):n,rx:l.rx?a(i,l.rx,0,degToRads,e):n,ry:l.ry?a(i,l.ry,0,degToRads,e):n,sk:l.sk?a(i,l.sk,0,degToRads,e):n,sa:l.sa?a(i,l.sa,0,degToRads,e):n,s:l.s?a(i,l.s,1,.01,e):n,a:l.a?a(i,l.a,1,0,e):n,o:l.o?a(i,l.o,0,.01,e):n,p:l.p?a(i,l.p,1,0,e):n,sw:l.sw?a(i,l.sw,0,0,e):n,sc:l.sc?a(i,l.sc,1,0,e):n,fc:l.fc?a(i,l.fc,1,0,e):n,fh:l.fh?a(i,l.fh,0,0,e):n,fs:l.fs?a(i,l.fs,0,.01,e):n,fb:l.fb?a(i,l.fb,0,.01,e):n,t:l.t?a(i,l.t,0,0,e):n},this.s=TextSelectorProp.getTextSelectorProp(i,t.s,e),this.s.t=t.s.t}function TextAnimatorProperty(i,t,e){this._isFirstFrame=!0,this._hasMaskedPath=!1,this._frameId=-1,this._textData=i,this._renderType=t,this._elem=e,this._animatorsData=createSizedArray(this._textData.a.length),this._pathData={},this._moreOptions={alignment:{}},this.renderedLetters=[],this.lettersChangedFlag=!1,this.initDynamicPropertyContainer(e)}TextAnimatorProperty.prototype.searchProperties=function(){var i,t=this._textData.a.length,e,n=PropertyFactory.getProp;for(i=0;i<t;i+=1)e=this._textData.a[i],this._animatorsData[i]=new TextAnimatorDataProperty(this._elem,e,this);this._textData.p&&"m"in this._textData.p?(this._pathData={a:n(this._elem,this._textData.p.a,0,0,this),f:n(this._elem,this._textData.p.f,0,0,this),l:n(this._elem,this._textData.p.l,0,0,this),r:n(this._elem,this._textData.p.r,0,0,this),p:n(this._elem,this._textData.p.p,0,0,this),m:this._elem.maskManager.getMaskProperty(this._textData.p.m)},this._hasMaskedPath=!0):this._hasMaskedPath=!1,this._moreOptions.alignment=n(this._elem,this._textData.m.a,1,0,this)},TextAnimatorProperty.prototype.getMeasures=function(i,t){if(this.lettersChangedFlag=t,!(!this._mdf&&!this._isFirstFrame&&!t&&(!this._hasMaskedPath||!this._pathData.m._mdf))){this._isFirstFrame=!1;var e=this._moreOptions.alignment.v,n=this._animatorsData,a=this._textData,l=this.mHelper,c=this._renderType,f=this.renderedLetters.length,d,m,y,A,b=i.l,x,E,T,k,S,M,P,R,D,L,G,q,X,J,et;if(this._hasMaskedPath){if(et=this._pathData.m,!this._pathData.n||this._pathData._mdf){var it=et.v;this._pathData.r.v&&(it=it.reverse()),x={tLength:0,segments:[]},A=it._length-1;var lt;for(q=0,y=0;y<A;y+=1)lt=bez.buildBezierData(it.v[y],it.v[y+1],[it.o[y][0]-it.v[y][0],it.o[y][1]-it.v[y][1]],[it.i[y+1][0]-it.v[y+1][0],it.i[y+1][1]-it.v[y+1][1]]),x.tLength+=lt.segmentLength,x.segments.push(lt),q+=lt.segmentLength;y=A,et.v.c&&(lt=bez.buildBezierData(it.v[y],it.v[0],[it.o[y][0]-it.v[y][0],it.o[y][1]-it.v[y][1]],[it.i[0][0]-it.v[0][0],it.i[0][1]-it.v[0][1]]),x.tLength+=lt.segmentLength,x.segments.push(lt),q+=lt.segmentLength),this._pathData.pi=x}if(x=this._pathData.pi,E=this._pathData.f.v,P=0,M=1,k=0,S=!0,L=x.segments,E<0&&et.v.c)for(x.tLength<Math.abs(E)&&(E=-Math.abs(E)%x.tLength),P=L.length-1,D=L[P].points,M=D.length-1;E<0;)E+=D[M].partialLength,M-=1,M<0&&(P-=1,D=L[P].points,M=D.length-1);D=L[P].points,R=D[M-1],T=D[M],G=T.partialLength}A=b.length,d=0,m=0;var tt=i.finalSize*1.2*.714,W=!0,O,H,F,N,V;N=n.length;var $,Q=-1,st,rt,pt,ht=E,mt=P,At=M,Ct=-1,_t,Vt,ne,Et,gt,jt,zt,_e,ye="",si=this.defaultPropsArray,ri;if(i.j===2||i.j===1){var ae=0,Vi=0,zi=i.j===2?-.5:-1,se=0,Hi=!0;for(y=0;y<A;y+=1)if(b[y].n){for(ae&&(ae+=Vi);se<y;)b[se].animatorJustifyOffset=ae,se+=1;ae=0,Hi=!0}else{for(F=0;F<N;F+=1)O=n[F].a,O.t.propType&&(Hi&&i.j===2&&(Vi+=O.t.v*zi),H=n[F].s,$=H.getMult(b[y].anIndexes[F],a.a[F].s.totalChars),$.length?ae+=O.t.v*$[0]*zi:ae+=O.t.v*$*zi);Hi=!1}for(ae&&(ae+=Vi);se<y;)b[se].animatorJustifyOffset=ae,se+=1}for(y=0;y<A;y+=1){if(l.reset(),_t=1,b[y].n)d=0,m+=i.yOffset,m+=W?1:0,E=ht,W=!1,this._hasMaskedPath&&(P=mt,M=At,D=L[P].points,R=D[M-1],T=D[M],G=T.partialLength,k=0),ye="",_e="",jt="",ri="",si=this.defaultPropsArray;else{if(this._hasMaskedPath){if(Ct!==b[y].line){switch(i.j){case 1:E+=q-i.lineWidths[b[y].line];break;case 2:E+=(q-i.lineWidths[b[y].line])/2;break}Ct=b[y].line}Q!==b[y].ind&&(b[Q]&&(E+=b[Q].extra),E+=b[y].an/2,Q=b[y].ind),E+=e[0]*b[y].an*.005;var Ke=0;for(F=0;F<N;F+=1)O=n[F].a,O.p.propType&&(H=n[F].s,$=H.getMult(b[y].anIndexes[F],a.a[F].s.totalChars),$.length?Ke+=O.p.v[0]*$[0]:Ke+=O.p.v[0]*$),O.a.propType&&(H=n[F].s,$=H.getMult(b[y].anIndexes[F],a.a[F].s.totalChars),$.length?Ke+=O.a.v[0]*$[0]:Ke+=O.a.v[0]*$);for(S=!0,this._pathData.a.v&&(E=b[0].an*.5+(q-this._pathData.f.v-b[0].an*.5-b[b.length-1].an*.5)*Q/(A-1),E+=this._pathData.f.v);S;)k+G>=E+Ke||!D?(X=(E+Ke-k)/T.partialLength,rt=R.point[0]+(T.point[0]-R.point[0])*X,pt=R.point[1]+(T.point[1]-R.point[1])*X,l.translate(-e[0]*b[y].an*.005,-(e[1]*tt)*.01),S=!1):D&&(k+=T.partialLength,M+=1,M>=D.length&&(M=0,P+=1,L[P]?D=L[P].points:et.v.c?(M=0,P=0,D=L[P].points):(k-=T.partialLength,D=null)),D&&(R=T,T=D[M],G=T.partialLength));st=b[y].an/2-b[y].add,l.translate(-st,0,0)}else st=b[y].an/2-b[y].add,l.translate(-st,0,0),l.translate(-e[0]*b[y].an*.005,-e[1]*tt*.01,0);for(F=0;F<N;F+=1)O=n[F].a,O.t.propType&&(H=n[F].s,$=H.getMult(b[y].anIndexes[F],a.a[F].s.totalChars),(d!==0||i.j!==0)&&(this._hasMaskedPath?$.length?E+=O.t.v*$[0]:E+=O.t.v*$:$.length?d+=O.t.v*$[0]:d+=O.t.v*$));for(i.strokeWidthAnim&&(ne=i.sw||0),i.strokeColorAnim&&(i.sc?Vt=[i.sc[0],i.sc[1],i.sc[2]]:Vt=[0,0,0]),i.fillColorAnim&&i.fc&&(Et=[i.fc[0],i.fc[1],i.fc[2]]),F=0;F<N;F+=1)O=n[F].a,O.a.propType&&(H=n[F].s,$=H.getMult(b[y].anIndexes[F],a.a[F].s.totalChars),$.length?l.translate(-O.a.v[0]*$[0],-O.a.v[1]*$[1],O.a.v[2]*$[2]):l.translate(-O.a.v[0]*$,-O.a.v[1]*$,O.a.v[2]*$));for(F=0;F<N;F+=1)O=n[F].a,O.s.propType&&(H=n[F].s,$=H.getMult(b[y].anIndexes[F],a.a[F].s.totalChars),$.length?l.scale(1+(O.s.v[0]-1)*$[0],1+(O.s.v[1]-1)*$[1],1):l.scale(1+(O.s.v[0]-1)*$,1+(O.s.v[1]-1)*$,1));for(F=0;F<N;F+=1){if(O=n[F].a,H=n[F].s,$=H.getMult(b[y].anIndexes[F],a.a[F].s.totalChars),O.sk.propType&&($.length?l.skewFromAxis(-O.sk.v*$[0],O.sa.v*$[1]):l.skewFromAxis(-O.sk.v*$,O.sa.v*$)),O.r.propType&&($.length?l.rotateZ(-O.r.v*$[2]):l.rotateZ(-O.r.v*$)),O.ry.propType&&($.length?l.rotateY(O.ry.v*$[1]):l.rotateY(O.ry.v*$)),O.rx.propType&&($.length?l.rotateX(O.rx.v*$[0]):l.rotateX(O.rx.v*$)),O.o.propType&&($.length?_t+=(O.o.v*$[0]-_t)*$[0]:_t+=(O.o.v*$-_t)*$),i.strokeWidthAnim&&O.sw.propType&&($.length?ne+=O.sw.v*$[0]:ne+=O.sw.v*$),i.strokeColorAnim&&O.sc.propType)for(gt=0;gt<3;gt+=1)$.length?Vt[gt]+=(O.sc.v[gt]-Vt[gt])*$[0]:Vt[gt]+=(O.sc.v[gt]-Vt[gt])*$;if(i.fillColorAnim&&i.fc){if(O.fc.propType)for(gt=0;gt<3;gt+=1)$.length?Et[gt]+=(O.fc.v[gt]-Et[gt])*$[0]:Et[gt]+=(O.fc.v[gt]-Et[gt])*$;O.fh.propType&&($.length?Et=addHueToRGB(Et,O.fh.v*$[0]):Et=addHueToRGB(Et,O.fh.v*$)),O.fs.propType&&($.length?Et=addSaturationToRGB(Et,O.fs.v*$[0]):Et=addSaturationToRGB(Et,O.fs.v*$)),O.fb.propType&&($.length?Et=addBrightnessToRGB(Et,O.fb.v*$[0]):Et=addBrightnessToRGB(Et,O.fb.v*$))}}for(F=0;F<N;F+=1)O=n[F].a,O.p.propType&&(H=n[F].s,$=H.getMult(b[y].anIndexes[F],a.a[F].s.totalChars),this._hasMaskedPath?$.length?l.translate(0,O.p.v[1]*$[0],-O.p.v[2]*$[1]):l.translate(0,O.p.v[1]*$,-O.p.v[2]*$):$.length?l.translate(O.p.v[0]*$[0],O.p.v[1]*$[1],-O.p.v[2]*$[2]):l.translate(O.p.v[0]*$,O.p.v[1]*$,-O.p.v[2]*$));if(i.strokeWidthAnim&&(jt=ne<0?0:ne),i.strokeColorAnim&&(zt="rgb("+Math.round(Vt[0]*255)+","+Math.round(Vt[1]*255)+","+Math.round(Vt[2]*255)+")"),i.fillColorAnim&&i.fc&&(_e="rgb("+Math.round(Et[0]*255)+","+Math.round(Et[1]*255)+","+Math.round(Et[2]*255)+")"),this._hasMaskedPath){if(l.translate(0,-i.ls),l.translate(0,e[1]*tt*.01+m,0),this._pathData.p.v){J=(T.point[1]-R.point[1])/(T.point[0]-R.point[0]);var He=Math.atan(J)*180/Math.PI;T.point[0]<R.point[0]&&(He+=180),l.rotate(-He*Math.PI/180)}l.translate(rt,pt,0),E-=e[0]*b[y].an*.005,b[y+1]&&Q!==b[y+1].ind&&(E+=b[y].an/2,E+=i.tr*.001*i.finalSize)}else{switch(l.translate(d,m,0),i.ps&&l.translate(i.ps[0],i.ps[1]+i.ascent,0),i.j){case 1:l.translate(b[y].animatorJustifyOffset+i.justifyOffset+(i.boxWidth-i.lineWidths[b[y].line]),0,0);break;case 2:l.translate(b[y].animatorJustifyOffset+i.justifyOffset+(i.boxWidth-i.lineWidths[b[y].line])/2,0,0);break}l.translate(0,-i.ls),l.translate(st,0,0),l.translate(e[0]*b[y].an*.005,e[1]*tt*.01,0),d+=b[y].l+i.tr*.001*i.finalSize}c==="html"?ye=l.toCSS():c==="svg"?ye=l.to2dCSS():si=[l.props[0],l.props[1],l.props[2],l.props[3],l.props[4],l.props[5],l.props[6],l.props[7],l.props[8],l.props[9],l.props[10],l.props[11],l.props[12],l.props[13],l.props[14],l.props[15]],ri=_t}f<=y?(V=new LetterProps(ri,jt,zt,_e,ye,si),this.renderedLetters.push(V),f+=1,this.lettersChangedFlag=!0):(V=this.renderedLetters[y],this.lettersChangedFlag=V.update(ri,jt,zt,_e,ye,si)||this.lettersChangedFlag)}}},TextAnimatorProperty.prototype.getValue=function(){this._elem.globalData.frameId!==this._frameId&&(this._frameId=this._elem.globalData.frameId,this.iterateDynamicProperties())},TextAnimatorProperty.prototype.mHelper=new Matrix,TextAnimatorProperty.prototype.defaultPropsArray=[],extendPrototype([DynamicPropertyContainer],TextAnimatorProperty);function ITextElement(){}ITextElement.prototype.initElement=function(i,t,e){this.lettersChangedFlag=!0,this.initFrame(),this.initBaseData(i,t,e),this.textProperty=new TextProperty(this,i.t,this.dynamicProperties),this.textAnimator=new TextAnimatorProperty(i.t,this.renderType,this),this.initTransform(i,t,e),this.initHierarchy(),this.initRenderable(),this.initRendererElement(),this.createContainerElements(),this.createRenderableComponents(),this.createContent(),this.hide(),this.textAnimator.searchProperties(this.dynamicProperties)},ITextElement.prototype.prepareFrame=function(i){this._mdf=!1,this.prepareRenderableFrame(i),this.prepareProperties(i,this.isInRange)},ITextElement.prototype.createPathShape=function(i,t){var e,n=t.length,a,l="";for(e=0;e<n;e+=1)t[e].ty==="sh"&&(a=t[e].ks.k,l+=buildShapeString(a,a.i.length,!0,i));return l},ITextElement.prototype.updateDocumentData=function(i,t){this.textProperty.updateDocumentData(i,t)},ITextElement.prototype.canResizeFont=function(i){this.textProperty.canResizeFont(i)},ITextElement.prototype.setMinimumFontSize=function(i){this.textProperty.setMinimumFontSize(i)},ITextElement.prototype.applyTextPropertiesToMatrix=function(i,t,e,n,a){switch(i.ps&&t.translate(i.ps[0],i.ps[1]+i.ascent,0),t.translate(0,-i.ls,0),i.j){case 1:t.translate(i.justifyOffset+(i.boxWidth-i.lineWidths[e]),0,0);break;case 2:t.translate(i.justifyOffset+(i.boxWidth-i.lineWidths[e])/2,0,0);break}t.translate(n,a,0)},ITextElement.prototype.buildColor=function(i){return"rgb("+Math.round(i[0]*255)+","+Math.round(i[1]*255)+","+Math.round(i[2]*255)+")"},ITextElement.prototype.emptyProp=new LetterProps,ITextElement.prototype.destroy=function(){},ITextElement.prototype.validateText=function(){(this.textProperty._mdf||this.textProperty._isFirstFrame)&&(this.buildNewText(),this.textProperty._isFirstFrame=!1,this.textProperty._mdf=!1)};var emptyShapeData={shapes:[]};function SVGTextLottieElement(i,t,e){this.textSpans=[],this.renderType="svg",this.initElement(i,t,e)}extendPrototype([BaseElement,TransformElement,SVGBaseElement,HierarchyElement,FrameElement,RenderableDOMElement,ITextElement],SVGTextLottieElement),SVGTextLottieElement.prototype.createContent=function(){this.data.singleShape&&!this.globalData.fontManager.chars&&(this.textContainer=createNS("text"))},SVGTextLottieElement.prototype.buildTextContents=function(i){for(var t=0,e=i.length,n=[],a="";t<e;)i[t]==="\r"||i[t]===""?(n.push(a),a=""):a+=i[t],t+=1;return n.push(a),n},SVGTextLottieElement.prototype.buildShapeData=function(i,t){if(i.shapes&&i.shapes.length){var e=i.shapes[0];if(e.it){var n=e.it[e.it.length-1];n.s&&(n.s.k[0]=t,n.s.k[1]=t)}}return i},SVGTextLottieElement.prototype.buildNewText=function(){this.addDynamicProperty(this);var i,t,e=this.textProperty.currentData;this.renderedLetters=createSizedArray(e?e.l.length:0),e.fc?this.layerElement.setAttribute("fill",this.buildColor(e.fc)):this.layerElement.setAttribute("fill","rgba(0,0,0,0)"),e.sc&&(this.layerElement.setAttribute("stroke",this.buildColor(e.sc)),this.layerElement.setAttribute("stroke-width",e.sw)),this.layerElement.setAttribute("font-size",e.finalSize);var n=this.globalData.fontManager.getFontByName(e.f);if(n.fClass)this.layerElement.setAttribute("class",n.fClass);else{this.layerElement.setAttribute("font-family",n.fFamily);var a=e.fWeight,l=e.fStyle;this.layerElement.setAttribute("font-style",l),this.layerElement.setAttribute("font-weight",a)}this.layerElement.setAttribute("aria-label",e.t);var c=e.l||[],f=!!this.globalData.fontManager.chars;t=c.length;var d,m=this.mHelper,y="",A=this.data.singleShape,b=0,x=0,E=!0,T=e.tr*.001*e.finalSize;if(A&&!f&&!e.sz){var k=this.textContainer,S="start";switch(e.j){case 1:S="end";break;case 2:S="middle";break;default:S="start";break}k.setAttribute("text-anchor",S),k.setAttribute("letter-spacing",T);var M=this.buildTextContents(e.finalText);for(t=M.length,x=e.ps?e.ps[1]+e.ascent:0,i=0;i<t;i+=1)d=this.textSpans[i].span||createNS("tspan"),d.textContent=M[i],d.setAttribute("x",0),d.setAttribute("y",x),d.style.display="inherit",k.appendChild(d),this.textSpans[i]||(this.textSpans[i]={span:null,glyph:null}),this.textSpans[i].span=d,x+=e.finalLineHeight;this.layerElement.appendChild(k)}else{var P=this.textSpans.length,R;for(i=0;i<t;i+=1){if(this.textSpans[i]||(this.textSpans[i]={span:null,childSpan:null,glyph:null}),!f||!A||i===0){if(d=P>i?this.textSpans[i].span:createNS(f?"g":"text"),P<=i){if(d.setAttribute("stroke-linecap","butt"),d.setAttribute("stroke-linejoin","round"),d.setAttribute("stroke-miterlimit","4"),this.textSpans[i].span=d,f){var D=createNS("g");d.appendChild(D),this.textSpans[i].childSpan=D}this.textSpans[i].span=d,this.layerElement.appendChild(d)}d.style.display="inherit"}if(m.reset(),A&&(c[i].n&&(b=-T,x+=e.yOffset,x+=E?1:0,E=!1),this.applyTextPropertiesToMatrix(e,m,c[i].line,b,x),b+=c[i].l||0,b+=T),f){R=this.globalData.fontManager.getCharData(e.finalText[i],n.fStyle,this.globalData.fontManager.getFontByName(e.f).fFamily);var L;if(R.t===1)L=new SVGCompElement(R.data,this.globalData,this);else{var G=emptyShapeData;R.data&&R.data.shapes&&(G=this.buildShapeData(R.data,e.finalSize)),L=new SVGShapeElement(G,this.globalData,this)}if(this.textSpans[i].glyph){var q=this.textSpans[i].glyph;this.textSpans[i].childSpan.removeChild(q.layerElement),q.destroy()}this.textSpans[i].glyph=L,L._debug=!0,L.prepareFrame(0),L.renderFrame(),this.textSpans[i].childSpan.appendChild(L.layerElement),R.t===1&&this.textSpans[i].childSpan.setAttribute("transform","scale("+e.finalSize/100+","+e.finalSize/100+")")}else A&&d.setAttribute("transform","translate("+m.props[12]+","+m.props[13]+")"),d.textContent=c[i].val,d.setAttributeNS("http://www.w3.org/XML/1998/namespace","xml:space","preserve")}A&&d&&d.setAttribute("d",y)}for(;i<this.textSpans.length;)this.textSpans[i].span.style.display="none",i+=1;this._sizeChanged=!0},SVGTextLottieElement.prototype.sourceRectAtTime=function(){if(this.prepareFrame(this.comp.renderedFrame-this.data.st),this.renderInnerContent(),this._sizeChanged){this._sizeChanged=!1;var i=this.layerElement.getBBox();this.bbox={top:i.y,left:i.x,width:i.width,height:i.height}}return this.bbox},SVGTextLottieElement.prototype.getValue=function(){var i,t=this.textSpans.length,e;for(this.renderedFrame=this.comp.renderedFrame,i=0;i<t;i+=1)e=this.textSpans[i].glyph,e&&(e.prepareFrame(this.comp.renderedFrame-this.data.st),e._mdf&&(this._mdf=!0))},SVGTextLottieElement.prototype.renderInnerContent=function(){if(this.validateText(),(!this.data.singleShape||this._mdf)&&(this.textAnimator.getMeasures(this.textProperty.currentData,this.lettersChangedFlag),this.lettersChangedFlag||this.textAnimator.lettersChangedFlag)){this._sizeChanged=!0;var i,t,e=this.textAnimator.renderedLetters,n=this.textProperty.currentData.l;t=n.length;var a,l,c;for(i=0;i<t;i+=1)n[i].n||(a=e[i],l=this.textSpans[i].span,c=this.textSpans[i].glyph,c&&c.renderFrame(),a._mdf.m&&l.setAttribute("transform",a.m),a._mdf.o&&l.setAttribute("opacity",a.o),a._mdf.sw&&l.setAttribute("stroke-width",a.sw),a._mdf.sc&&l.setAttribute("stroke",a.sc),a._mdf.fc&&l.setAttribute("fill",a.fc))}};function ISolidElement(i,t,e){this.initElement(i,t,e)}extendPrototype([IImageElement],ISolidElement),ISolidElement.prototype.createContent=function(){var i=createNS("rect");i.setAttribute("width",this.data.sw),i.setAttribute("height",this.data.sh),i.setAttribute("fill",this.data.sc),this.layerElement.appendChild(i)};function NullElement(i,t,e){this.initFrame(),this.initBaseData(i,t,e),this.initFrame(),this.initTransform(i,t,e),this.initHierarchy()}NullElement.prototype.prepareFrame=function(i){this.prepareProperties(i,!0)},NullElement.prototype.renderFrame=function(){},NullElement.prototype.getBaseElement=function(){return null},NullElement.prototype.destroy=function(){},NullElement.prototype.sourceRectAtTime=function(){},NullElement.prototype.hide=function(){},extendPrototype([BaseElement,TransformElement,HierarchyElement,FrameElement],NullElement);function SVGRendererBase(){}extendPrototype([BaseRenderer],SVGRendererBase),SVGRendererBase.prototype.createNull=function(i){return new NullElement(i,this.globalData,this)},SVGRendererBase.prototype.createShape=function(i){return new SVGShapeElement(i,this.globalData,this)},SVGRendererBase.prototype.createText=function(i){return new SVGTextLottieElement(i,this.globalData,this)},SVGRendererBase.prototype.createImage=function(i){return new IImageElement(i,this.globalData,this)},SVGRendererBase.prototype.createSolid=function(i){return new ISolidElement(i,this.globalData,this)},SVGRendererBase.prototype.configAnimation=function(i){this.svgElement.setAttribute("xmlns","http://www.w3.org/2000/svg"),this.svgElement.setAttribute("xmlns:xlink","http://www.w3.org/1999/xlink"),this.renderConfig.viewBoxSize?this.svgElement.setAttribute("viewBox",this.renderConfig.viewBoxSize):this.svgElement.setAttribute("viewBox","0 0 "+i.w+" "+i.h),this.renderConfig.viewBoxOnly||(this.svgElement.setAttribute("width",i.w),this.svgElement.setAttribute("height",i.h),this.svgElement.style.width="100%",this.svgElement.style.height="100%",this.svgElement.style.transform="translate3d(0,0,0)",this.svgElement.style.contentVisibility=this.renderConfig.contentVisibility),this.renderConfig.width&&this.svgElement.setAttribute("width",this.renderConfig.width),this.renderConfig.height&&this.svgElement.setAttribute("height",this.renderConfig.height),this.renderConfig.className&&this.svgElement.setAttribute("class",this.renderConfig.className),this.renderConfig.id&&this.svgElement.setAttribute("id",this.renderConfig.id),this.renderConfig.focusable!==void 0&&this.svgElement.setAttribute("focusable",this.renderConfig.focusable),this.svgElement.setAttribute("preserveAspectRatio",this.renderConfig.preserveAspectRatio),this.animationItem.wrapper.appendChild(this.svgElement);var t=this.globalData.defs;this.setupGlobalData(i,t),this.globalData.progressiveLoad=this.renderConfig.progressiveLoad,this.data=i;var e=createNS("clipPath"),n=createNS("rect");n.setAttribute("width",i.w),n.setAttribute("height",i.h),n.setAttribute("x",0),n.setAttribute("y",0);var a=createElementID();e.setAttribute("id",a),e.appendChild(n),this.layerElement.setAttribute("clip-path","url("+getLocationHref()+"#"+a+")"),t.appendChild(e),this.layers=i.layers,this.elements=createSizedArray(i.layers.length)},SVGRendererBase.prototype.destroy=function(){this.animationItem.wrapper&&(this.animationItem.wrapper.innerText=""),this.layerElement=null,this.globalData.defs=null;var i,t=this.layers?this.layers.length:0;for(i=0;i<t;i+=1)this.elements[i]&&this.elements[i].destroy&&this.elements[i].destroy();this.elements.length=0,this.destroyed=!0,this.animationItem=null},SVGRendererBase.prototype.updateContainerSize=function(){},SVGRendererBase.prototype.findIndexByInd=function(i){var t=0,e=this.layers.length;for(t=0;t<e;t+=1)if(this.layers[t].ind===i)return t;return-1},SVGRendererBase.prototype.buildItem=function(i){var t=this.elements;if(!(t[i]||this.layers[i].ty===99)){t[i]=!0;var e=this.createItem(this.layers[i]);if(t[i]=e,getExpressionsPlugin()&&(this.layers[i].ty===0&&this.globalData.projectInterface.registerComposition(e),e.initExpressions()),this.appendElementInPos(e,i),this.layers[i].tt){var n="tp"in this.layers[i]?this.findIndexByInd(this.layers[i].tp):i-1;if(n===-1)return;if(!this.elements[n]||this.elements[n]===!0)this.buildItem(n),this.addPendingElement(e);else{var a=t[n],l=a.getMatte(this.layers[i].tt);e.setMatte(l)}}}},SVGRendererBase.prototype.checkPendingElements=function(){for(;this.pendingElements.length;){var i=this.pendingElements.pop();if(i.checkParenting(),i.data.tt)for(var t=0,e=this.elements.length;t<e;){if(this.elements[t]===i){var n="tp"in i.data?this.findIndexByInd(i.data.tp):t-1,a=this.elements[n],l=a.getMatte(this.layers[t].tt);i.setMatte(l);break}t+=1}}},SVGRendererBase.prototype.renderFrame=function(i){if(!(this.renderedFrame===i||this.destroyed)){i===null?i=this.renderedFrame:this.renderedFrame=i,this.globalData.frameNum=i,this.globalData.frameId+=1,this.globalData.projectInterface.currentFrame=i,this.globalData._mdf=!1;var t,e=this.layers.length;for(this.completeLayers||this.checkLayers(i),t=e-1;t>=0;t-=1)(this.completeLayers||this.elements[t])&&this.elements[t].prepareFrame(i-this.layers[t].st);if(this.globalData._mdf)for(t=0;t<e;t+=1)(this.completeLayers||this.elements[t])&&this.elements[t].renderFrame()}},SVGRendererBase.prototype.appendElementInPos=function(i,t){var e=i.getBaseElement();if(e){for(var n=0,a;n<t;)this.elements[n]&&this.elements[n]!==!0&&this.elements[n].getBaseElement()&&(a=this.elements[n].getBaseElement()),n+=1;a?this.layerElement.insertBefore(e,a):this.layerElement.appendChild(e)}},SVGRendererBase.prototype.hide=function(){this.layerElement.style.display="none"},SVGRendererBase.prototype.show=function(){this.layerElement.style.display="block"};function ICompElement(){}extendPrototype([BaseElement,TransformElement,HierarchyElement,FrameElement,RenderableDOMElement],ICompElement),ICompElement.prototype.initElement=function(i,t,e){this.initFrame(),this.initBaseData(i,t,e),this.initTransform(i,t,e),this.initRenderable(),this.initHierarchy(),this.initRendererElement(),this.createContainerElements(),this.createRenderableComponents(),(this.data.xt||!t.progressiveLoad)&&this.buildAllItems(),this.hide()},ICompElement.prototype.prepareFrame=function(i){if(this._mdf=!1,this.prepareRenderableFrame(i),this.prepareProperties(i,this.isInRange),!(!this.isInRange&&!this.data.xt)){if(this.tm._placeholder)this.renderedFrame=i/this.data.sr;else{var t=this.tm.v;t===this.data.op&&(t=this.data.op-1),this.renderedFrame=t}var e,n=this.elements.length;for(this.completeLayers||this.checkLayers(this.renderedFrame),e=n-1;e>=0;e-=1)(this.completeLayers||this.elements[e])&&(this.elements[e].prepareFrame(this.renderedFrame-this.layers[e].st),this.elements[e]._mdf&&(this._mdf=!0))}},ICompElement.prototype.renderInnerContent=function(){var i,t=this.layers.length;for(i=0;i<t;i+=1)(this.completeLayers||this.elements[i])&&this.elements[i].renderFrame()},ICompElement.prototype.setElements=function(i){this.elements=i},ICompElement.prototype.getElements=function(){return this.elements},ICompElement.prototype.destroyElements=function(){var i,t=this.layers.length;for(i=0;i<t;i+=1)this.elements[i]&&this.elements[i].destroy()},ICompElement.prototype.destroy=function(){this.destroyElements(),this.destroyBaseElement()};function SVGCompElement(i,t,e){this.layers=i.layers,this.supports3d=!0,this.completeLayers=!1,this.pendingElements=[],this.elements=this.layers?createSizedArray(this.layers.length):[],this.initElement(i,t,e),this.tm=i.tm?PropertyFactory.getProp(this,i.tm,0,t.frameRate,this):{_placeholder:!0}}extendPrototype([SVGRendererBase,ICompElement,SVGBaseElement],SVGCompElement),SVGCompElement.prototype.createComp=function(i){return new SVGCompElement(i,this.globalData,this)};function SVGRenderer(i,t){this.animationItem=i,this.layers=null,this.renderedFrame=-1,this.svgElement=createNS("svg");var e="";if(t&&t.title){var n=createNS("title"),a=createElementID();n.setAttribute("id",a),n.textContent=t.title,this.svgElement.appendChild(n),e+=a}if(t&&t.description){var l=createNS("desc"),c=createElementID();l.setAttribute("id",c),l.textContent=t.description,this.svgElement.appendChild(l),e+=" "+c}e&&this.svgElement.setAttribute("aria-labelledby",e);var f=createNS("defs");this.svgElement.appendChild(f);var d=createNS("g");this.svgElement.appendChild(d),this.layerElement=d,this.renderConfig={preserveAspectRatio:t&&t.preserveAspectRatio||"xMidYMid meet",imagePreserveAspectRatio:t&&t.imagePreserveAspectRatio||"xMidYMid slice",contentVisibility:t&&t.contentVisibility||"visible",progressiveLoad:t&&t.progressiveLoad||!1,hideOnTransparent:!(t&&t.hideOnTransparent===!1),viewBoxOnly:t&&t.viewBoxOnly||!1,viewBoxSize:t&&t.viewBoxSize||!1,className:t&&t.className||"",id:t&&t.id||"",focusable:t&&t.focusable,filterSize:{width:t&&t.filterSize&&t.filterSize.width||"100%",height:t&&t.filterSize&&t.filterSize.height||"100%",x:t&&t.filterSize&&t.filterSize.x||"0%",y:t&&t.filterSize&&t.filterSize.y||"0%"},width:t&&t.width,height:t&&t.height,runExpressions:!t||t.runExpressions===void 0||t.runExpressions},this.globalData={_mdf:!1,frameNum:-1,defs:f,renderConfig:this.renderConfig},this.elements=[],this.pendingElements=[],this.destroyed=!1,this.rendererType="svg"}extendPrototype([SVGRendererBase],SVGRenderer),SVGRenderer.prototype.createComp=function(i){return new SVGCompElement(i,this.globalData,this)};function ShapeTransformManager(){this.sequences={},this.sequenceList=[],this.transform_key_count=0}ShapeTransformManager.prototype={addTransformSequence:function(t){var e,n=t.length,a="_";for(e=0;e<n;e+=1)a+=t[e].transform.key+"_";var l=this.sequences[a];return l||(l={transforms:[].concat(t),finalTransform:new Matrix,_mdf:!1},this.sequences[a]=l,this.sequenceList.push(l)),l},processSequence:function(t,e){for(var n=0,a=t.transforms.length,l=e;n<a&&!e;){if(t.transforms[n].transform.mProps._mdf){l=!0;break}n+=1}if(l)for(t.finalTransform.reset(),n=a-1;n>=0;n-=1)t.finalTransform.multiply(t.transforms[n].transform.mProps.v);t._mdf=l},processSequences:function(t){var e,n=this.sequenceList.length;for(e=0;e<n;e+=1)this.processSequence(this.sequenceList[e],t)},getNewKey:function(){return this.transform_key_count+=1,"_"+this.transform_key_count}};var lumaLoader=function(){var t="__lottie_element_luma_buffer",e=null,n=null,a=null;function l(){var d=createNS("svg"),m=createNS("filter"),y=createNS("feColorMatrix");return m.setAttribute("id",t),y.setAttribute("type","matrix"),y.setAttribute("color-interpolation-filters","sRGB"),y.setAttribute("values","0.3, 0.3, 0.3, 0, 0, 0.3, 0.3, 0.3, 0, 0, 0.3, 0.3, 0.3, 0, 0, 0.3, 0.3, 0.3, 0, 0"),m.appendChild(y),d.appendChild(m),d.setAttribute("id",t+"_svg"),featureSupport.svgLumaHidden&&(d.style.display="none"),d}function c(){e||(a=l(),document.body.appendChild(a),e=createTag("canvas"),n=e.getContext("2d"),n.filter="url(#"+t+")",n.fillStyle="rgba(0,0,0,0)",n.fillRect(0,0,1,1))}function f(d){return e||c(),e.width=d.width,e.height=d.height,n.filter="url(#"+t+")",e}return{load:c,get:f}};function createCanvas(i,t){if(featureSupport.offscreenCanvas)return new OffscreenCanvas(i,t);var e=createTag("canvas");return e.width=i,e.height=t,e}var assetLoader=function(){return{loadLumaCanvas:lumaLoader.load,getLumaCanvas:lumaLoader.get,createCanvas}}(),registeredEffects={};function CVEffects(i){var t,e=i.data.ef?i.data.ef.length:0;this.filters=[];var n;for(t=0;t<e;t+=1){n=null;var a=i.data.ef[t].ty;if(registeredEffects[a]){var l=registeredEffects[a].effect;n=new l(i.effectsManager.effectElements[t],i)}n&&this.filters.push(n)}this.filters.length&&i.addRenderableComponent(this)}CVEffects.prototype.renderFrame=function(i){var t,e=this.filters.length;for(t=0;t<e;t+=1)this.filters[t].renderFrame(i)},CVEffects.prototype.getEffects=function(i){var t,e=this.filters.length,n=[];for(t=0;t<e;t+=1)this.filters[t].type===i&&n.push(this.filters[t]);return n};function registerEffect(i,t){registeredEffects[i]={effect:t}}function CVMaskElement(i,t){this.data=i,this.element=t,this.masksProperties=this.data.masksProperties||[],this.viewData=createSizedArray(this.masksProperties.length);var e,n=this.masksProperties.length,a=!1;for(e=0;e<n;e+=1)this.masksProperties[e].mode!=="n"&&(a=!0),this.viewData[e]=ShapePropertyFactory.getShapeProp(this.element,this.masksProperties[e],3);this.hasMasks=a,a&&this.element.addRenderableComponent(this)}CVMaskElement.prototype.renderFrame=function(){if(this.hasMasks){var i=this.element.finalTransform.mat,t=this.element.canvasContext,e,n=this.masksProperties.length,a,l,c;for(t.beginPath(),e=0;e<n;e+=1)if(this.masksProperties[e].mode!=="n"){this.masksProperties[e].inv&&(t.moveTo(0,0),t.lineTo(this.element.globalData.compSize.w,0),t.lineTo(this.element.globalData.compSize.w,this.element.globalData.compSize.h),t.lineTo(0,this.element.globalData.compSize.h),t.lineTo(0,0)),c=this.viewData[e].v,a=i.applyToPointArray(c.v[0][0],c.v[0][1],0),t.moveTo(a[0],a[1]);var f,d=c._length;for(f=1;f<d;f+=1)l=i.applyToTriplePoints(c.o[f-1],c.i[f],c.v[f]),t.bezierCurveTo(l[0],l[1],l[2],l[3],l[4],l[5]);l=i.applyToTriplePoints(c.o[f-1],c.i[0],c.v[0]),t.bezierCurveTo(l[0],l[1],l[2],l[3],l[4],l[5])}this.element.globalData.renderer.save(!0),t.clip()}},CVMaskElement.prototype.getMaskProperty=MaskElement.prototype.getMaskProperty,CVMaskElement.prototype.destroy=function(){this.element=null};function CVBaseElement(){}var operationsMap={1:"source-in",2:"source-out",3:"source-in",4:"source-out"};CVBaseElement.prototype={createElements:function(){},initRendererElement:function(){},createContainerElements:function(){if(this.data.tt>=1){this.buffers=[];var t=this.globalData.canvasContext,e=assetLoader.createCanvas(t.canvas.width,t.canvas.height);this.buffers.push(e);var n=assetLoader.createCanvas(t.canvas.width,t.canvas.height);this.buffers.push(n),this.data.tt>=3&&!document._isProxy&&assetLoader.loadLumaCanvas()}this.canvasContext=this.globalData.canvasContext,this.transformCanvas=this.globalData.transformCanvas,this.renderableEffectsManager=new CVEffects(this),this.searchEffectTransforms()},createContent:function(){},setBlendMode:function(){var t=this.globalData;if(t.blendMode!==this.data.bm){t.blendMode=this.data.bm;var e=getBlendMode(this.data.bm);t.canvasContext.globalCompositeOperation=e}},createRenderableComponents:function(){this.maskManager=new CVMaskElement(this.data,this),this.transformEffects=this.renderableEffectsManager.getEffects(effectTypes.TRANSFORM_EFFECT)},hideElement:function(){!this.hidden&&(!this.isInRange||this.isTransparent)&&(this.hidden=!0)},showElement:function(){this.isInRange&&!this.isTransparent&&(this.hidden=!1,this._isFirstFrame=!0,this.maskManager._isFirstFrame=!0)},clearCanvas:function(t){t.clearRect(this.transformCanvas.tx,this.transformCanvas.ty,this.transformCanvas.w*this.transformCanvas.sx,this.transformCanvas.h*this.transformCanvas.sy)},prepareLayer:function(){if(this.data.tt>=1){var t=this.buffers[0],e=t.getContext("2d");this.clearCanvas(e),e.drawImage(this.canvasContext.canvas,0,0),this.currentTransform=this.canvasContext.getTransform(),this.canvasContext.setTransform(1,0,0,1,0,0),this.clearCanvas(this.canvasContext),this.canvasContext.setTransform(this.currentTransform)}},exitLayer:function(){if(this.data.tt>=1){var t=this.buffers[1],e=t.getContext("2d");this.clearCanvas(e),e.drawImage(this.canvasContext.canvas,0,0),this.canvasContext.setTransform(1,0,0,1,0,0),this.clearCanvas(this.canvasContext),this.canvasContext.setTransform(this.currentTransform);var n=this.comp.getElementById("tp"in this.data?this.data.tp:this.data.ind-1);if(n.renderFrame(!0),this.canvasContext.setTransform(1,0,0,1,0,0),this.data.tt>=3&&!document._isProxy){var a=assetLoader.getLumaCanvas(this.canvasContext.canvas),l=a.getContext("2d");l.drawImage(this.canvasContext.canvas,0,0),this.clearCanvas(this.canvasContext),this.canvasContext.drawImage(a,0,0)}this.canvasContext.globalCompositeOperation=operationsMap[this.data.tt],this.canvasContext.drawImage(t,0,0),this.canvasContext.globalCompositeOperation="destination-over",this.canvasContext.drawImage(this.buffers[0],0,0),this.canvasContext.setTransform(this.currentTransform),this.canvasContext.globalCompositeOperation="source-over"}},renderFrame:function(t){if(!(this.hidden||this.data.hd)&&!(this.data.td===1&&!t)){this.renderTransform(),this.renderRenderable(),this.renderLocalTransform(),this.setBlendMode();var e=this.data.ty===0;this.prepareLayer(),this.globalData.renderer.save(e),this.globalData.renderer.ctxTransform(this.finalTransform.localMat.props),this.globalData.renderer.ctxOpacity(this.finalTransform.localOpacity),this.renderInnerContent(),this.globalData.renderer.restore(e),this.exitLayer(),this.maskManager.hasMasks&&this.globalData.renderer.restore(!0),this._isFirstFrame&&(this._isFirstFrame=!1)}},destroy:function(){this.canvasContext=null,this.data=null,this.globalData=null,this.maskManager.destroy()},mHelper:new Matrix},CVBaseElement.prototype.hide=CVBaseElement.prototype.hideElement,CVBaseElement.prototype.show=CVBaseElement.prototype.showElement;function CVShapeData(i,t,e,n){this.styledShapes=[],this.tr=[0,0,0,0,0,0];var a=4;t.ty==="rc"?a=5:t.ty==="el"?a=6:t.ty==="sr"&&(a=7),this.sh=ShapePropertyFactory.getShapeProp(i,t,a,i);var l,c=e.length,f;for(l=0;l<c;l+=1)e[l].closed||(f={transforms:n.addTransformSequence(e[l].transforms),trNodes:[]},this.styledShapes.push(f),e[l].elements.push(f))}CVShapeData.prototype.setAsAnimated=SVGShapeData.prototype.setAsAnimated;function CVShapeElement(i,t,e){this.shapes=[],this.shapesData=i.shapes,this.stylesList=[],this.itemsData=[],this.prevViewData=[],this.shapeModifiers=[],this.processedElements=[],this.transformsManager=new ShapeTransformManager,this.initElement(i,t,e)}extendPrototype([BaseElement,TransformElement,CVBaseElement,IShapeElement,HierarchyElement,FrameElement,RenderableElement],CVShapeElement),CVShapeElement.prototype.initElement=RenderableDOMElement.prototype.initElement,CVShapeElement.prototype.transformHelper={opacity:1,_opMdf:!1},CVShapeElement.prototype.dashResetter=[],CVShapeElement.prototype.createContent=function(){this.searchShapes(this.shapesData,this.itemsData,this.prevViewData,!0,[])},CVShapeElement.prototype.createStyleElement=function(i,t){var e={data:i,type:i.ty,preTransforms:this.transformsManager.addTransformSequence(t),transforms:[],elements:[],closed:i.hd===!0},n={};if(i.ty==="fl"||i.ty==="st"?(n.c=PropertyFactory.getProp(this,i.c,1,255,this),n.c.k||(e.co="rgb("+bmFloor(n.c.v[0])+","+bmFloor(n.c.v[1])+","+bmFloor(n.c.v[2])+")")):(i.ty==="gf"||i.ty==="gs")&&(n.s=PropertyFactory.getProp(this,i.s,1,null,this),n.e=PropertyFactory.getProp(this,i.e,1,null,this),n.h=PropertyFactory.getProp(this,i.h||{k:0},0,.01,this),n.a=PropertyFactory.getProp(this,i.a||{k:0},0,degToRads,this),n.g=new GradientProperty(this,i.g,this)),n.o=PropertyFactory.getProp(this,i.o,0,.01,this),i.ty==="st"||i.ty==="gs"){if(e.lc=lineCapEnum[i.lc||2],e.lj=lineJoinEnum[i.lj||2],i.lj==1&&(e.ml=i.ml),n.w=PropertyFactory.getProp(this,i.w,0,null,this),n.w.k||(e.wi=n.w.v),i.d){var a=new DashProperty(this,i.d,"canvas",this);n.d=a,n.d.k||(e.da=n.d.dashArray,e.do=n.d.dashoffset[0])}}else e.r=i.r===2?"evenodd":"nonzero";return this.stylesList.push(e),n.style=e,n},CVShapeElement.prototype.createGroupElement=function(){var i={it:[],prevViewData:[]};return i},CVShapeElement.prototype.createTransformElement=function(i){var t={transform:{opacity:1,_opMdf:!1,key:this.transformsManager.getNewKey(),op:PropertyFactory.getProp(this,i.o,0,.01,this),mProps:TransformPropertyFactory.getTransformProperty(this,i,this)}};return t},CVShapeElement.prototype.createShapeElement=function(i){var t=new CVShapeData(this,i,this.stylesList,this.transformsManager);return this.shapes.push(t),this.addShapeToModifiers(t),t},CVShapeElement.prototype.reloadShapes=function(){this._isFirstFrame=!0;var i,t=this.itemsData.length;for(i=0;i<t;i+=1)this.prevViewData[i]=this.itemsData[i];for(this.searchShapes(this.shapesData,this.itemsData,this.prevViewData,!0,[]),t=this.dynamicProperties.length,i=0;i<t;i+=1)this.dynamicProperties[i].getValue();this.renderModifiers(),this.transformsManager.processSequences(this._isFirstFrame)},CVShapeElement.prototype.addTransformToStyleList=function(i){var t,e=this.stylesList.length;for(t=0;t<e;t+=1)this.stylesList[t].closed||this.stylesList[t].transforms.push(i)},CVShapeElement.prototype.removeTransformFromStyleList=function(){var i,t=this.stylesList.length;for(i=0;i<t;i+=1)this.stylesList[i].closed||this.stylesList[i].transforms.pop()},CVShapeElement.prototype.closeStyles=function(i){var t,e=i.length;for(t=0;t<e;t+=1)i[t].closed=!0},CVShapeElement.prototype.searchShapes=function(i,t,e,n,a){var l,c=i.length-1,f,d,m=[],y=[],A,b,x,E=[].concat(a);for(l=c;l>=0;l-=1){if(A=this.searchProcessedElement(i[l]),A?t[l]=e[A-1]:i[l]._shouldRender=n,i[l].ty==="fl"||i[l].ty==="st"||i[l].ty==="gf"||i[l].ty==="gs")A?t[l].style.closed=!1:t[l]=this.createStyleElement(i[l],E),m.push(t[l].style);else if(i[l].ty==="gr"){if(!A)t[l]=this.createGroupElement(i[l]);else for(d=t[l].it.length,f=0;f<d;f+=1)t[l].prevViewData[f]=t[l].it[f];this.searchShapes(i[l].it,t[l].it,t[l].prevViewData,n,E)}else i[l].ty==="tr"?(A||(x=this.createTransformElement(i[l]),t[l]=x),E.push(t[l]),this.addTransformToStyleList(t[l])):i[l].ty==="sh"||i[l].ty==="rc"||i[l].ty==="el"||i[l].ty==="sr"?A||(t[l]=this.createShapeElement(i[l])):i[l].ty==="tm"||i[l].ty==="rd"||i[l].ty==="pb"||i[l].ty==="zz"||i[l].ty==="op"?(A?(b=t[l],b.closed=!1):(b=ShapeModifiers.getModifier(i[l].ty),b.init(this,i[l]),t[l]=b,this.shapeModifiers.push(b)),y.push(b)):i[l].ty==="rp"&&(A?(b=t[l],b.closed=!0):(b=ShapeModifiers.getModifier(i[l].ty),t[l]=b,b.init(this,i,l,t),this.shapeModifiers.push(b),n=!1),y.push(b));this.addProcessedElement(i[l],l+1)}for(this.removeTransformFromStyleList(),this.closeStyles(m),c=y.length,l=0;l<c;l+=1)y[l].closed=!0},CVShapeElement.prototype.renderInnerContent=function(){this.transformHelper.opacity=1,this.transformHelper._opMdf=!1,this.renderModifiers(),this.transformsManager.processSequences(this._isFirstFrame),this.renderShape(this.transformHelper,this.shapesData,this.itemsData,!0)},CVShapeElement.prototype.renderShapeTransform=function(i,t){(i._opMdf||t.op._mdf||this._isFirstFrame)&&(t.opacity=i.opacity,t.opacity*=t.op.v,t._opMdf=!0)},CVShapeElement.prototype.drawLayer=function(){var i,t=this.stylesList.length,e,n,a,l,c,f,d=this.globalData.renderer,m=this.globalData.canvasContext,y,A;for(i=0;i<t;i+=1)if(A=this.stylesList[i],y=A.type,!((y==="st"||y==="gs")&&A.wi===0||!A.data._shouldRender||A.coOp===0||this.globalData.currentGlobalAlpha===0)){for(d.save(),c=A.elements,y==="st"||y==="gs"?(d.ctxStrokeStyle(y==="st"?A.co:A.grd),d.ctxLineWidth(A.wi),d.ctxLineCap(A.lc),d.ctxLineJoin(A.lj),d.ctxMiterLimit(A.ml||0)):d.ctxFillStyle(y==="fl"?A.co:A.grd),d.ctxOpacity(A.coOp),y!=="st"&&y!=="gs"&&m.beginPath(),d.ctxTransform(A.preTransforms.finalTransform.props),n=c.length,e=0;e<n;e+=1){for((y==="st"||y==="gs")&&(m.beginPath(),A.da&&(m.setLineDash(A.da),m.lineDashOffset=A.do)),f=c[e].trNodes,l=f.length,a=0;a<l;a+=1)f[a].t==="m"?m.moveTo(f[a].p[0],f[a].p[1]):f[a].t==="c"?m.bezierCurveTo(f[a].pts[0],f[a].pts[1],f[a].pts[2],f[a].pts[3],f[a].pts[4],f[a].pts[5]):m.closePath();(y==="st"||y==="gs")&&(d.ctxStroke(),A.da&&m.setLineDash(this.dashResetter))}y!=="st"&&y!=="gs"&&this.globalData.renderer.ctxFill(A.r),d.restore()}},CVShapeElement.prototype.renderShape=function(i,t,e,n){var a,l=t.length-1,c;for(c=i,a=l;a>=0;a-=1)t[a].ty==="tr"?(c=e[a].transform,this.renderShapeTransform(i,c)):t[a].ty==="sh"||t[a].ty==="el"||t[a].ty==="rc"||t[a].ty==="sr"?this.renderPath(t[a],e[a]):t[a].ty==="fl"?this.renderFill(t[a],e[a],c):t[a].ty==="st"?this.renderStroke(t[a],e[a],c):t[a].ty==="gf"||t[a].ty==="gs"?this.renderGradientFill(t[a],e[a],c):t[a].ty==="gr"?this.renderShape(c,t[a].it,e[a].it):t[a].ty;n&&this.drawLayer()},CVShapeElement.prototype.renderStyledShape=function(i,t){if(this._isFirstFrame||t._mdf||i.transforms._mdf){var e=i.trNodes,n=t.paths,a,l,c,f=n._length;e.length=0;var d=i.transforms.finalTransform;for(c=0;c<f;c+=1){var m=n.shapes[c];if(m&&m.v){for(l=m._length,a=1;a<l;a+=1)a===1&&e.push({t:"m",p:d.applyToPointArray(m.v[0][0],m.v[0][1],0)}),e.push({t:"c",pts:d.applyToTriplePoints(m.o[a-1],m.i[a],m.v[a])});l===1&&e.push({t:"m",p:d.applyToPointArray(m.v[0][0],m.v[0][1],0)}),m.c&&l&&(e.push({t:"c",pts:d.applyToTriplePoints(m.o[a-1],m.i[0],m.v[0])}),e.push({t:"z"}))}}i.trNodes=e}},CVShapeElement.prototype.renderPath=function(i,t){if(i.hd!==!0&&i._shouldRender){var e,n=t.styledShapes.length;for(e=0;e<n;e+=1)this.renderStyledShape(t.styledShapes[e],t.sh)}},CVShapeElement.prototype.renderFill=function(i,t,e){var n=t.style;(t.c._mdf||this._isFirstFrame)&&(n.co="rgb("+bmFloor(t.c.v[0])+","+bmFloor(t.c.v[1])+","+bmFloor(t.c.v[2])+")"),(t.o._mdf||e._opMdf||this._isFirstFrame)&&(n.coOp=t.o.v*e.opacity)},CVShapeElement.prototype.renderGradientFill=function(i,t,e){var n=t.style,a;if(!n.grd||t.g._mdf||t.s._mdf||t.e._mdf||i.t!==1&&(t.h._mdf||t.a._mdf)){var l=this.globalData.canvasContext,c=t.s.v,f=t.e.v;if(i.t===1)a=l.createLinearGradient(c[0],c[1],f[0],f[1]);else{var d=Math.sqrt(Math.pow(c[0]-f[0],2)+Math.pow(c[1]-f[1],2)),m=Math.atan2(f[1]-c[1],f[0]-c[0]),y=t.h.v;y>=1?y=.99:y<=-1&&(y=-.99);var A=d*y,b=Math.cos(m+t.a.v)*A+c[0],x=Math.sin(m+t.a.v)*A+c[1];a=l.createRadialGradient(b,x,0,c[0],c[1],d)}var E,T=i.g.p,k=t.g.c,S=1;for(E=0;E<T;E+=1)t.g._hasOpacity&&t.g._collapsable&&(S=t.g.o[E*2+1]),a.addColorStop(k[E*4]/100,"rgba("+k[E*4+1]+","+k[E*4+2]+","+k[E*4+3]+","+S+")");n.grd=a}n.coOp=t.o.v*e.opacity},CVShapeElement.prototype.renderStroke=function(i,t,e){var n=t.style,a=t.d;a&&(a._mdf||this._isFirstFrame)&&(n.da=a.dashArray,n.do=a.dashoffset[0]),(t.c._mdf||this._isFirstFrame)&&(n.co="rgb("+bmFloor(t.c.v[0])+","+bmFloor(t.c.v[1])+","+bmFloor(t.c.v[2])+")"),(t.o._mdf||e._opMdf||this._isFirstFrame)&&(n.coOp=t.o.v*e.opacity),(t.w._mdf||this._isFirstFrame)&&(n.wi=t.w.v)},CVShapeElement.prototype.destroy=function(){this.shapesData=null,this.globalData=null,this.canvasContext=null,this.stylesList.length=0,this.itemsData.length=0};function CVTextElement(i,t,e){this.textSpans=[],this.yOffset=0,this.fillColorAnim=!1,this.strokeColorAnim=!1,this.strokeWidthAnim=!1,this.stroke=!1,this.fill=!1,this.justifyOffset=0,this.currentRender=null,this.renderType="canvas",this.values={fill:"rgba(0,0,0,0)",stroke:"rgba(0,0,0,0)",sWidth:0,fValue:""},this.initElement(i,t,e)}extendPrototype([BaseElement,TransformElement,CVBaseElement,HierarchyElement,FrameElement,RenderableElement,ITextElement],CVTextElement),CVTextElement.prototype.tHelper=createTag("canvas").getContext("2d"),CVTextElement.prototype.buildNewText=function(){var i=this.textProperty.currentData;this.renderedLetters=createSizedArray(i.l?i.l.length:0);var t=!1;i.fc?(t=!0,this.values.fill=this.buildColor(i.fc)):this.values.fill="rgba(0,0,0,0)",this.fill=t;var e=!1;i.sc&&(e=!0,this.values.stroke=this.buildColor(i.sc),this.values.sWidth=i.sw);var n=this.globalData.fontManager.getFontByName(i.f),a,l,c=i.l,f=this.mHelper;this.stroke=e,this.values.fValue=i.finalSize+"px "+this.globalData.fontManager.getFontByName(i.f).fFamily,l=i.finalText.length;var d,m,y,A,b,x,E,T,k,S,M=this.data.singleShape,P=i.tr*.001*i.finalSize,R=0,D=0,L=!0,G=0;for(a=0;a<l;a+=1){d=this.globalData.fontManager.getCharData(i.finalText[a],n.fStyle,this.globalData.fontManager.getFontByName(i.f).fFamily),m=d&&d.data||{},f.reset(),M&&c[a].n&&(R=-P,D+=i.yOffset,D+=L?1:0,L=!1),b=m.shapes?m.shapes[0].it:[],E=b.length,f.scale(i.finalSize/100,i.finalSize/100),M&&this.applyTextPropertiesToMatrix(i,f,c[a].line,R,D),k=createSizedArray(E-1);var q=0;for(x=0;x<E;x+=1)if(b[x].ty==="sh"){for(A=b[x].ks.k.i.length,T=b[x].ks.k,S=[],y=1;y<A;y+=1)y===1&&S.push(f.applyToX(T.v[0][0],T.v[0][1],0),f.applyToY(T.v[0][0],T.v[0][1],0)),S.push(f.applyToX(T.o[y-1][0],T.o[y-1][1],0),f.applyToY(T.o[y-1][0],T.o[y-1][1],0),f.applyToX(T.i[y][0],T.i[y][1],0),f.applyToY(T.i[y][0],T.i[y][1],0),f.applyToX(T.v[y][0],T.v[y][1],0),f.applyToY(T.v[y][0],T.v[y][1],0));S.push(f.applyToX(T.o[y-1][0],T.o[y-1][1],0),f.applyToY(T.o[y-1][0],T.o[y-1][1],0),f.applyToX(T.i[0][0],T.i[0][1],0),f.applyToY(T.i[0][0],T.i[0][1],0),f.applyToX(T.v[0][0],T.v[0][1],0),f.applyToY(T.v[0][0],T.v[0][1],0)),k[q]=S,q+=1}M&&(R+=c[a].l,R+=P),this.textSpans[G]?this.textSpans[G].elem=k:this.textSpans[G]={elem:k},G+=1}},CVTextElement.prototype.renderInnerContent=function(){this.validateText();var i=this.canvasContext;i.font=this.values.fValue,this.globalData.renderer.ctxLineCap("butt"),this.globalData.renderer.ctxLineJoin("miter"),this.globalData.renderer.ctxMiterLimit(4),this.data.singleShape||this.textAnimator.getMeasures(this.textProperty.currentData,this.lettersChangedFlag);var t,e,n,a,l,c,f=this.textAnimator.renderedLetters,d=this.textProperty.currentData.l;e=d.length;var m,y=null,A=null,b=null,x,E,T=this.globalData.renderer;for(t=0;t<e;t+=1)if(!d[t].n){if(m=f[t],m&&(T.save(),T.ctxTransform(m.p),T.ctxOpacity(m.o)),this.fill){for(m&&m.fc?y!==m.fc&&(T.ctxFillStyle(m.fc),y=m.fc):y!==this.values.fill&&(y=this.values.fill,T.ctxFillStyle(this.values.fill)),x=this.textSpans[t].elem,a=x.length,this.globalData.canvasContext.beginPath(),n=0;n<a;n+=1)for(E=x[n],c=E.length,this.globalData.canvasContext.moveTo(E[0],E[1]),l=2;l<c;l+=6)this.globalData.canvasContext.bezierCurveTo(E[l],E[l+1],E[l+2],E[l+3],E[l+4],E[l+5]);this.globalData.canvasContext.closePath(),T.ctxFill()}if(this.stroke){for(m&&m.sw?b!==m.sw&&(b=m.sw,T.ctxLineWidth(m.sw)):b!==this.values.sWidth&&(b=this.values.sWidth,T.ctxLineWidth(this.values.sWidth)),m&&m.sc?A!==m.sc&&(A=m.sc,T.ctxStrokeStyle(m.sc)):A!==this.values.stroke&&(A=this.values.stroke,T.ctxStrokeStyle(this.values.stroke)),x=this.textSpans[t].elem,a=x.length,this.globalData.canvasContext.beginPath(),n=0;n<a;n+=1)for(E=x[n],c=E.length,this.globalData.canvasContext.moveTo(E[0],E[1]),l=2;l<c;l+=6)this.globalData.canvasContext.bezierCurveTo(E[l],E[l+1],E[l+2],E[l+3],E[l+4],E[l+5]);this.globalData.canvasContext.closePath(),T.ctxStroke()}m&&this.globalData.renderer.restore()}};function CVImageElement(i,t,e){this.assetData=t.getAssetData(i.refId),this.img=t.imageLoader.getAsset(this.assetData),this.initElement(i,t,e)}extendPrototype([BaseElement,TransformElement,CVBaseElement,HierarchyElement,FrameElement,RenderableElement],CVImageElement),CVImageElement.prototype.initElement=SVGShapeElement.prototype.initElement,CVImageElement.prototype.prepareFrame=IImageElement.prototype.prepareFrame,CVImageElement.prototype.createContent=function(){if(this.img.width&&(this.assetData.w!==this.img.width||this.assetData.h!==this.img.height)){var i=createTag("canvas");i.width=this.assetData.w,i.height=this.assetData.h;var t=i.getContext("2d"),e=this.img.width,n=this.img.height,a=e/n,l=this.assetData.w/this.assetData.h,c,f,d=this.assetData.pr||this.globalData.renderConfig.imagePreserveAspectRatio;a>l&&d==="xMidYMid slice"||a<l&&d!=="xMidYMid slice"?(f=n,c=f*l):(c=e,f=c/l),t.drawImage(this.img,(e-c)/2,(n-f)/2,c,f,0,0,this.assetData.w,this.assetData.h),this.img=i}},CVImageElement.prototype.renderInnerContent=function(){this.canvasContext.drawImage(this.img,0,0)},CVImageElement.prototype.destroy=function(){this.img=null};function CVSolidElement(i,t,e){this.initElement(i,t,e)}extendPrototype([BaseElement,TransformElement,CVBaseElement,HierarchyElement,FrameElement,RenderableElement],CVSolidElement),CVSolidElement.prototype.initElement=SVGShapeElement.prototype.initElement,CVSolidElement.prototype.prepareFrame=IImageElement.prototype.prepareFrame,CVSolidElement.prototype.renderInnerContent=function(){this.globalData.renderer.ctxFillStyle(this.data.sc),this.globalData.renderer.ctxFillRect(0,0,this.data.sw,this.data.sh)};function CanvasRendererBase(){}extendPrototype([BaseRenderer],CanvasRendererBase),CanvasRendererBase.prototype.createShape=function(i){return new CVShapeElement(i,this.globalData,this)},CanvasRendererBase.prototype.createText=function(i){return new CVTextElement(i,this.globalData,this)},CanvasRendererBase.prototype.createImage=function(i){return new CVImageElement(i,this.globalData,this)},CanvasRendererBase.prototype.createSolid=function(i){return new CVSolidElement(i,this.globalData,this)},CanvasRendererBase.prototype.createNull=SVGRenderer.prototype.createNull,CanvasRendererBase.prototype.ctxTransform=function(i){i[0]===1&&i[1]===0&&i[4]===0&&i[5]===1&&i[12]===0&&i[13]===0||this.canvasContext.transform(i[0],i[1],i[4],i[5],i[12],i[13])},CanvasRendererBase.prototype.ctxOpacity=function(i){this.canvasContext.globalAlpha*=i<0?0:i},CanvasRendererBase.prototype.ctxFillStyle=function(i){this.canvasContext.fillStyle=i},CanvasRendererBase.prototype.ctxStrokeStyle=function(i){this.canvasContext.strokeStyle=i},CanvasRendererBase.prototype.ctxLineWidth=function(i){this.canvasContext.lineWidth=i},CanvasRendererBase.prototype.ctxLineCap=function(i){this.canvasContext.lineCap=i},CanvasRendererBase.prototype.ctxLineJoin=function(i){this.canvasContext.lineJoin=i},CanvasRendererBase.prototype.ctxMiterLimit=function(i){this.canvasContext.miterLimit=i},CanvasRendererBase.prototype.ctxFill=function(i){this.canvasContext.fill(i)},CanvasRendererBase.prototype.ctxFillRect=function(i,t,e,n){this.canvasContext.fillRect(i,t,e,n)},CanvasRendererBase.prototype.ctxStroke=function(){this.canvasContext.stroke()},CanvasRendererBase.prototype.reset=function(){if(!this.renderConfig.clearCanvas){this.canvasContext.restore();return}this.contextData.reset()},CanvasRendererBase.prototype.save=function(){this.canvasContext.save()},CanvasRendererBase.prototype.restore=function(i){if(!this.renderConfig.clearCanvas){this.canvasContext.restore();return}i&&(this.globalData.blendMode="source-over"),this.contextData.restore(i)},CanvasRendererBase.prototype.configAnimation=function(i){if(this.animationItem.wrapper){this.animationItem.container=createTag("canvas");var t=this.animationItem.container.style;t.width="100%",t.height="100%";var e="0px 0px 0px";t.transformOrigin=e,t.mozTransformOrigin=e,t.webkitTransformOrigin=e,t["-webkit-transform"]=e,t.contentVisibility=this.renderConfig.contentVisibility,this.animationItem.wrapper.appendChild(this.animationItem.container),this.canvasContext=this.animationItem.container.getContext("2d"),this.renderConfig.className&&this.animationItem.container.setAttribute("class",this.renderConfig.className),this.renderConfig.id&&this.animationItem.container.setAttribute("id",this.renderConfig.id)}else this.canvasContext=this.renderConfig.context;this.contextData.setContext(this.canvasContext),this.data=i,this.layers=i.layers,this.transformCanvas={w:i.w,h:i.h,sx:0,sy:0,tx:0,ty:0},this.setupGlobalData(i,document.body),this.globalData.canvasContext=this.canvasContext,this.globalData.renderer=this,this.globalData.isDashed=!1,this.globalData.progressiveLoad=this.renderConfig.progressiveLoad,this.globalData.transformCanvas=this.transformCanvas,this.elements=createSizedArray(i.layers.length),this.updateContainerSize()},CanvasRendererBase.prototype.updateContainerSize=function(i,t){this.reset();var e,n;i?(e=i,n=t,this.canvasContext.canvas.width=e,this.canvasContext.canvas.height=n):(this.animationItem.wrapper&&this.animationItem.container?(e=this.animationItem.wrapper.offsetWidth,n=this.animationItem.wrapper.offsetHeight):(e=this.canvasContext.canvas.width,n=this.canvasContext.canvas.height),this.canvasContext.canvas.width=e*this.renderConfig.dpr,this.canvasContext.canvas.height=n*this.renderConfig.dpr);var a,l;if(this.renderConfig.preserveAspectRatio.indexOf("meet")!==-1||this.renderConfig.preserveAspectRatio.indexOf("slice")!==-1){var c=this.renderConfig.preserveAspectRatio.split(" "),f=c[1]||"meet",d=c[0]||"xMidYMid",m=d.substr(0,4),y=d.substr(4);a=e/n,l=this.transformCanvas.w/this.transformCanvas.h,l>a&&f==="meet"||l<a&&f==="slice"?(this.transformCanvas.sx=e/(this.transformCanvas.w/this.renderConfig.dpr),this.transformCanvas.sy=e/(this.transformCanvas.w/this.renderConfig.dpr)):(this.transformCanvas.sx=n/(this.transformCanvas.h/this.renderConfig.dpr),this.transformCanvas.sy=n/(this.transformCanvas.h/this.renderConfig.dpr)),m==="xMid"&&(l<a&&f==="meet"||l>a&&f==="slice")?this.transformCanvas.tx=(e-this.transformCanvas.w*(n/this.transformCanvas.h))/2*this.renderConfig.dpr:m==="xMax"&&(l<a&&f==="meet"||l>a&&f==="slice")?this.transformCanvas.tx=(e-this.transformCanvas.w*(n/this.transformCanvas.h))*this.renderConfig.dpr:this.transformCanvas.tx=0,y==="YMid"&&(l>a&&f==="meet"||l<a&&f==="slice")?this.transformCanvas.ty=(n-this.transformCanvas.h*(e/this.transformCanvas.w))/2*this.renderConfig.dpr:y==="YMax"&&(l>a&&f==="meet"||l<a&&f==="slice")?this.transformCanvas.ty=(n-this.transformCanvas.h*(e/this.transformCanvas.w))*this.renderConfig.dpr:this.transformCanvas.ty=0}else this.renderConfig.preserveAspectRatio==="none"?(this.transformCanvas.sx=e/(this.transformCanvas.w/this.renderConfig.dpr),this.transformCanvas.sy=n/(this.transformCanvas.h/this.renderConfig.dpr),this.transformCanvas.tx=0,this.transformCanvas.ty=0):(this.transformCanvas.sx=this.renderConfig.dpr,this.transformCanvas.sy=this.renderConfig.dpr,this.transformCanvas.tx=0,this.transformCanvas.ty=0);this.transformCanvas.props=[this.transformCanvas.sx,0,0,0,0,this.transformCanvas.sy,0,0,0,0,1,0,this.transformCanvas.tx,this.transformCanvas.ty,0,1],this.ctxTransform(this.transformCanvas.props),this.canvasContext.beginPath(),this.canvasContext.rect(0,0,this.transformCanvas.w,this.transformCanvas.h),this.canvasContext.closePath(),this.canvasContext.clip(),this.renderFrame(this.renderedFrame,!0)},CanvasRendererBase.prototype.destroy=function(){this.renderConfig.clearCanvas&&this.animationItem.wrapper&&(this.animationItem.wrapper.innerText="");var i,t=this.layers?this.layers.length:0;for(i=t-1;i>=0;i-=1)this.elements[i]&&this.elements[i].destroy&&this.elements[i].destroy();this.elements.length=0,this.globalData.canvasContext=null,this.animationItem.container=null,this.destroyed=!0},CanvasRendererBase.prototype.renderFrame=function(i,t){if(!(this.renderedFrame===i&&this.renderConfig.clearCanvas===!0&&!t||this.destroyed||i===-1)){this.renderedFrame=i,this.globalData.frameNum=i-this.animationItem._isFirstFrame,this.globalData.frameId+=1,this.globalData._mdf=!this.renderConfig.clearCanvas||t,this.globalData.projectInterface.currentFrame=i;var e,n=this.layers.length;for(this.completeLayers||this.checkLayers(i),e=n-1;e>=0;e-=1)(this.completeLayers||this.elements[e])&&this.elements[e].prepareFrame(i-this.layers[e].st);if(this.globalData._mdf){for(this.renderConfig.clearCanvas===!0?this.canvasContext.clearRect(0,0,this.transformCanvas.w,this.transformCanvas.h):this.save(),e=n-1;e>=0;e-=1)(this.completeLayers||this.elements[e])&&this.elements[e].renderFrame();this.renderConfig.clearCanvas!==!0&&this.restore()}}},CanvasRendererBase.prototype.buildItem=function(i){var t=this.elements;if(!(t[i]||this.layers[i].ty===99)){var e=this.createItem(this.layers[i],this,this.globalData);t[i]=e,e.initExpressions()}},CanvasRendererBase.prototype.checkPendingElements=function(){for(;this.pendingElements.length;){var i=this.pendingElements.pop();i.checkParenting()}},CanvasRendererBase.prototype.hide=function(){this.animationItem.container.style.display="none"},CanvasRendererBase.prototype.show=function(){this.animationItem.container.style.display="block"};function CanvasContext(){this.opacity=-1,this.transform=createTypedArray("float32",16),this.fillStyle="",this.strokeStyle="",this.lineWidth="",this.lineCap="",this.lineJoin="",this.miterLimit="",this.id=Math.random()}function CVContextData(){this.stack=[],this.cArrPos=0,this.cTr=new Matrix;var i,t=15;for(i=0;i<t;i+=1){var e=new CanvasContext;this.stack[i]=e}this._length=t,this.nativeContext=null,this.transformMat=new Matrix,this.currentOpacity=1,this.currentFillStyle="",this.appliedFillStyle="",this.currentStrokeStyle="",this.appliedStrokeStyle="",this.currentLineWidth="",this.appliedLineWidth="",this.currentLineCap="",this.appliedLineCap="",this.currentLineJoin="",this.appliedLineJoin="",this.appliedMiterLimit="",this.currentMiterLimit=""}CVContextData.prototype.duplicate=function(){var i=this._length*2,t=0;for(t=this._length;t<i;t+=1)this.stack[t]=new CanvasContext;this._length=i},CVContextData.prototype.reset=function(){this.cArrPos=0,this.cTr.reset(),this.stack[this.cArrPos].opacity=1},CVContextData.prototype.restore=function(i){this.cArrPos-=1;var t=this.stack[this.cArrPos],e=t.transform,n,a=this.cTr.props;for(n=0;n<16;n+=1)a[n]=e[n];if(i){this.nativeContext.restore();var l=this.stack[this.cArrPos+1];this.appliedFillStyle=l.fillStyle,this.appliedStrokeStyle=l.strokeStyle,this.appliedLineWidth=l.lineWidth,this.appliedLineCap=l.lineCap,this.appliedLineJoin=l.lineJoin,this.appliedMiterLimit=l.miterLimit}this.nativeContext.setTransform(e[0],e[1],e[4],e[5],e[12],e[13]),(i||t.opacity!==-1&&this.currentOpacity!==t.opacity)&&(this.nativeContext.globalAlpha=t.opacity,this.currentOpacity=t.opacity),this.currentFillStyle=t.fillStyle,this.currentStrokeStyle=t.strokeStyle,this.currentLineWidth=t.lineWidth,this.currentLineCap=t.lineCap,this.currentLineJoin=t.lineJoin,this.currentMiterLimit=t.miterLimit},CVContextData.prototype.save=function(i){i&&this.nativeContext.save();var t=this.cTr.props;this._length<=this.cArrPos&&this.duplicate();var e=this.stack[this.cArrPos],n;for(n=0;n<16;n+=1)e.transform[n]=t[n];this.cArrPos+=1;var a=this.stack[this.cArrPos];a.opacity=e.opacity,a.fillStyle=e.fillStyle,a.strokeStyle=e.strokeStyle,a.lineWidth=e.lineWidth,a.lineCap=e.lineCap,a.lineJoin=e.lineJoin,a.miterLimit=e.miterLimit},CVContextData.prototype.setOpacity=function(i){this.stack[this.cArrPos].opacity=i},CVContextData.prototype.setContext=function(i){this.nativeContext=i},CVContextData.prototype.fillStyle=function(i){this.stack[this.cArrPos].fillStyle!==i&&(this.currentFillStyle=i,this.stack[this.cArrPos].fillStyle=i)},CVContextData.prototype.strokeStyle=function(i){this.stack[this.cArrPos].strokeStyle!==i&&(this.currentStrokeStyle=i,this.stack[this.cArrPos].strokeStyle=i)},CVContextData.prototype.lineWidth=function(i){this.stack[this.cArrPos].lineWidth!==i&&(this.currentLineWidth=i,this.stack[this.cArrPos].lineWidth=i)},CVContextData.prototype.lineCap=function(i){this.stack[this.cArrPos].lineCap!==i&&(this.currentLineCap=i,this.stack[this.cArrPos].lineCap=i)},CVContextData.prototype.lineJoin=function(i){this.stack[this.cArrPos].lineJoin!==i&&(this.currentLineJoin=i,this.stack[this.cArrPos].lineJoin=i)},CVContextData.prototype.miterLimit=function(i){this.stack[this.cArrPos].miterLimit!==i&&(this.currentMiterLimit=i,this.stack[this.cArrPos].miterLimit=i)},CVContextData.prototype.transform=function(i){this.transformMat.cloneFromProps(i);var t=this.cTr;this.transformMat.multiply(t),t.cloneFromProps(this.transformMat.props);var e=t.props;this.nativeContext.setTransform(e[0],e[1],e[4],e[5],e[12],e[13])},CVContextData.prototype.opacity=function(i){var t=this.stack[this.cArrPos].opacity;t*=i<0?0:i,this.stack[this.cArrPos].opacity!==t&&(this.currentOpacity!==i&&(this.nativeContext.globalAlpha=i,this.currentOpacity=i),this.stack[this.cArrPos].opacity=t)},CVContextData.prototype.fill=function(i){this.appliedFillStyle!==this.currentFillStyle&&(this.appliedFillStyle=this.currentFillStyle,this.nativeContext.fillStyle=this.appliedFillStyle),this.nativeContext.fill(i)},CVContextData.prototype.fillRect=function(i,t,e,n){this.appliedFillStyle!==this.currentFillStyle&&(this.appliedFillStyle=this.currentFillStyle,this.nativeContext.fillStyle=this.appliedFillStyle),this.nativeContext.fillRect(i,t,e,n)},CVContextData.prototype.stroke=function(){this.appliedStrokeStyle!==this.currentStrokeStyle&&(this.appliedStrokeStyle=this.currentStrokeStyle,this.nativeContext.strokeStyle=this.appliedStrokeStyle),this.appliedLineWidth!==this.currentLineWidth&&(this.appliedLineWidth=this.currentLineWidth,this.nativeContext.lineWidth=this.appliedLineWidth),this.appliedLineCap!==this.currentLineCap&&(this.appliedLineCap=this.currentLineCap,this.nativeContext.lineCap=this.appliedLineCap),this.appliedLineJoin!==this.currentLineJoin&&(this.appliedLineJoin=this.currentLineJoin,this.nativeContext.lineJoin=this.appliedLineJoin),this.appliedMiterLimit!==this.currentMiterLimit&&(this.appliedMiterLimit=this.currentMiterLimit,this.nativeContext.miterLimit=this.appliedMiterLimit),this.nativeContext.stroke()};function CVCompElement(i,t,e){this.completeLayers=!1,this.layers=i.layers,this.pendingElements=[],this.elements=createSizedArray(this.layers.length),this.initElement(i,t,e),this.tm=i.tm?PropertyFactory.getProp(this,i.tm,0,t.frameRate,this):{_placeholder:!0}}extendPrototype([CanvasRendererBase,ICompElement,CVBaseElement],CVCompElement),CVCompElement.prototype.renderInnerContent=function(){var i=this.canvasContext;i.beginPath(),i.moveTo(0,0),i.lineTo(this.data.w,0),i.lineTo(this.data.w,this.data.h),i.lineTo(0,this.data.h),i.lineTo(0,0),i.clip();var t,e=this.layers.length;for(t=e-1;t>=0;t-=1)(this.completeLayers||this.elements[t])&&this.elements[t].renderFrame()},CVCompElement.prototype.destroy=function(){var i,t=this.layers.length;for(i=t-1;i>=0;i-=1)this.elements[i]&&this.elements[i].destroy();this.layers=null,this.elements=null},CVCompElement.prototype.createComp=function(i){return new CVCompElement(i,this.globalData,this)};function CanvasRenderer(i,t){this.animationItem=i,this.renderConfig={clearCanvas:t&&t.clearCanvas!==void 0?t.clearCanvas:!0,context:t&&t.context||null,progressiveLoad:t&&t.progressiveLoad||!1,preserveAspectRatio:t&&t.preserveAspectRatio||"xMidYMid meet",imagePreserveAspectRatio:t&&t.imagePreserveAspectRatio||"xMidYMid slice",contentVisibility:t&&t.contentVisibility||"visible",className:t&&t.className||"",id:t&&t.id||"",runExpressions:!t||t.runExpressions===void 0||t.runExpressions},this.renderConfig.dpr=t&&t.dpr||1,this.animationItem.wrapper&&(this.renderConfig.dpr=t&&t.dpr||window.devicePixelRatio||1),this.renderedFrame=-1,this.globalData={frameNum:-1,_mdf:!1,renderConfig:this.renderConfig,currentGlobalAlpha:-1},this.contextData=new CVContextData,this.elements=[],this.pendingElements=[],this.transformMat=new Matrix,this.completeLayers=!1,this.rendererType="canvas",this.renderConfig.clearCanvas&&(this.ctxTransform=this.contextData.transform.bind(this.contextData),this.ctxOpacity=this.contextData.opacity.bind(this.contextData),this.ctxFillStyle=this.contextData.fillStyle.bind(this.contextData),this.ctxStrokeStyle=this.contextData.strokeStyle.bind(this.contextData),this.ctxLineWidth=this.contextData.lineWidth.bind(this.contextData),this.ctxLineCap=this.contextData.lineCap.bind(this.contextData),this.ctxLineJoin=this.contextData.lineJoin.bind(this.contextData),this.ctxMiterLimit=this.contextData.miterLimit.bind(this.contextData),this.ctxFill=this.contextData.fill.bind(this.contextData),this.ctxFillRect=this.contextData.fillRect.bind(this.contextData),this.ctxStroke=this.contextData.stroke.bind(this.contextData),this.save=this.contextData.save.bind(this.contextData))}extendPrototype([CanvasRendererBase],CanvasRenderer),CanvasRenderer.prototype.createComp=function(i){return new CVCompElement(i,this.globalData,this)};function HBaseElement(){}HBaseElement.prototype={checkBlendMode:function(){},initRendererElement:function(){this.baseElement=createTag(this.data.tg||"div"),this.data.hasMask?(this.svgElement=createNS("svg"),this.layerElement=createNS("g"),this.maskedElement=this.layerElement,this.svgElement.appendChild(this.layerElement),this.baseElement.appendChild(this.svgElement)):this.layerElement=this.baseElement,styleDiv(this.baseElement)},createContainerElements:function(){this.renderableEffectsManager=new CVEffects(this),this.transformedElement=this.baseElement,this.maskedElement=this.layerElement,this.data.ln&&this.layerElement.setAttribute("id",this.data.ln),this.data.cl&&this.layerElement.setAttribute("class",this.data.cl),this.data.bm!==0&&this.setBlendMode()},renderElement:function(){var t=this.transformedElement?this.transformedElement.style:{};if(this.finalTransform._matMdf){var e=this.finalTransform.mat.toCSS();t.transform=e,t.webkitTransform=e}this.finalTransform._opMdf&&(t.opacity=this.finalTransform.mProp.o.v)},renderFrame:function(){this.data.hd||this.hidden||(this.renderTransform(),this.renderRenderable(),this.renderElement(),this.renderInnerContent(),this._isFirstFrame&&(this._isFirstFrame=!1))},destroy:function(){this.layerElement=null,this.transformedElement=null,this.matteElement&&(this.matteElement=null),this.maskManager&&(this.maskManager.destroy(),this.maskManager=null)},createRenderableComponents:function(){this.maskManager=new MaskElement(this.data,this,this.globalData)},addEffects:function(){},setMatte:function(){}},HBaseElement.prototype.getBaseElement=SVGBaseElement.prototype.getBaseElement,HBaseElement.prototype.destroyBaseElement=HBaseElement.prototype.destroy,HBaseElement.prototype.buildElementParenting=BaseRenderer.prototype.buildElementParenting;function HSolidElement(i,t,e){this.initElement(i,t,e)}extendPrototype([BaseElement,TransformElement,HBaseElement,HierarchyElement,FrameElement,RenderableDOMElement],HSolidElement),HSolidElement.prototype.createContent=function(){var i;this.data.hasMask?(i=createNS("rect"),i.setAttribute("width",this.data.sw),i.setAttribute("height",this.data.sh),i.setAttribute("fill",this.data.sc),this.svgElement.setAttribute("width",this.data.sw),this.svgElement.setAttribute("height",this.data.sh)):(i=createTag("div"),i.style.width=this.data.sw+"px",i.style.height=this.data.sh+"px",i.style.backgroundColor=this.data.sc),this.layerElement.appendChild(i)};function HShapeElement(i,t,e){this.shapes=[],this.shapesData=i.shapes,this.stylesList=[],this.shapeModifiers=[],this.itemsData=[],this.processedElements=[],this.animatedContents=[],this.shapesContainer=createNS("g"),this.initElement(i,t,e),this.prevViewData=[],this.currentBBox={x:999999,y:-999999,h:0,w:0}}extendPrototype([BaseElement,TransformElement,HSolidElement,SVGShapeElement,HBaseElement,HierarchyElement,FrameElement,RenderableElement],HShapeElement),HShapeElement.prototype._renderShapeFrame=HShapeElement.prototype.renderInnerContent,HShapeElement.prototype.createContent=function(){var i;if(this.baseElement.style.fontSize=0,this.data.hasMask)this.layerElement.appendChild(this.shapesContainer),i=this.svgElement;else{i=createNS("svg");var t=this.comp.data?this.comp.data:this.globalData.compSize;i.setAttribute("width",t.w),i.setAttribute("height",t.h),i.appendChild(this.shapesContainer),this.layerElement.appendChild(i)}this.searchShapes(this.shapesData,this.itemsData,this.prevViewData,this.shapesContainer,0,[],!0),this.filterUniqueShapes(),this.shapeCont=i},HShapeElement.prototype.getTransformedPoint=function(i,t){var e,n=i.length;for(e=0;e<n;e+=1)t=i[e].mProps.v.applyToPointArray(t[0],t[1],0);return t},HShapeElement.prototype.calculateShapeBoundingBox=function(i,t){var e=i.sh.v,n=i.transformers,a,l=e._length,c,f,d,m;if(!(l<=1)){for(a=0;a<l-1;a+=1)c=this.getTransformedPoint(n,e.v[a]),f=this.getTransformedPoint(n,e.o[a]),d=this.getTransformedPoint(n,e.i[a+1]),m=this.getTransformedPoint(n,e.v[a+1]),this.checkBounds(c,f,d,m,t);e.c&&(c=this.getTransformedPoint(n,e.v[a]),f=this.getTransformedPoint(n,e.o[a]),d=this.getTransformedPoint(n,e.i[0]),m=this.getTransformedPoint(n,e.v[0]),this.checkBounds(c,f,d,m,t))}},HShapeElement.prototype.checkBounds=function(i,t,e,n,a){this.getBoundsOfCurve(i,t,e,n);var l=this.shapeBoundingBox;a.x=bmMin(l.left,a.x),a.xMax=bmMax(l.right,a.xMax),a.y=bmMin(l.top,a.y),a.yMax=bmMax(l.bottom,a.yMax)},HShapeElement.prototype.shapeBoundingBox={left:0,right:0,top:0,bottom:0},HShapeElement.prototype.tempBoundingBox={x:0,xMax:0,y:0,yMax:0,width:0,height:0},HShapeElement.prototype.getBoundsOfCurve=function(i,t,e,n){for(var a=[[i[0],n[0]],[i[1],n[1]]],l,c,f,d,m,y,A,b=0;b<2;++b)c=6*i[b]-12*t[b]+6*e[b],l=-3*i[b]+9*t[b]-9*e[b]+3*n[b],f=3*t[b]-3*i[b],c|=0,l|=0,f|=0,l===0&&c===0||(l===0?(d=-f/c,d>0&&d<1&&a[b].push(this.calculateF(d,i,t,e,n,b))):(m=c*c-4*f*l,m>=0&&(y=(-c+bmSqrt(m))/(2*l),y>0&&y<1&&a[b].push(this.calculateF(y,i,t,e,n,b)),A=(-c-bmSqrt(m))/(2*l),A>0&&A<1&&a[b].push(this.calculateF(A,i,t,e,n,b)))));this.shapeBoundingBox.left=bmMin.apply(null,a[0]),this.shapeBoundingBox.top=bmMin.apply(null,a[1]),this.shapeBoundingBox.right=bmMax.apply(null,a[0]),this.shapeBoundingBox.bottom=bmMax.apply(null,a[1])},HShapeElement.prototype.calculateF=function(i,t,e,n,a,l){return bmPow(1-i,3)*t[l]+3*bmPow(1-i,2)*i*e[l]+3*(1-i)*bmPow(i,2)*n[l]+bmPow(i,3)*a[l]},HShapeElement.prototype.calculateBoundingBox=function(i,t){var e,n=i.length;for(e=0;e<n;e+=1)i[e]&&i[e].sh?this.calculateShapeBoundingBox(i[e],t):i[e]&&i[e].it?this.calculateBoundingBox(i[e].it,t):i[e]&&i[e].style&&i[e].w&&this.expandStrokeBoundingBox(i[e].w,t)},HShapeElement.prototype.expandStrokeBoundingBox=function(i,t){var e=0;if(i.keyframes){for(var n=0;n<i.keyframes.length;n+=1){var a=i.keyframes[n].s;a>e&&(e=a)}e*=i.mult}else e=i.v*i.mult;t.x-=e,t.xMax+=e,t.y-=e,t.yMax+=e},HShapeElement.prototype.currentBoxContains=function(i){return this.currentBBox.x<=i.x&&this.currentBBox.y<=i.y&&this.currentBBox.width+this.currentBBox.x>=i.x+i.width&&this.currentBBox.height+this.currentBBox.y>=i.y+i.height},HShapeElement.prototype.renderInnerContent=function(){if(this._renderShapeFrame(),!this.hidden&&(this._isFirstFrame||this._mdf)){var i=this.tempBoundingBox,t=999999;if(i.x=t,i.xMax=-t,i.y=t,i.yMax=-t,this.calculateBoundingBox(this.itemsData,i),i.width=i.xMax<i.x?0:i.xMax-i.x,i.height=i.yMax<i.y?0:i.yMax-i.y,this.currentBoxContains(i))return;var e=!1;if(this.currentBBox.w!==i.width&&(this.currentBBox.w=i.width,this.shapeCont.setAttribute("width",i.width),e=!0),this.currentBBox.h!==i.height&&(this.currentBBox.h=i.height,this.shapeCont.setAttribute("height",i.height),e=!0),e||this.currentBBox.x!==i.x||this.currentBBox.y!==i.y){this.currentBBox.w=i.width,this.currentBBox.h=i.height,this.currentBBox.x=i.x,this.currentBBox.y=i.y,this.shapeCont.setAttribute("viewBox",this.currentBBox.x+" "+this.currentBBox.y+" "+this.currentBBox.w+" "+this.currentBBox.h);var n=this.shapeCont.style,a="translate("+this.currentBBox.x+"px,"+this.currentBBox.y+"px)";n.transform=a,n.webkitTransform=a}}};function HTextElement(i,t,e){this.textSpans=[],this.textPaths=[],this.currentBBox={x:999999,y:-999999,h:0,w:0},this.renderType="svg",this.isMasked=!1,this.initElement(i,t,e)}extendPrototype([BaseElement,TransformElement,HBaseElement,HierarchyElement,FrameElement,RenderableDOMElement,ITextElement],HTextElement),HTextElement.prototype.createContent=function(){if(this.isMasked=this.checkMasks(),this.isMasked){this.renderType="svg",this.compW=this.comp.data.w,this.compH=this.comp.data.h,this.svgElement.setAttribute("width",this.compW),this.svgElement.setAttribute("height",this.compH);var i=createNS("g");this.maskedElement.appendChild(i),this.innerElem=i}else this.renderType="html",this.innerElem=this.layerElement;this.checkParenting()},HTextElement.prototype.buildNewText=function(){var i=this.textProperty.currentData;this.renderedLetters=createSizedArray(i.l?i.l.length:0);var t=this.innerElem.style,e=i.fc?this.buildColor(i.fc):"rgba(0,0,0,0)";t.fill=e,t.color=e,i.sc&&(t.stroke=this.buildColor(i.sc),t.strokeWidth=i.sw+"px");var n=this.globalData.fontManager.getFontByName(i.f);if(!this.globalData.fontManager.chars)if(t.fontSize=i.finalSize+"px",t.lineHeight=i.finalSize+"px",n.fClass)this.innerElem.className=n.fClass;else{t.fontFamily=n.fFamily;var a=i.fWeight,l=i.fStyle;t.fontStyle=l,t.fontWeight=a}var c,f,d=i.l;f=d.length;var m,y,A,b=this.mHelper,x,E="",T=0;for(c=0;c<f;c+=1){if(this.globalData.fontManager.chars?(this.textPaths[T]?m=this.textPaths[T]:(m=createNS("path"),m.setAttribute("stroke-linecap",lineCapEnum[1]),m.setAttribute("stroke-linejoin",lineJoinEnum[2]),m.setAttribute("stroke-miterlimit","4")),this.isMasked||(this.textSpans[T]?(y=this.textSpans[T],A=y.children[0]):(y=createTag("div"),y.style.lineHeight=0,A=createNS("svg"),A.appendChild(m),styleDiv(y)))):this.isMasked?m=this.textPaths[T]?this.textPaths[T]:createNS("text"):this.textSpans[T]?(y=this.textSpans[T],m=this.textPaths[T]):(y=createTag("span"),styleDiv(y),m=createTag("span"),styleDiv(m),y.appendChild(m)),this.globalData.fontManager.chars){var k=this.globalData.fontManager.getCharData(i.finalText[c],n.fStyle,this.globalData.fontManager.getFontByName(i.f).fFamily),S;if(k?S=k.data:S=null,b.reset(),S&&S.shapes&&S.shapes.length&&(x=S.shapes[0].it,b.scale(i.finalSize/100,i.finalSize/100),E=this.createPathShape(b,x),m.setAttribute("d",E)),this.isMasked)this.innerElem.appendChild(m);else{if(this.innerElem.appendChild(y),S&&S.shapes){document.body.appendChild(A);var M=A.getBBox();A.setAttribute("width",M.width+2),A.setAttribute("height",M.height+2),A.setAttribute("viewBox",M.x-1+" "+(M.y-1)+" "+(M.width+2)+" "+(M.height+2));var P=A.style,R="translate("+(M.x-1)+"px,"+(M.y-1)+"px)";P.transform=R,P.webkitTransform=R,d[c].yOffset=M.y-1}else A.setAttribute("width",1),A.setAttribute("height",1);y.appendChild(A)}}else if(m.textContent=d[c].val,m.setAttributeNS("http://www.w3.org/XML/1998/namespace","xml:space","preserve"),this.isMasked)this.innerElem.appendChild(m);else{this.innerElem.appendChild(y);var D=m.style,L="translate3d(0,"+-i.finalSize/1.2+"px,0)";D.transform=L,D.webkitTransform=L}this.isMasked?this.textSpans[T]=m:this.textSpans[T]=y,this.textSpans[T].style.display="block",this.textPaths[T]=m,T+=1}for(;T<this.textSpans.length;)this.textSpans[T].style.display="none",T+=1},HTextElement.prototype.renderInnerContent=function(){this.validateText();var i;if(this.data.singleShape){if(!this._isFirstFrame&&!this.lettersChangedFlag)return;if(this.isMasked&&this.finalTransform._matMdf){this.svgElement.setAttribute("viewBox",-this.finalTransform.mProp.p.v[0]+" "+-this.finalTransform.mProp.p.v[1]+" "+this.compW+" "+this.compH),i=this.svgElement.style;var t="translate("+-this.finalTransform.mProp.p.v[0]+"px,"+-this.finalTransform.mProp.p.v[1]+"px)";i.transform=t,i.webkitTransform=t}}if(this.textAnimator.getMeasures(this.textProperty.currentData,this.lettersChangedFlag),!(!this.lettersChangedFlag&&!this.textAnimator.lettersChangedFlag)){var e,n,a=0,l=this.textAnimator.renderedLetters,c=this.textProperty.currentData.l;n=c.length;var f,d,m;for(e=0;e<n;e+=1)c[e].n?a+=1:(d=this.textSpans[e],m=this.textPaths[e],f=l[a],a+=1,f._mdf.m&&(this.isMasked?d.setAttribute("transform",f.m):(d.style.webkitTransform=f.m,d.style.transform=f.m)),d.style.opacity=f.o,f.sw&&f._mdf.sw&&m.setAttribute("stroke-width",f.sw),f.sc&&f._mdf.sc&&m.setAttribute("stroke",f.sc),f.fc&&f._mdf.fc&&(m.setAttribute("fill",f.fc),m.style.color=f.fc));if(this.innerElem.getBBox&&!this.hidden&&(this._isFirstFrame||this._mdf)){var y=this.innerElem.getBBox();this.currentBBox.w!==y.width&&(this.currentBBox.w=y.width,this.svgElement.setAttribute("width",y.width)),this.currentBBox.h!==y.height&&(this.currentBBox.h=y.height,this.svgElement.setAttribute("height",y.height));var A=1;if(this.currentBBox.w!==y.width+A*2||this.currentBBox.h!==y.height+A*2||this.currentBBox.x!==y.x-A||this.currentBBox.y!==y.y-A){this.currentBBox.w=y.width+A*2,this.currentBBox.h=y.height+A*2,this.currentBBox.x=y.x-A,this.currentBBox.y=y.y-A,this.svgElement.setAttribute("viewBox",this.currentBBox.x+" "+this.currentBBox.y+" "+this.currentBBox.w+" "+this.currentBBox.h),i=this.svgElement.style;var b="translate("+this.currentBBox.x+"px,"+this.currentBBox.y+"px)";i.transform=b,i.webkitTransform=b}}}};function HCameraElement(i,t,e){this.initFrame(),this.initBaseData(i,t,e),this.initHierarchy();var n=PropertyFactory.getProp;if(this.pe=n(this,i.pe,0,0,this),i.ks.p.s?(this.px=n(this,i.ks.p.x,1,0,this),this.py=n(this,i.ks.p.y,1,0,this),this.pz=n(this,i.ks.p.z,1,0,this)):this.p=n(this,i.ks.p,1,0,this),i.ks.a&&(this.a=n(this,i.ks.a,1,0,this)),i.ks.or.k.length&&i.ks.or.k[0].to){var a,l=i.ks.or.k.length;for(a=0;a<l;a+=1)i.ks.or.k[a].to=null,i.ks.or.k[a].ti=null}this.or=n(this,i.ks.or,1,degToRads,this),this.or.sh=!0,this.rx=n(this,i.ks.rx,0,degToRads,this),this.ry=n(this,i.ks.ry,0,degToRads,this),this.rz=n(this,i.ks.rz,0,degToRads,this),this.mat=new Matrix,this._prevMat=new Matrix,this._isFirstFrame=!0,this.finalTransform={mProp:this}}extendPrototype([BaseElement,FrameElement,HierarchyElement],HCameraElement),HCameraElement.prototype.setup=function(){var i,t=this.comp.threeDElements.length,e,n,a;for(i=0;i<t;i+=1)if(e=this.comp.threeDElements[i],e.type==="3d"){n=e.perspectiveElem.style,a=e.container.style;var l=this.pe.v+"px",c="0px 0px 0px",f="matrix3d(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1)";n.perspective=l,n.webkitPerspective=l,a.transformOrigin=c,a.mozTransformOrigin=c,a.webkitTransformOrigin=c,n.transform=f,n.webkitTransform=f}},HCameraElement.prototype.createElements=function(){},HCameraElement.prototype.hide=function(){},HCameraElement.prototype.renderFrame=function(){var i=this._isFirstFrame,t,e;if(this.hierarchy)for(e=this.hierarchy.length,t=0;t<e;t+=1)i=this.hierarchy[t].finalTransform.mProp._mdf||i;if(i||this.pe._mdf||this.p&&this.p._mdf||this.px&&(this.px._mdf||this.py._mdf||this.pz._mdf)||this.rx._mdf||this.ry._mdf||this.rz._mdf||this.or._mdf||this.a&&this.a._mdf){if(this.mat.reset(),this.hierarchy)for(e=this.hierarchy.length-1,t=e;t>=0;t-=1){var n=this.hierarchy[t].finalTransform.mProp;this.mat.translate(-n.p.v[0],-n.p.v[1],n.p.v[2]),this.mat.rotateX(-n.or.v[0]).rotateY(-n.or.v[1]).rotateZ(n.or.v[2]),this.mat.rotateX(-n.rx.v).rotateY(-n.ry.v).rotateZ(n.rz.v),this.mat.scale(1/n.s.v[0],1/n.s.v[1],1/n.s.v[2]),this.mat.translate(n.a.v[0],n.a.v[1],n.a.v[2])}if(this.p?this.mat.translate(-this.p.v[0],-this.p.v[1],this.p.v[2]):this.mat.translate(-this.px.v,-this.py.v,this.pz.v),this.a){var a;this.p?a=[this.p.v[0]-this.a.v[0],this.p.v[1]-this.a.v[1],this.p.v[2]-this.a.v[2]]:a=[this.px.v-this.a.v[0],this.py.v-this.a.v[1],this.pz.v-this.a.v[2]];var l=Math.sqrt(Math.pow(a[0],2)+Math.pow(a[1],2)+Math.pow(a[2],2)),c=[a[0]/l,a[1]/l,a[2]/l],f=Math.sqrt(c[2]*c[2]+c[0]*c[0]),d=Math.atan2(c[1],f),m=Math.atan2(c[0],-c[2]);this.mat.rotateY(m).rotateX(-d)}this.mat.rotateX(-this.rx.v).rotateY(-this.ry.v).rotateZ(this.rz.v),this.mat.rotateX(-this.or.v[0]).rotateY(-this.or.v[1]).rotateZ(this.or.v[2]),this.mat.translate(this.globalData.compSize.w/2,this.globalData.compSize.h/2,0),this.mat.translate(0,0,this.pe.v);var y=!this._prevMat.equals(this.mat);if((y||this.pe._mdf)&&this.comp.threeDElements){e=this.comp.threeDElements.length;var A,b,x;for(t=0;t<e;t+=1)if(A=this.comp.threeDElements[t],A.type==="3d"){if(y){var E=this.mat.toCSS();x=A.container.style,x.transform=E,x.webkitTransform=E}this.pe._mdf&&(b=A.perspectiveElem.style,b.perspective=this.pe.v+"px",b.webkitPerspective=this.pe.v+"px")}this.mat.clone(this._prevMat)}}this._isFirstFrame=!1},HCameraElement.prototype.prepareFrame=function(i){this.prepareProperties(i,!0)},HCameraElement.prototype.destroy=function(){},HCameraElement.prototype.getBaseElement=function(){return null};function HImageElement(i,t,e){this.assetData=t.getAssetData(i.refId),this.initElement(i,t,e)}extendPrototype([BaseElement,TransformElement,HBaseElement,HSolidElement,HierarchyElement,FrameElement,RenderableElement],HImageElement),HImageElement.prototype.createContent=function(){var i=this.globalData.getAssetsPath(this.assetData),t=new Image;this.data.hasMask?(this.imageElem=createNS("image"),this.imageElem.setAttribute("width",this.assetData.w+"px"),this.imageElem.setAttribute("height",this.assetData.h+"px"),this.imageElem.setAttributeNS("http://www.w3.org/1999/xlink","href",i),this.layerElement.appendChild(this.imageElem),this.baseElement.setAttribute("width",this.assetData.w),this.baseElement.setAttribute("height",this.assetData.h)):this.layerElement.appendChild(t),t.crossOrigin="anonymous",t.src=i,this.data.ln&&this.baseElement.setAttribute("id",this.data.ln)};function HybridRendererBase(i,t){this.animationItem=i,this.layers=null,this.renderedFrame=-1,this.renderConfig={className:t&&t.className||"",imagePreserveAspectRatio:t&&t.imagePreserveAspectRatio||"xMidYMid slice",hideOnTransparent:!(t&&t.hideOnTransparent===!1),filterSize:{width:t&&t.filterSize&&t.filterSize.width||"400%",height:t&&t.filterSize&&t.filterSize.height||"400%",x:t&&t.filterSize&&t.filterSize.x||"-100%",y:t&&t.filterSize&&t.filterSize.y||"-100%"}},this.globalData={_mdf:!1,frameNum:-1,renderConfig:this.renderConfig},this.pendingElements=[],this.elements=[],this.threeDElements=[],this.destroyed=!1,this.camera=null,this.supports3d=!0,this.rendererType="html"}extendPrototype([BaseRenderer],HybridRendererBase),HybridRendererBase.prototype.buildItem=SVGRenderer.prototype.buildItem,HybridRendererBase.prototype.checkPendingElements=function(){for(;this.pendingElements.length;){var i=this.pendingElements.pop();i.checkParenting()}},HybridRendererBase.prototype.appendElementInPos=function(i,t){var e=i.getBaseElement();if(e){var n=this.layers[t];if(!n.ddd||!this.supports3d)if(this.threeDElements)this.addTo3dContainer(e,t);else{for(var a=0,l,c,f;a<t;)this.elements[a]&&this.elements[a]!==!0&&this.elements[a].getBaseElement&&(c=this.elements[a],f=this.layers[a].ddd?this.getThreeDContainerByPos(a):c.getBaseElement(),l=f||l),a+=1;l?(!n.ddd||!this.supports3d)&&this.layerElement.insertBefore(e,l):(!n.ddd||!this.supports3d)&&this.layerElement.appendChild(e)}else this.addTo3dContainer(e,t)}},HybridRendererBase.prototype.createShape=function(i){return this.supports3d?new HShapeElement(i,this.globalData,this):new SVGShapeElement(i,this.globalData,this)},HybridRendererBase.prototype.createText=function(i){return this.supports3d?new HTextElement(i,this.globalData,this):new SVGTextLottieElement(i,this.globalData,this)},HybridRendererBase.prototype.createCamera=function(i){return this.camera=new HCameraElement(i,this.globalData,this),this.camera},HybridRendererBase.prototype.createImage=function(i){return this.supports3d?new HImageElement(i,this.globalData,this):new IImageElement(i,this.globalData,this)},HybridRendererBase.prototype.createSolid=function(i){return this.supports3d?new HSolidElement(i,this.globalData,this):new ISolidElement(i,this.globalData,this)},HybridRendererBase.prototype.createNull=SVGRenderer.prototype.createNull,HybridRendererBase.prototype.getThreeDContainerByPos=function(i){for(var t=0,e=this.threeDElements.length;t<e;){if(this.threeDElements[t].startPos<=i&&this.threeDElements[t].endPos>=i)return this.threeDElements[t].perspectiveElem;t+=1}return null},HybridRendererBase.prototype.createThreeDContainer=function(i,t){var e=createTag("div"),n,a;styleDiv(e);var l=createTag("div");if(styleDiv(l),t==="3d"){n=e.style,n.width=this.globalData.compSize.w+"px",n.height=this.globalData.compSize.h+"px";var c="50% 50%";n.webkitTransformOrigin=c,n.mozTransformOrigin=c,n.transformOrigin=c,a=l.style;var f="matrix3d(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1)";a.transform=f,a.webkitTransform=f}e.appendChild(l);var d={container:l,perspectiveElem:e,startPos:i,endPos:i,type:t};return this.threeDElements.push(d),d},HybridRendererBase.prototype.build3dContainers=function(){var i,t=this.layers.length,e,n="";for(i=0;i<t;i+=1)this.layers[i].ddd&&this.layers[i].ty!==3?(n!=="3d"&&(n="3d",e=this.createThreeDContainer(i,"3d")),e.endPos=Math.max(e.endPos,i)):(n!=="2d"&&(n="2d",e=this.createThreeDContainer(i,"2d")),e.endPos=Math.max(e.endPos,i));for(t=this.threeDElements.length,i=t-1;i>=0;i-=1)this.resizerElem.appendChild(this.threeDElements[i].perspectiveElem)},HybridRendererBase.prototype.addTo3dContainer=function(i,t){for(var e=0,n=this.threeDElements.length;e<n;){if(t<=this.threeDElements[e].endPos){for(var a=this.threeDElements[e].startPos,l;a<t;)this.elements[a]&&this.elements[a].getBaseElement&&(l=this.elements[a].getBaseElement()),a+=1;l?this.threeDElements[e].container.insertBefore(i,l):this.threeDElements[e].container.appendChild(i);break}e+=1}},HybridRendererBase.prototype.configAnimation=function(i){var t=createTag("div"),e=this.animationItem.wrapper,n=t.style;n.width=i.w+"px",n.height=i.h+"px",this.resizerElem=t,styleDiv(t),n.transformStyle="flat",n.mozTransformStyle="flat",n.webkitTransformStyle="flat",this.renderConfig.className&&t.setAttribute("class",this.renderConfig.className),e.appendChild(t),n.overflow="hidden";var a=createNS("svg");a.setAttribute("width","1"),a.setAttribute("height","1"),styleDiv(a),this.resizerElem.appendChild(a);var l=createNS("defs");a.appendChild(l),this.data=i,this.setupGlobalData(i,a),this.globalData.defs=l,this.layers=i.layers,this.layerElement=this.resizerElem,this.build3dContainers(),this.updateContainerSize()},HybridRendererBase.prototype.destroy=function(){this.animationItem.wrapper&&(this.animationItem.wrapper.innerText=""),this.animationItem.container=null,this.globalData.defs=null;var i,t=this.layers?this.layers.length:0;for(i=0;i<t;i+=1)this.elements[i]&&this.elements[i].destroy&&this.elements[i].destroy();this.elements.length=0,this.destroyed=!0,this.animationItem=null},HybridRendererBase.prototype.updateContainerSize=function(){var i=this.animationItem.wrapper.offsetWidth,t=this.animationItem.wrapper.offsetHeight,e=i/t,n=this.globalData.compSize.w/this.globalData.compSize.h,a,l,c,f;n>e?(a=i/this.globalData.compSize.w,l=i/this.globalData.compSize.w,c=0,f=(t-this.globalData.compSize.h*(i/this.globalData.compSize.w))/2):(a=t/this.globalData.compSize.h,l=t/this.globalData.compSize.h,c=(i-this.globalData.compSize.w*(t/this.globalData.compSize.h))/2,f=0);var d=this.resizerElem.style;d.webkitTransform="matrix3d("+a+",0,0,0,0,"+l+",0,0,0,0,1,0,"+c+","+f+",0,1)",d.transform=d.webkitTransform},HybridRendererBase.prototype.renderFrame=SVGRenderer.prototype.renderFrame,HybridRendererBase.prototype.hide=function(){this.resizerElem.style.display="none"},HybridRendererBase.prototype.show=function(){this.resizerElem.style.display="block"},HybridRendererBase.prototype.initItems=function(){if(this.buildAllItems(),this.camera)this.camera.setup();else{var i=this.globalData.compSize.w,t=this.globalData.compSize.h,e,n=this.threeDElements.length;for(e=0;e<n;e+=1){var a=this.threeDElements[e].perspectiveElem.style;a.webkitPerspective=Math.sqrt(Math.pow(i,2)+Math.pow(t,2))+"px",a.perspective=a.webkitPerspective}}},HybridRendererBase.prototype.searchExtraCompositions=function(i){var t,e=i.length,n=createTag("div");for(t=0;t<e;t+=1)if(i[t].xt){var a=this.createComp(i[t],n,this.globalData.comp,null);a.initExpressions(),this.globalData.projectInterface.registerComposition(a)}};function HCompElement(i,t,e){this.layers=i.layers,this.supports3d=!i.hasMask,this.completeLayers=!1,this.pendingElements=[],this.elements=this.layers?createSizedArray(this.layers.length):[],this.initElement(i,t,e),this.tm=i.tm?PropertyFactory.getProp(this,i.tm,0,t.frameRate,this):{_placeholder:!0}}extendPrototype([HybridRendererBase,ICompElement,HBaseElement],HCompElement),HCompElement.prototype._createBaseContainerElements=HCompElement.prototype.createContainerElements,HCompElement.prototype.createContainerElements=function(){this._createBaseContainerElements(),this.data.hasMask?(this.svgElement.setAttribute("width",this.data.w),this.svgElement.setAttribute("height",this.data.h),this.transformedElement=this.baseElement):this.transformedElement=this.layerElement},HCompElement.prototype.addTo3dContainer=function(i,t){for(var e=0,n;e<t;)this.elements[e]&&this.elements[e].getBaseElement&&(n=this.elements[e].getBaseElement()),e+=1;n?this.layerElement.insertBefore(i,n):this.layerElement.appendChild(i)},HCompElement.prototype.createComp=function(i){return this.supports3d?new HCompElement(i,this.globalData,this):new SVGCompElement(i,this.globalData,this)};function HybridRenderer(i,t){this.animationItem=i,this.layers=null,this.renderedFrame=-1,this.renderConfig={className:t&&t.className||"",imagePreserveAspectRatio:t&&t.imagePreserveAspectRatio||"xMidYMid slice",hideOnTransparent:!(t&&t.hideOnTransparent===!1),filterSize:{width:t&&t.filterSize&&t.filterSize.width||"400%",height:t&&t.filterSize&&t.filterSize.height||"400%",x:t&&t.filterSize&&t.filterSize.x||"-100%",y:t&&t.filterSize&&t.filterSize.y||"-100%"},runExpressions:!t||t.runExpressions===void 0||t.runExpressions},this.globalData={_mdf:!1,frameNum:-1,renderConfig:this.renderConfig},this.pendingElements=[],this.elements=[],this.threeDElements=[],this.destroyed=!1,this.camera=null,this.supports3d=!0,this.rendererType="html"}extendPrototype([HybridRendererBase],HybridRenderer),HybridRenderer.prototype.createComp=function(i){return this.supports3d?new HCompElement(i,this.globalData,this):new SVGCompElement(i,this.globalData,this)};var CompExpressionInterface=function(){return function(i){function t(e){for(var n=0,a=i.layers.length;n<a;){if(i.layers[n].nm===e||i.layers[n].ind===e)return i.elements[n].layerInterface;n+=1}return null}return Object.defineProperty(t,"_name",{value:i.data.nm}),t.layer=t,t.pixelAspect=1,t.height=i.data.h||i.globalData.compSize.h,t.width=i.data.w||i.globalData.compSize.w,t.pixelAspect=1,t.frameDuration=1/i.globalData.frameRate,t.displayStartTime=0,t.numLayers=i.layers.length,t}}();function _typeof$2(i){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?_typeof$2=function(e){return typeof e}:_typeof$2=function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_typeof$2(i)}function seedRandom(i,t){var e=this,n=256,a=6,l=52,c="random",f=t.pow(n,a),d=t.pow(2,l),m=d*2,y=n-1,A;function b(P,R,D){var L=[];R=R===!0?{entropy:!0}:R||{};var G=k(T(R.entropy?[P,M(i)]:P===null?S():P,3),L),q=new x(L),X=function(){for(var et=q.g(a),it=f,lt=0;et<d;)et=(et+lt)*n,it*=n,lt=q.g(1);for(;et>=m;)et/=2,it/=2,lt>>>=1;return(et+lt)/it};return X.int32=function(){return q.g(4)|0},X.quick=function(){return q.g(4)/4294967296},X.double=X,k(M(q.S),i),(R.pass||D||function(J,et,it,lt){return lt&&(lt.S&&E(lt,q),J.state=function(){return E(q,{})}),it?(t[c]=J,et):J})(X,G,"global"in R?R.global:this==t,R.state)}t["seed"+c]=b;function x(P){var R,D=P.length,L=this,G=0,q=L.i=L.j=0,X=L.S=[];for(D||(P=[D++]);G<n;)X[G]=G++;for(G=0;G<n;G++)X[G]=X[q=y&q+P[G%D]+(R=X[G])],X[q]=R;L.g=function(J){for(var et,it=0,lt=L.i,tt=L.j,W=L.S;J--;)et=W[lt=y&lt+1],it=it*n+W[y&(W[lt]=W[tt=y&tt+et])+(W[tt]=et)];return L.i=lt,L.j=tt,it}}function E(P,R){return R.i=P.i,R.j=P.j,R.S=P.S.slice(),R}function T(P,R){var D=[],L=_typeof$2(P),G;if(R&&L=="object")for(G in P)try{D.push(T(P[G],R-1))}catch{}return D.length?D:L=="string"?P:P+"\0"}function k(P,R){for(var D=P+"",L,G=0;G<D.length;)R[y&G]=y&(L^=R[y&G]*19)+D.charCodeAt(G++);return M(R)}function S(){try{var P=new Uint8Array(n);return(e.crypto||e.msCrypto).getRandomValues(P),M(P)}catch{var R=e.navigator,D=R&&R.plugins;return[+new Date,e,D,e.screen,M(i)]}}function M(P){return String.fromCharCode.apply(0,P)}k(t.random(),i)}function initialize$2(i){seedRandom([],i)}var propTypes={SHAPE:"shape"};function _typeof$1(i){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?_typeof$1=function(e){return typeof e}:_typeof$1=function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_typeof$1(i)}var ExpressionManager=function(){var ob={},Math=BMMath,window=null,document=null,XMLHttpRequest=null,fetch=null,frames=null,_lottieGlobal={};initialize$2(BMMath);function resetFrame(){_lottieGlobal={}}function $bm_isInstanceOfArray(i){return i.constructor===Array||i.constructor===Float32Array}function isNumerable(i,t){return i==="number"||t instanceof Number||i==="boolean"||i==="string"}function $bm_neg(i){var t=_typeof$1(i);if(t==="number"||i instanceof Number||t==="boolean")return-i;if($bm_isInstanceOfArray(i)){var e,n=i.length,a=[];for(e=0;e<n;e+=1)a[e]=-i[e];return a}return i.propType?i.v:-i}var easeInBez=BezierFactory.getBezierEasing(.333,0,.833,.833,"easeIn").get,easeOutBez=BezierFactory.getBezierEasing(.167,.167,.667,1,"easeOut").get,easeInOutBez=BezierFactory.getBezierEasing(.33,0,.667,1,"easeInOut").get;function sum(i,t){var e=_typeof$1(i),n=_typeof$1(t);if(isNumerable(e,i)&&isNumerable(n,t)||e==="string"||n==="string")return i+t;if($bm_isInstanceOfArray(i)&&isNumerable(n,t))return i=i.slice(0),i[0]+=t,i;if(isNumerable(e,i)&&$bm_isInstanceOfArray(t))return t=t.slice(0),t[0]=i+t[0],t;if($bm_isInstanceOfArray(i)&&$bm_isInstanceOfArray(t)){for(var a=0,l=i.length,c=t.length,f=[];a<l||a<c;)(typeof i[a]=="number"||i[a]instanceof Number)&&(typeof t[a]=="number"||t[a]instanceof Number)?f[a]=i[a]+t[a]:f[a]=t[a]===void 0?i[a]:i[a]||t[a],a+=1;return f}return 0}var add=sum;function sub(i,t){var e=_typeof$1(i),n=_typeof$1(t);if(isNumerable(e,i)&&isNumerable(n,t))return e==="string"&&(i=parseInt(i,10)),n==="string"&&(t=parseInt(t,10)),i-t;if($bm_isInstanceOfArray(i)&&isNumerable(n,t))return i=i.slice(0),i[0]-=t,i;if(isNumerable(e,i)&&$bm_isInstanceOfArray(t))return t=t.slice(0),t[0]=i-t[0],t;if($bm_isInstanceOfArray(i)&&$bm_isInstanceOfArray(t)){for(var a=0,l=i.length,c=t.length,f=[];a<l||a<c;)(typeof i[a]=="number"||i[a]instanceof Number)&&(typeof t[a]=="number"||t[a]instanceof Number)?f[a]=i[a]-t[a]:f[a]=t[a]===void 0?i[a]:i[a]||t[a],a+=1;return f}return 0}function mul(i,t){var e=_typeof$1(i),n=_typeof$1(t),a;if(isNumerable(e,i)&&isNumerable(n,t))return i*t;var l,c;if($bm_isInstanceOfArray(i)&&isNumerable(n,t)){for(c=i.length,a=createTypedArray("float32",c),l=0;l<c;l+=1)a[l]=i[l]*t;return a}if(isNumerable(e,i)&&$bm_isInstanceOfArray(t)){for(c=t.length,a=createTypedArray("float32",c),l=0;l<c;l+=1)a[l]=i*t[l];return a}return 0}function div(i,t){var e=_typeof$1(i),n=_typeof$1(t),a;if(isNumerable(e,i)&&isNumerable(n,t))return i/t;var l,c;if($bm_isInstanceOfArray(i)&&isNumerable(n,t)){for(c=i.length,a=createTypedArray("float32",c),l=0;l<c;l+=1)a[l]=i[l]/t;return a}if(isNumerable(e,i)&&$bm_isInstanceOfArray(t)){for(c=t.length,a=createTypedArray("float32",c),l=0;l<c;l+=1)a[l]=i/t[l];return a}return 0}function mod(i,t){return typeof i=="string"&&(i=parseInt(i,10)),typeof t=="string"&&(t=parseInt(t,10)),i%t}var $bm_sum=sum,$bm_sub=sub,$bm_mul=mul,$bm_div=div,$bm_mod=mod;function clamp(i,t,e){if(t>e){var n=e;e=t,t=n}return Math.min(Math.max(i,t),e)}function radiansToDegrees(i){return i/degToRads}var radians_to_degrees=radiansToDegrees;function degreesToRadians(i){return i*degToRads}var degrees_to_radians=radiansToDegrees,helperLengthArray=[0,0,0,0,0,0];function length(i,t){if(typeof i=="number"||i instanceof Number)return t=t||0,Math.abs(i-t);t||(t=helperLengthArray);var e,n=Math.min(i.length,t.length),a=0;for(e=0;e<n;e+=1)a+=Math.pow(t[e]-i[e],2);return Math.sqrt(a)}function normalize(i){return div(i,length(i))}function rgbToHsl(i){var t=i[0],e=i[1],n=i[2],a=Math.max(t,e,n),l=Math.min(t,e,n),c,f,d=(a+l)/2;if(a===l)c=0,f=0;else{var m=a-l;switch(f=d>.5?m/(2-a-l):m/(a+l),a){case t:c=(e-n)/m+(e<n?6:0);break;case e:c=(n-t)/m+2;break;case n:c=(t-e)/m+4;break}c/=6}return[c,f,d,i[3]]}function hue2rgb(i,t,e){return e<0&&(e+=1),e>1&&(e-=1),e<1/6?i+(t-i)*6*e:e<1/2?t:e<2/3?i+(t-i)*(2/3-e)*6:i}function hslToRgb(i){var t=i[0],e=i[1],n=i[2],a,l,c;if(e===0)a=n,c=n,l=n;else{var f=n<.5?n*(1+e):n+e-n*e,d=2*n-f;a=hue2rgb(d,f,t+1/3),l=hue2rgb(d,f,t),c=hue2rgb(d,f,t-1/3)}return[a,l,c,i[3]]}function linear(i,t,e,n,a){if((n===void 0||a===void 0)&&(n=t,a=e,t=0,e=1),e<t){var l=e;e=t,t=l}if(i<=t)return n;if(i>=e)return a;var c=e===t?0:(i-t)/(e-t);if(!n.length)return n+(a-n)*c;var f,d=n.length,m=createTypedArray("float32",d);for(f=0;f<d;f+=1)m[f]=n[f]+(a[f]-n[f])*c;return m}function random(i,t){if(t===void 0&&(i===void 0?(i=0,t=1):(t=i,i=void 0)),t.length){var e,n=t.length;i||(i=createTypedArray("float32",n));var a=createTypedArray("float32",n),l=BMMath.random();for(e=0;e<n;e+=1)a[e]=i[e]+l*(t[e]-i[e]);return a}i===void 0&&(i=0);var c=BMMath.random();return i+c*(t-i)}function createPath(i,t,e,n){var a,l=i.length,c=shapePool.newElement();c.setPathData(!!n,l);var f=[0,0],d,m;for(a=0;a<l;a+=1)d=t&&t[a]?t[a]:f,m=e&&e[a]?e[a]:f,c.setTripleAt(i[a][0],i[a][1],m[0]+i[a][0],m[1]+i[a][1],d[0]+i[a][0],d[1]+i[a][1],a,!0);return c}function initiateExpression(elem,data,property){function noOp(i){return i}if(!elem.globalData.renderConfig.runExpressions)return noOp;var val=data.x,needsVelocity=/velocity(?![\w\d])/.test(val),_needsRandom=val.indexOf("random")!==-1,elemType=elem.data.ty,transform,$bm_transform,content,effect,thisProperty=property;thisProperty.valueAtTime=thisProperty.getValueAtTime,Object.defineProperty(thisProperty,"value",{get:function(){return thisProperty.v}}),elem.comp.frameDuration=1/elem.comp.globalData.frameRate,elem.comp.displayStartTime=0;var inPoint=elem.data.ip/elem.comp.globalData.frameRate,outPoint=elem.data.op/elem.comp.globalData.frameRate,width=elem.data.sw?elem.data.sw:0,height=elem.data.sh?elem.data.sh:0,name=elem.data.nm,loopIn,loop_in,loopOut,loop_out,smooth,toWorld,fromWorld,fromComp,toComp,fromCompToSurface,position,rotation,anchorPoint,scale,thisLayer,thisComp,mask,valueAtTime,velocityAtTime,scoped_bm_rt,expression_function=eval("[function _expression_function(){"+val+";scoped_bm_rt=$bm_rt}]")[0],numKeys=property.kf?data.k.length:0,active=!this.data||this.data.hd!==!0,wiggle=(function i(t,e){var n,a,l=this.pv.length?this.pv.length:1,c=createTypedArray("float32",l);t=5;var f=Math.floor(time*t);for(n=0,a=0;n<f;){for(a=0;a<l;a+=1)c[a]+=-e+e*2*BMMath.random();n+=1}var d=time*t,m=d-Math.floor(d),y=createTypedArray("float32",l);if(l>1){for(a=0;a<l;a+=1)y[a]=this.pv[a]+c[a]+(-e+e*2*BMMath.random())*m;return y}return this.pv+c[0]+(-e+e*2*BMMath.random())*m}).bind(this);thisProperty.loopIn&&(loopIn=thisProperty.loopIn.bind(thisProperty),loop_in=loopIn),thisProperty.loopOut&&(loopOut=thisProperty.loopOut.bind(thisProperty),loop_out=loopOut),thisProperty.smooth&&(smooth=thisProperty.smooth.bind(thisProperty));function loopInDuration(i,t){return loopIn(i,t,!0)}function loopOutDuration(i,t){return loopOut(i,t,!0)}this.getValueAtTime&&(valueAtTime=this.getValueAtTime.bind(this)),this.getVelocityAtTime&&(velocityAtTime=this.getVelocityAtTime.bind(this));var comp=elem.comp.globalData.projectInterface.bind(elem.comp.globalData.projectInterface);function lookAt(i,t){var e=[t[0]-i[0],t[1]-i[1],t[2]-i[2]],n=Math.atan2(e[0],Math.sqrt(e[1]*e[1]+e[2]*e[2]))/degToRads,a=-Math.atan2(e[1],e[2])/degToRads;return[a,n,0]}function easeOut(i,t,e,n,a){return applyEase(easeOutBez,i,t,e,n,a)}function easeIn(i,t,e,n,a){return applyEase(easeInBez,i,t,e,n,a)}function ease(i,t,e,n,a){return applyEase(easeInOutBez,i,t,e,n,a)}function applyEase(i,t,e,n,a,l){a===void 0?(a=e,l=n):t=(t-e)/(n-e),t>1?t=1:t<0&&(t=0);var c=i(t);if($bm_isInstanceOfArray(a)){var f,d=a.length,m=createTypedArray("float32",d);for(f=0;f<d;f+=1)m[f]=(l[f]-a[f])*c+a[f];return m}return(l-a)*c+a}function nearestKey(i){var t,e=data.k.length,n,a;if(!data.k.length||typeof data.k[0]=="number")n=0,a=0;else if(n=-1,i*=elem.comp.globalData.frameRate,i<data.k[0].t)n=1,a=data.k[0].t;else{for(t=0;t<e-1;t+=1)if(i===data.k[t].t){n=t+1,a=data.k[t].t;break}else if(i>data.k[t].t&&i<data.k[t+1].t){i-data.k[t].t>data.k[t+1].t-i?(n=t+2,a=data.k[t+1].t):(n=t+1,a=data.k[t].t);break}n===-1&&(n=t+1,a=data.k[t].t)}var l={};return l.index=n,l.time=a/elem.comp.globalData.frameRate,l}function key(i){var t,e,n;if(!data.k.length||typeof data.k[0]=="number")throw new Error("The property has no keyframe at index "+i);i-=1,t={time:data.k[i].t/elem.comp.globalData.frameRate,value:[]};var a=Object.prototype.hasOwnProperty.call(data.k[i],"s")?data.k[i].s:data.k[i-1].e;for(n=a.length,e=0;e<n;e+=1)t[e]=a[e],t.value[e]=a[e];return t}function framesToTime(i,t){return t||(t=elem.comp.globalData.frameRate),i/t}function timeToFrames(i,t){return!i&&i!==0&&(i=time),t||(t=elem.comp.globalData.frameRate),i*t}function seedRandom(i){BMMath.seedrandom(randSeed+i)}function sourceRectAtTime(){return elem.sourceRectAtTime()}function substring(i,t){return typeof value=="string"?t===void 0?value.substring(i):value.substring(i,t):""}function substr(i,t){return typeof value=="string"?t===void 0?value.substr(i):value.substr(i,t):""}function posterizeTime(i){time=i===0?0:Math.floor(time*i)/i,value=valueAtTime(time)}var time,velocity,value,text,textIndex,textTotal,selectorValue,index=elem.data.ind,hasParent=!!(elem.hierarchy&&elem.hierarchy.length),parent,randSeed=Math.floor(Math.random()*1e6),globalData=elem.globalData;function executeExpression(i){return value=i,this.frameExpressionId===elem.globalData.frameId&&this.propType!=="textSelector"?value:(this.propType==="textSelector"&&(textIndex=this.textIndex,textTotal=this.textTotal,selectorValue=this.selectorValue),thisLayer||(text=elem.layerInterface.text,thisLayer=elem.layerInterface,thisComp=elem.comp.compInterface,toWorld=thisLayer.toWorld.bind(thisLayer),fromWorld=thisLayer.fromWorld.bind(thisLayer),fromComp=thisLayer.fromComp.bind(thisLayer),toComp=thisLayer.toComp.bind(thisLayer),mask=thisLayer.mask?thisLayer.mask.bind(thisLayer):null,fromCompToSurface=fromComp),transform||(transform=elem.layerInterface("ADBE Transform Group"),$bm_transform=transform,transform&&(anchorPoint=transform.anchorPoint)),elemType===4&&!content&&(content=thisLayer("ADBE Root Vectors Group")),effect||(effect=thisLayer(4)),hasParent=!!(elem.hierarchy&&elem.hierarchy.length),hasParent&&!parent&&(parent=elem.hierarchy[0].layerInterface),time=this.comp.renderedFrame/this.comp.globalData.frameRate,_needsRandom&&seedRandom(randSeed+time),needsVelocity&&(velocity=velocityAtTime(time)),expression_function(),this.frameExpressionId=elem.globalData.frameId,scoped_bm_rt=scoped_bm_rt.propType===propTypes.SHAPE?scoped_bm_rt.v:scoped_bm_rt,scoped_bm_rt)}return executeExpression.__preventDeadCodeRemoval=[$bm_transform,anchorPoint,time,velocity,inPoint,outPoint,width,height,name,loop_in,loop_out,smooth,toComp,fromCompToSurface,toWorld,fromWorld,mask,position,rotation,scale,thisComp,numKeys,active,wiggle,loopInDuration,loopOutDuration,comp,lookAt,easeOut,easeIn,ease,nearestKey,key,text,textIndex,textTotal,selectorValue,framesToTime,timeToFrames,sourceRectAtTime,substring,substr,posterizeTime,index,globalData],executeExpression}return ob.initiateExpression=initiateExpression,ob.__preventDeadCodeRemoval=[window,document,XMLHttpRequest,fetch,frames,$bm_neg,add,$bm_sum,$bm_sub,$bm_mul,$bm_div,$bm_mod,clamp,radians_to_degrees,degreesToRadians,degrees_to_radians,normalize,rgbToHsl,hslToRgb,linear,random,createPath,_lottieGlobal],ob.resetFrame=resetFrame,ob}(),Expressions=function(){var i={};i.initExpressions=t,i.resetFrame=ExpressionManager.resetFrame;function t(e){var n=0,a=[];function l(){n+=1}function c(){n-=1,n===0&&d()}function f(m){a.indexOf(m)===-1&&a.push(m)}function d(){var m,y=a.length;for(m=0;m<y;m+=1)a[m].release();a.length=0}e.renderer.compInterface=CompExpressionInterface(e.renderer),e.renderer.globalData.projectInterface.registerComposition(e.renderer),e.renderer.globalData.pushExpression=l,e.renderer.globalData.popExpression=c,e.renderer.globalData.registerExpressionProperty=f}return i}(),MaskManagerInterface=function(){function i(e,n){this._mask=e,this._data=n}Object.defineProperty(i.prototype,"maskPath",{get:function(){return this._mask.prop.k&&this._mask.prop.getValue(),this._mask.prop}}),Object.defineProperty(i.prototype,"maskOpacity",{get:function(){return this._mask.op.k&&this._mask.op.getValue(),this._mask.op.v*100}});var t=function(n){var a=createSizedArray(n.viewData.length),l,c=n.viewData.length;for(l=0;l<c;l+=1)a[l]=new i(n.viewData[l],n.masksProperties[l]);var f=function(m){for(l=0;l<c;){if(n.masksProperties[l].nm===m)return a[l];l+=1}return null};return f};return t}(),ExpressionPropertyInterface=function(){var i={pv:0,v:0,mult:1},t={pv:[0,0,0],v:[0,0,0],mult:1};function e(c,f,d){Object.defineProperty(c,"velocity",{get:function(){return f.getVelocityAtTime(f.comp.currentFrame)}}),c.numKeys=f.keyframes?f.keyframes.length:0,c.key=function(m){if(!c.numKeys)return 0;var y="";"s"in f.keyframes[m-1]?y=f.keyframes[m-1].s:"e"in f.keyframes[m-2]?y=f.keyframes[m-2].e:y=f.keyframes[m-2].s;var A=d==="unidimensional"?new Number(y):Object.assign({},y);return A.time=f.keyframes[m-1].t/f.elem.comp.globalData.frameRate,A.value=d==="unidimensional"?y[0]:y,A},c.valueAtTime=f.getValueAtTime,c.speedAtTime=f.getSpeedAtTime,c.velocityAtTime=f.getVelocityAtTime,c.propertyGroup=f.propertyGroup}function n(c){(!c||!("pv"in c))&&(c=i);var f=1/c.mult,d=c.pv*f,m=new Number(d);return m.value=d,e(m,c,"unidimensional"),function(){return c.k&&c.getValue(),d=c.v*f,m.value!==d&&(m=new Number(d),m.value=d,e(m,c,"unidimensional")),m}}function a(c){(!c||!("pv"in c))&&(c=t);var f=1/c.mult,d=c.data&&c.data.l||c.pv.length,m=createTypedArray("float32",d),y=createTypedArray("float32",d);return m.value=y,e(m,c,"multidimensional"),function(){c.k&&c.getValue();for(var A=0;A<d;A+=1)y[A]=c.v[A]*f,m[A]=y[A];return m}}function l(){return i}return function(c){return c?c.propType==="unidimensional"?n(c):a(c):l}}(),TransformExpressionInterface=function(){return function(i){function t(c){switch(c){case"scale":case"Scale":case"ADBE Scale":case 6:return t.scale;case"rotation":case"Rotation":case"ADBE Rotation":case"ADBE Rotate Z":case 10:return t.rotation;case"ADBE Rotate X":return t.xRotation;case"ADBE Rotate Y":return t.yRotation;case"position":case"Position":case"ADBE Position":case 2:return t.position;case"ADBE Position_0":return t.xPosition;case"ADBE Position_1":return t.yPosition;case"ADBE Position_2":return t.zPosition;case"anchorPoint":case"AnchorPoint":case"Anchor Point":case"ADBE AnchorPoint":case 1:return t.anchorPoint;case"opacity":case"Opacity":case 11:return t.opacity;default:return null}}Object.defineProperty(t,"rotation",{get:ExpressionPropertyInterface(i.r||i.rz)}),Object.defineProperty(t,"zRotation",{get:ExpressionPropertyInterface(i.rz||i.r)}),Object.defineProperty(t,"xRotation",{get:ExpressionPropertyInterface(i.rx)}),Object.defineProperty(t,"yRotation",{get:ExpressionPropertyInterface(i.ry)}),Object.defineProperty(t,"scale",{get:ExpressionPropertyInterface(i.s)});var e,n,a,l;return i.p?l=ExpressionPropertyInterface(i.p):(e=ExpressionPropertyInterface(i.px),n=ExpressionPropertyInterface(i.py),i.pz&&(a=ExpressionPropertyInterface(i.pz))),Object.defineProperty(t,"position",{get:function(){return i.p?l():[e(),n(),a?a():0]}}),Object.defineProperty(t,"xPosition",{get:ExpressionPropertyInterface(i.px)}),Object.defineProperty(t,"yPosition",{get:ExpressionPropertyInterface(i.py)}),Object.defineProperty(t,"zPosition",{get:ExpressionPropertyInterface(i.pz)}),Object.defineProperty(t,"anchorPoint",{get:ExpressionPropertyInterface(i.a)}),Object.defineProperty(t,"opacity",{get:ExpressionPropertyInterface(i.o)}),Object.defineProperty(t,"skew",{get:ExpressionPropertyInterface(i.sk)}),Object.defineProperty(t,"skewAxis",{get:ExpressionPropertyInterface(i.sa)}),Object.defineProperty(t,"orientation",{get:ExpressionPropertyInterface(i.or)}),t}}(),LayerExpressionInterface=function(){function i(m){var y=new Matrix;if(m!==void 0){var A=this._elem.finalTransform.mProp.getValueAtTime(m);A.clone(y)}else{var b=this._elem.finalTransform.mProp;b.applyToMatrix(y)}return y}function t(m,y){var A=this.getMatrix(y);return A.props[12]=0,A.props[13]=0,A.props[14]=0,this.applyPoint(A,m)}function e(m,y){var A=this.getMatrix(y);return this.applyPoint(A,m)}function n(m,y){var A=this.getMatrix(y);return A.props[12]=0,A.props[13]=0,A.props[14]=0,this.invertPoint(A,m)}function a(m,y){var A=this.getMatrix(y);return this.invertPoint(A,m)}function l(m,y){if(this._elem.hierarchy&&this._elem.hierarchy.length){var A,b=this._elem.hierarchy.length;for(A=0;A<b;A+=1)this._elem.hierarchy[A].finalTransform.mProp.applyToMatrix(m)}return m.applyToPointArray(y[0],y[1],y[2]||0)}function c(m,y){if(this._elem.hierarchy&&this._elem.hierarchy.length){var A,b=this._elem.hierarchy.length;for(A=0;A<b;A+=1)this._elem.hierarchy[A].finalTransform.mProp.applyToMatrix(m)}return m.inversePoint(y)}function f(m){var y=new Matrix;if(y.reset(),this._elem.finalTransform.mProp.applyToMatrix(y),this._elem.hierarchy&&this._elem.hierarchy.length){var A,b=this._elem.hierarchy.length;for(A=0;A<b;A+=1)this._elem.hierarchy[A].finalTransform.mProp.applyToMatrix(y);return y.inversePoint(m)}return y.inversePoint(m)}function d(){return[1,1,1,1]}return function(m){var y;function A(T){x.mask=new MaskManagerInterface(T,m)}function b(T){x.effect=T}function x(T){switch(T){case"ADBE Root Vectors Group":case"Contents":case 2:return x.shapeInterface;case 1:case 6:case"Transform":case"transform":case"ADBE Transform Group":return y;case 4:case"ADBE Effect Parade":case"effects":case"Effects":return x.effect;case"ADBE Text Properties":return x.textInterface;default:return null}}x.getMatrix=i,x.invertPoint=c,x.applyPoint=l,x.toWorld=e,x.toWorldVec=t,x.fromWorld=a,x.fromWorldVec=n,x.toComp=e,x.fromComp=f,x.sampleImage=d,x.sourceRectAtTime=m.sourceRectAtTime.bind(m),x._elem=m,y=TransformExpressionInterface(m.finalTransform.mProp);var E=getDescriptor(y,"anchorPoint");return Object.defineProperties(x,{hasParent:{get:function(){return m.hierarchy.length}},parent:{get:function(){return m.hierarchy[0].layerInterface}},rotation:getDescriptor(y,"rotation"),scale:getDescriptor(y,"scale"),position:getDescriptor(y,"position"),opacity:getDescriptor(y,"opacity"),anchorPoint:E,anchor_point:E,transform:{get:function(){return y}},active:{get:function(){return m.isInRange}}}),x.startTime=m.data.st,x.index=m.data.ind,x.source=m.data.refId,x.height=m.data.ty===0?m.data.h:100,x.width=m.data.ty===0?m.data.w:100,x.inPoint=m.data.ip/m.comp.globalData.frameRate,x.outPoint=m.data.op/m.comp.globalData.frameRate,x._name=m.data.nm,x.registerMaskInterface=A,x.registerEffectsInterface=b,x}}(),propertyGroupFactory=function(){return function(i,t){return function(e){return e=e===void 0?1:e,e<=0?i:t(e-1)}}}(),PropertyInterface=function(){return function(i,t){var e={_name:i};function n(a){return a=a===void 0?1:a,a<=0?e:t(a-1)}return n}}(),EffectsExpressionInterface=function(){var i={createEffectsInterface:t};function t(a,l){if(a.effectsManager){var c=[],f=a.data.ef,d,m=a.effectsManager.effectElements.length;for(d=0;d<m;d+=1)c.push(e(f[d],a.effectsManager.effectElements[d],l,a));var y=a.data.ef||[],A=function(x){for(d=0,m=y.length;d<m;){if(x===y[d].nm||x===y[d].mn||x===y[d].ix)return c[d];d+=1}return null};return Object.defineProperty(A,"numProperties",{get:function(){return y.length}}),A}return null}function e(a,l,c,f){function d(x){for(var E=a.ef,T=0,k=E.length;T<k;){if(x===E[T].nm||x===E[T].mn||x===E[T].ix)return E[T].ty===5?y[T]:y[T]();T+=1}throw new Error}var m=propertyGroupFactory(d,c),y=[],A,b=a.ef.length;for(A=0;A<b;A+=1)a.ef[A].ty===5?y.push(e(a.ef[A],l.effectElements[A],l.effectElements[A].propertyGroup,f)):y.push(n(l.effectElements[A],a.ef[A].ty,f,m));return a.mn==="ADBE Color Control"&&Object.defineProperty(d,"color",{get:function(){return y[0]()}}),Object.defineProperties(d,{numProperties:{get:function(){return a.np}},_name:{value:a.nm},propertyGroup:{value:m}}),d.enabled=a.en!==0,d.active=d.enabled,d}function n(a,l,c,f){var d=ExpressionPropertyInterface(a.p);function m(){return l===10?c.comp.compInterface(a.p.v):d()}return a.p.setGroupProperty&&a.p.setGroupProperty(PropertyInterface("",f)),m}return i}(),ShapePathInterface=function(){return function(t,e,n){var a=e.sh;function l(f){return f==="Shape"||f==="shape"||f==="Path"||f==="path"||f==="ADBE Vector Shape"||f===2?l.path:null}var c=propertyGroupFactory(l,n);return a.setGroupProperty(PropertyInterface("Path",c)),Object.defineProperties(l,{path:{get:function(){return a.k&&a.getValue(),a}},shape:{get:function(){return a.k&&a.getValue(),a}},_name:{value:t.nm},ix:{value:t.ix},propertyIndex:{value:t.ix},mn:{value:t.mn},propertyGroup:{value:n}}),l}}(),ShapeExpressionInterface=function(){function i(E,T,k){var S=[],M,P=E?E.length:0;for(M=0;M<P;M+=1)E[M].ty==="gr"?S.push(e(E[M],T[M],k)):E[M].ty==="fl"?S.push(n(E[M],T[M],k)):E[M].ty==="st"?S.push(c(E[M],T[M],k)):E[M].ty==="tm"?S.push(f(E[M],T[M],k)):E[M].ty==="tr"||(E[M].ty==="el"?S.push(m(E[M],T[M],k)):E[M].ty==="sr"?S.push(y(E[M],T[M],k)):E[M].ty==="sh"?S.push(ShapePathInterface(E[M],T[M],k)):E[M].ty==="rc"?S.push(A(E[M],T[M],k)):E[M].ty==="rd"?S.push(b(E[M],T[M],k)):E[M].ty==="rp"?S.push(x(E[M],T[M],k)):E[M].ty==="gf"?S.push(a(E[M],T[M],k)):S.push(l(E[M],T[M])));return S}function t(E,T,k){var S,M=function(D){for(var L=0,G=S.length;L<G;){if(S[L]._name===D||S[L].mn===D||S[L].propertyIndex===D||S[L].ix===D||S[L].ind===D)return S[L];L+=1}return typeof D=="number"?S[D-1]:null};M.propertyGroup=propertyGroupFactory(M,k),S=i(E.it,T.it,M.propertyGroup),M.numProperties=S.length;var P=d(E.it[E.it.length-1],T.it[T.it.length-1],M.propertyGroup);return M.transform=P,M.propertyIndex=E.cix,M._name=E.nm,M}function e(E,T,k){var S=function(D){switch(D){case"ADBE Vectors Group":case"Contents":case 2:return S.content;default:return S.transform}};S.propertyGroup=propertyGroupFactory(S,k);var M=t(E,T,S.propertyGroup),P=d(E.it[E.it.length-1],T.it[T.it.length-1],S.propertyGroup);return S.content=M,S.transform=P,Object.defineProperty(S,"_name",{get:function(){return E.nm}}),S.numProperties=E.np,S.propertyIndex=E.ix,S.nm=E.nm,S.mn=E.mn,S}function n(E,T,k){function S(M){return M==="Color"||M==="color"?S.color:M==="Opacity"||M==="opacity"?S.opacity:null}return Object.defineProperties(S,{color:{get:ExpressionPropertyInterface(T.c)},opacity:{get:ExpressionPropertyInterface(T.o)},_name:{value:E.nm},mn:{value:E.mn}}),T.c.setGroupProperty(PropertyInterface("Color",k)),T.o.setGroupProperty(PropertyInterface("Opacity",k)),S}function a(E,T,k){function S(M){return M==="Start Point"||M==="start point"?S.startPoint:M==="End Point"||M==="end point"?S.endPoint:M==="Opacity"||M==="opacity"?S.opacity:null}return Object.defineProperties(S,{startPoint:{get:ExpressionPropertyInterface(T.s)},endPoint:{get:ExpressionPropertyInterface(T.e)},opacity:{get:ExpressionPropertyInterface(T.o)},type:{get:function(){return"a"}},_name:{value:E.nm},mn:{value:E.mn}}),T.s.setGroupProperty(PropertyInterface("Start Point",k)),T.e.setGroupProperty(PropertyInterface("End Point",k)),T.o.setGroupProperty(PropertyInterface("Opacity",k)),S}function l(){function E(){return null}return E}function c(E,T,k){var S=propertyGroupFactory(G,k),M=propertyGroupFactory(L,S);function P(q){Object.defineProperty(L,E.d[q].nm,{get:ExpressionPropertyInterface(T.d.dataProps[q].p)})}var R,D=E.d?E.d.length:0,L={};for(R=0;R<D;R+=1)P(R),T.d.dataProps[R].p.setGroupProperty(M);function G(q){return q==="Color"||q==="color"?G.color:q==="Opacity"||q==="opacity"?G.opacity:q==="Stroke Width"||q==="stroke width"?G.strokeWidth:null}return Object.defineProperties(G,{color:{get:ExpressionPropertyInterface(T.c)},opacity:{get:ExpressionPropertyInterface(T.o)},strokeWidth:{get:ExpressionPropertyInterface(T.w)},dash:{get:function(){return L}},_name:{value:E.nm},mn:{value:E.mn}}),T.c.setGroupProperty(PropertyInterface("Color",S)),T.o.setGroupProperty(PropertyInterface("Opacity",S)),T.w.setGroupProperty(PropertyInterface("Stroke Width",S)),G}function f(E,T,k){function S(P){return P===E.e.ix||P==="End"||P==="end"?S.end:P===E.s.ix?S.start:P===E.o.ix?S.offset:null}var M=propertyGroupFactory(S,k);return S.propertyIndex=E.ix,T.s.setGroupProperty(PropertyInterface("Start",M)),T.e.setGroupProperty(PropertyInterface("End",M)),T.o.setGroupProperty(PropertyInterface("Offset",M)),S.propertyIndex=E.ix,S.propertyGroup=k,Object.defineProperties(S,{start:{get:ExpressionPropertyInterface(T.s)},end:{get:ExpressionPropertyInterface(T.e)},offset:{get:ExpressionPropertyInterface(T.o)},_name:{value:E.nm}}),S.mn=E.mn,S}function d(E,T,k){function S(P){return E.a.ix===P||P==="Anchor Point"?S.anchorPoint:E.o.ix===P||P==="Opacity"?S.opacity:E.p.ix===P||P==="Position"?S.position:E.r.ix===P||P==="Rotation"||P==="ADBE Vector Rotation"?S.rotation:E.s.ix===P||P==="Scale"?S.scale:E.sk&&E.sk.ix===P||P==="Skew"?S.skew:E.sa&&E.sa.ix===P||P==="Skew Axis"?S.skewAxis:null}var M=propertyGroupFactory(S,k);return T.transform.mProps.o.setGroupProperty(PropertyInterface("Opacity",M)),T.transform.mProps.p.setGroupProperty(PropertyInterface("Position",M)),T.transform.mProps.a.setGroupProperty(PropertyInterface("Anchor Point",M)),T.transform.mProps.s.setGroupProperty(PropertyInterface("Scale",M)),T.transform.mProps.r.setGroupProperty(PropertyInterface("Rotation",M)),T.transform.mProps.sk&&(T.transform.mProps.sk.setGroupProperty(PropertyInterface("Skew",M)),T.transform.mProps.sa.setGroupProperty(PropertyInterface("Skew Angle",M))),T.transform.op.setGroupProperty(PropertyInterface("Opacity",M)),Object.defineProperties(S,{opacity:{get:ExpressionPropertyInterface(T.transform.mProps.o)},position:{get:ExpressionPropertyInterface(T.transform.mProps.p)},anchorPoint:{get:ExpressionPropertyInterface(T.transform.mProps.a)},scale:{get:ExpressionPropertyInterface(T.transform.mProps.s)},rotation:{get:ExpressionPropertyInterface(T.transform.mProps.r)},skew:{get:ExpressionPropertyInterface(T.transform.mProps.sk)},skewAxis:{get:ExpressionPropertyInterface(T.transform.mProps.sa)},_name:{value:E.nm}}),S.ty="tr",S.mn=E.mn,S.propertyGroup=k,S}function m(E,T,k){function S(R){return E.p.ix===R?S.position:E.s.ix===R?S.size:null}var M=propertyGroupFactory(S,k);S.propertyIndex=E.ix;var P=T.sh.ty==="tm"?T.sh.prop:T.sh;return P.s.setGroupProperty(PropertyInterface("Size",M)),P.p.setGroupProperty(PropertyInterface("Position",M)),Object.defineProperties(S,{size:{get:ExpressionPropertyInterface(P.s)},position:{get:ExpressionPropertyInterface(P.p)},_name:{value:E.nm}}),S.mn=E.mn,S}function y(E,T,k){function S(R){return E.p.ix===R?S.position:E.r.ix===R?S.rotation:E.pt.ix===R?S.points:E.or.ix===R||R==="ADBE Vector Star Outer Radius"?S.outerRadius:E.os.ix===R?S.outerRoundness:E.ir&&(E.ir.ix===R||R==="ADBE Vector Star Inner Radius")?S.innerRadius:E.is&&E.is.ix===R?S.innerRoundness:null}var M=propertyGroupFactory(S,k),P=T.sh.ty==="tm"?T.sh.prop:T.sh;return S.propertyIndex=E.ix,P.or.setGroupProperty(PropertyInterface("Outer Radius",M)),P.os.setGroupProperty(PropertyInterface("Outer Roundness",M)),P.pt.setGroupProperty(PropertyInterface("Points",M)),P.p.setGroupProperty(PropertyInterface("Position",M)),P.r.setGroupProperty(PropertyInterface("Rotation",M)),E.ir&&(P.ir.setGroupProperty(PropertyInterface("Inner Radius",M)),P.is.setGroupProperty(PropertyInterface("Inner Roundness",M))),Object.defineProperties(S,{position:{get:ExpressionPropertyInterface(P.p)},rotation:{get:ExpressionPropertyInterface(P.r)},points:{get:ExpressionPropertyInterface(P.pt)},outerRadius:{get:ExpressionPropertyInterface(P.or)},outerRoundness:{get:ExpressionPropertyInterface(P.os)},innerRadius:{get:ExpressionPropertyInterface(P.ir)},innerRoundness:{get:ExpressionPropertyInterface(P.is)},_name:{value:E.nm}}),S.mn=E.mn,S}function A(E,T,k){function S(R){return E.p.ix===R?S.position:E.r.ix===R?S.roundness:E.s.ix===R||R==="Size"||R==="ADBE Vector Rect Size"?S.size:null}var M=propertyGroupFactory(S,k),P=T.sh.ty==="tm"?T.sh.prop:T.sh;return S.propertyIndex=E.ix,P.p.setGroupProperty(PropertyInterface("Position",M)),P.s.setGroupProperty(PropertyInterface("Size",M)),P.r.setGroupProperty(PropertyInterface("Rotation",M)),Object.defineProperties(S,{position:{get:ExpressionPropertyInterface(P.p)},roundness:{get:ExpressionPropertyInterface(P.r)},size:{get:ExpressionPropertyInterface(P.s)},_name:{value:E.nm}}),S.mn=E.mn,S}function b(E,T,k){function S(R){return E.r.ix===R||R==="Round Corners 1"?S.radius:null}var M=propertyGroupFactory(S,k),P=T;return S.propertyIndex=E.ix,P.rd.setGroupProperty(PropertyInterface("Radius",M)),Object.defineProperties(S,{radius:{get:ExpressionPropertyInterface(P.rd)},_name:{value:E.nm}}),S.mn=E.mn,S}function x(E,T,k){function S(R){return E.c.ix===R||R==="Copies"?S.copies:E.o.ix===R||R==="Offset"?S.offset:null}var M=propertyGroupFactory(S,k),P=T;return S.propertyIndex=E.ix,P.c.setGroupProperty(PropertyInterface("Copies",M)),P.o.setGroupProperty(PropertyInterface("Offset",M)),Object.defineProperties(S,{copies:{get:ExpressionPropertyInterface(P.c)},offset:{get:ExpressionPropertyInterface(P.o)},_name:{value:E.nm}}),S.mn=E.mn,S}return function(E,T,k){var S;function M(R){if(typeof R=="number")return R=R===void 0?1:R,R===0?k:S[R-1];for(var D=0,L=S.length;D<L;){if(S[D]._name===R)return S[D];D+=1}return null}function P(){return k}return M.propertyGroup=propertyGroupFactory(M,P),S=i(E,T,M.propertyGroup),M.numProperties=S.length,M._name="Contents",M}}(),TextExpressionInterface=function(){return function(i){var t;function e(n){switch(n){case"ADBE Text Document":return e.sourceText;default:return null}}return Object.defineProperty(e,"sourceText",{get:function(){i.textProperty.getValue();var a=i.textProperty.currentData.t;return(!t||a!==t.value)&&(t=new String(a),t.value=a||new String(a),Object.defineProperty(t,"style",{get:function(){return{fillColor:i.textProperty.currentData.fc}}})),t}}),e}}();function _typeof(i){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?_typeof=function(e){return typeof e}:_typeof=function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_typeof(i)}var FootageInterface=function(){var i=function(n){var a="",l=n.getFootageData();function c(){return a="",l=n.getFootageData(),f}function f(d){if(l[d])return a=d,l=l[d],_typeof(l)==="object"?f:l;var m=d.indexOf(a);if(m!==-1){var y=parseInt(d.substr(m+a.length),10);return l=l[y],_typeof(l)==="object"?f:l}return""}return c},t=function(n){function a(l){return l==="Outline"?a.outlineInterface():null}return a._name="Outline",a.outlineInterface=i(n),a};return function(e){function n(a){return a==="Data"?n.dataInterface:null}return n._name="Data",n.dataInterface=t(e),n}}(),interfaces={layer:LayerExpressionInterface,effects:EffectsExpressionInterface,comp:CompExpressionInterface,shape:ShapeExpressionInterface,text:TextExpressionInterface,footage:FootageInterface};function getInterface(i){return interfaces[i]||null}var expressionHelpers=function(){function i(c,f,d){f.x&&(d.k=!0,d.x=!0,d.initiateExpression=ExpressionManager.initiateExpression,d.effectsSequence.push(d.initiateExpression(c,f,d).bind(d)))}function t(c){return c*=this.elem.globalData.frameRate,c-=this.offsetTime,c!==this._cachingAtTime.lastFrame&&(this._cachingAtTime.lastIndex=this._cachingAtTime.lastFrame<c?this._cachingAtTime.lastIndex:0,this._cachingAtTime.value=this.interpolateValue(c,this._cachingAtTime),this._cachingAtTime.lastFrame=c),this._cachingAtTime.value}function e(c){var f=-.01,d=this.getValueAtTime(c),m=this.getValueAtTime(c+f),y=0;if(d.length){var A;for(A=0;A<d.length;A+=1)y+=Math.pow(m[A]-d[A],2);y=Math.sqrt(y)*100}else y=0;return y}function n(c){if(this.vel!==void 0)return this.vel;var f=-.001,d=this.getValueAtTime(c),m=this.getValueAtTime(c+f),y;if(d.length){y=createTypedArray("float32",d.length);var A;for(A=0;A<d.length;A+=1)y[A]=(m[A]-d[A])/f}else y=(m-d)/f;return y}function a(){return this.pv}function l(c){this.propertyGroup=c}return{searchExpressions:i,getSpeedAtTime:e,getVelocityAtTime:n,getValueAtTime:t,getStaticValueAtTime:a,setGroupProperty:l}}();function addPropertyDecorator(){function i(b,x,E){if(!this.k||!this.keyframes)return this.pv;b=b?b.toLowerCase():"";var T=this.comp.renderedFrame,k=this.keyframes,S=k[k.length-1].t;if(T<=S)return this.pv;var M,P;E?(x?M=Math.abs(S-this.elem.comp.globalData.frameRate*x):M=Math.max(0,S-this.elem.data.ip),P=S-M):((!x||x>k.length-1)&&(x=k.length-1),P=k[k.length-1-x].t,M=S-P);var R,D,L;if(b==="pingpong"){var G=Math.floor((T-P)/M);if(G%2!==0)return this.getValueAtTime((M-(T-P)%M+P)/this.comp.globalData.frameRate,0)}else if(b==="offset"){var q=this.getValueAtTime(P/this.comp.globalData.frameRate,0),X=this.getValueAtTime(S/this.comp.globalData.frameRate,0),J=this.getValueAtTime(((T-P)%M+P)/this.comp.globalData.frameRate,0),et=Math.floor((T-P)/M);if(this.pv.length){for(L=new Array(q.length),D=L.length,R=0;R<D;R+=1)L[R]=(X[R]-q[R])*et+J[R];return L}return(X-q)*et+J}else if(b==="continue"){var it=this.getValueAtTime(S/this.comp.globalData.frameRate,0),lt=this.getValueAtTime((S-.001)/this.comp.globalData.frameRate,0);if(this.pv.length){for(L=new Array(it.length),D=L.length,R=0;R<D;R+=1)L[R]=it[R]+(it[R]-lt[R])*((T-S)/this.comp.globalData.frameRate)/5e-4;return L}return it+(it-lt)*((T-S)/.001)}return this.getValueAtTime(((T-P)%M+P)/this.comp.globalData.frameRate,0)}function t(b,x,E){if(!this.k)return this.pv;b=b?b.toLowerCase():"";var T=this.comp.renderedFrame,k=this.keyframes,S=k[0].t;if(T>=S)return this.pv;var M,P;E?(x?M=Math.abs(this.elem.comp.globalData.frameRate*x):M=Math.max(0,this.elem.data.op-S),P=S+M):((!x||x>k.length-1)&&(x=k.length-1),P=k[x].t,M=P-S);var R,D,L;if(b==="pingpong"){var G=Math.floor((S-T)/M);if(G%2===0)return this.getValueAtTime(((S-T)%M+S)/this.comp.globalData.frameRate,0)}else if(b==="offset"){var q=this.getValueAtTime(S/this.comp.globalData.frameRate,0),X=this.getValueAtTime(P/this.comp.globalData.frameRate,0),J=this.getValueAtTime((M-(S-T)%M+S)/this.comp.globalData.frameRate,0),et=Math.floor((S-T)/M)+1;if(this.pv.length){for(L=new Array(q.length),D=L.length,R=0;R<D;R+=1)L[R]=J[R]-(X[R]-q[R])*et;return L}return J-(X-q)*et}else if(b==="continue"){var it=this.getValueAtTime(S/this.comp.globalData.frameRate,0),lt=this.getValueAtTime((S+.001)/this.comp.globalData.frameRate,0);if(this.pv.length){for(L=new Array(it.length),D=L.length,R=0;R<D;R+=1)L[R]=it[R]+(it[R]-lt[R])*(S-T)/.001;return L}return it+(it-lt)*(S-T)/.001}return this.getValueAtTime((M-((S-T)%M+S))/this.comp.globalData.frameRate,0)}function e(b,x){if(!this.k)return this.pv;if(b=(b||.4)*.5,x=Math.floor(x||5),x<=1)return this.pv;var E=this.comp.renderedFrame/this.comp.globalData.frameRate,T=E-b,k=E+b,S=x>1?(k-T)/(x-1):1,M=0,P=0,R;this.pv.length?R=createTypedArray("float32",this.pv.length):R=0;for(var D;M<x;){if(D=this.getValueAtTime(T+M*S),this.pv.length)for(P=0;P<this.pv.length;P+=1)R[P]+=D[P];else R+=D;M+=1}if(this.pv.length)for(P=0;P<this.pv.length;P+=1)R[P]/=x;else R/=x;return R}function n(b){this._transformCachingAtTime||(this._transformCachingAtTime={v:new Matrix});var x=this._transformCachingAtTime.v;if(x.cloneFromProps(this.pre.props),this.appliedTransformations<1){var E=this.a.getValueAtTime(b);x.translate(-E[0]*this.a.mult,-E[1]*this.a.mult,E[2]*this.a.mult)}if(this.appliedTransformations<2){var T=this.s.getValueAtTime(b);x.scale(T[0]*this.s.mult,T[1]*this.s.mult,T[2]*this.s.mult)}if(this.sk&&this.appliedTransformations<3){var k=this.sk.getValueAtTime(b),S=this.sa.getValueAtTime(b);x.skewFromAxis(-k*this.sk.mult,S*this.sa.mult)}if(this.r&&this.appliedTransformations<4){var M=this.r.getValueAtTime(b);x.rotate(-M*this.r.mult)}else if(!this.r&&this.appliedTransformations<4){var P=this.rz.getValueAtTime(b),R=this.ry.getValueAtTime(b),D=this.rx.getValueAtTime(b),L=this.or.getValueAtTime(b);x.rotateZ(-P*this.rz.mult).rotateY(R*this.ry.mult).rotateX(D*this.rx.mult).rotateZ(-L[2]*this.or.mult).rotateY(L[1]*this.or.mult).rotateX(L[0]*this.or.mult)}if(this.data.p&&this.data.p.s){var G=this.px.getValueAtTime(b),q=this.py.getValueAtTime(b);if(this.data.p.z){var X=this.pz.getValueAtTime(b);x.translate(G*this.px.mult,q*this.py.mult,-X*this.pz.mult)}else x.translate(G*this.px.mult,q*this.py.mult,0)}else{var J=this.p.getValueAtTime(b);x.translate(J[0]*this.p.mult,J[1]*this.p.mult,-J[2]*this.p.mult)}return x}function a(){return this.v.clone(new Matrix)}var l=TransformPropertyFactory.getTransformProperty;TransformPropertyFactory.getTransformProperty=function(b,x,E){var T=l(b,x,E);return T.dynamicProperties.length?T.getValueAtTime=n.bind(T):T.getValueAtTime=a.bind(T),T.setGroupProperty=expressionHelpers.setGroupProperty,T};var c=PropertyFactory.getProp;PropertyFactory.getProp=function(b,x,E,T,k){var S=c(b,x,E,T,k);S.kf?S.getValueAtTime=expressionHelpers.getValueAtTime.bind(S):S.getValueAtTime=expressionHelpers.getStaticValueAtTime.bind(S),S.setGroupProperty=expressionHelpers.setGroupProperty,S.loopOut=i,S.loopIn=t,S.smooth=e,S.getVelocityAtTime=expressionHelpers.getVelocityAtTime.bind(S),S.getSpeedAtTime=expressionHelpers.getSpeedAtTime.bind(S),S.numKeys=x.a===1?x.k.length:0,S.propertyIndex=x.ix;var M=0;return E!==0&&(M=createTypedArray("float32",x.a===1?x.k[0].s.length:x.k.length)),S._cachingAtTime={lastFrame:initialDefaultFrame,lastIndex:0,value:M},expressionHelpers.searchExpressions(b,x,S),S.k&&k.addDynamicProperty(S),S};function f(b){return this._cachingAtTime||(this._cachingAtTime={shapeValue:shapePool.clone(this.pv),lastIndex:0,lastTime:initialDefaultFrame}),b*=this.elem.globalData.frameRate,b-=this.offsetTime,b!==this._cachingAtTime.lastTime&&(this._cachingAtTime.lastIndex=this._cachingAtTime.lastTime<b?this._caching.lastIndex:0,this._cachingAtTime.lastTime=b,this.interpolateShape(b,this._cachingAtTime.shapeValue,this._cachingAtTime)),this._cachingAtTime.shapeValue}var d=ShapePropertyFactory.getConstructorFunction(),m=ShapePropertyFactory.getKeyframedConstructorFunction();function y(){}y.prototype={vertices:function(x,E){this.k&&this.getValue();var T=this.v;E!==void 0&&(T=this.getValueAtTime(E,0));var k,S=T._length,M=T[x],P=T.v,R=createSizedArray(S);for(k=0;k<S;k+=1)x==="i"||x==="o"?R[k]=[M[k][0]-P[k][0],M[k][1]-P[k][1]]:R[k]=[M[k][0],M[k][1]];return R},points:function(x){return this.vertices("v",x)},inTangents:function(x){return this.vertices("i",x)},outTangents:function(x){return this.vertices("o",x)},isClosed:function(){return this.v.c},pointOnPath:function(x,E){var T=this.v;E!==void 0&&(T=this.getValueAtTime(E,0)),this._segmentsLength||(this._segmentsLength=bez.getSegmentsLength(T));for(var k=this._segmentsLength,S=k.lengths,M=k.totalLength*x,P=0,R=S.length,D=0,L;P<R;){if(D+S[P].addedLength>M){var G=P,q=T.c&&P===R-1?0:P+1,X=(M-D)/S[P].addedLength;L=bez.getPointInSegment(T.v[G],T.v[q],T.o[G],T.i[q],X,S[P]);break}else D+=S[P].addedLength;P+=1}return L||(L=T.c?[T.v[0][0],T.v[0][1]]:[T.v[T._length-1][0],T.v[T._length-1][1]]),L},vectorOnPath:function(x,E,T){x==1?x=this.v.c:x==0&&(x=.999);var k=this.pointOnPath(x,E),S=this.pointOnPath(x+.001,E),M=S[0]-k[0],P=S[1]-k[1],R=Math.sqrt(Math.pow(M,2)+Math.pow(P,2));if(R===0)return[0,0];var D=T==="tangent"?[M/R,P/R]:[-P/R,M/R];return D},tangentOnPath:function(x,E){return this.vectorOnPath(x,E,"tangent")},normalOnPath:function(x,E){return this.vectorOnPath(x,E,"normal")},setGroupProperty:expressionHelpers.setGroupProperty,getValueAtTime:expressionHelpers.getStaticValueAtTime},extendPrototype([y],d),extendPrototype([y],m),m.prototype.getValueAtTime=f,m.prototype.initiateExpression=ExpressionManager.initiateExpression;var A=ShapePropertyFactory.getShapeProp;ShapePropertyFactory.getShapeProp=function(b,x,E,T,k){var S=A(b,x,E,T,k);return S.propertyIndex=x.ix,S.lock=!1,E===3?expressionHelpers.searchExpressions(b,x.pt,S):E===4&&expressionHelpers.searchExpressions(b,x.ks,S),S.k&&b.addDynamicProperty(S),S}}function initialize$1(){addPropertyDecorator()}function addDecorator(){function i(){return this.data.d.x?(this.calculateExpression=ExpressionManager.initiateExpression.bind(this)(this.elem,this.data.d,this),this.addEffect(this.getExpressionValue.bind(this)),!0):null}TextProperty.prototype.getExpressionValue=function(t,e){var n=this.calculateExpression(e);if(t.t!==n){var a={};return this.copyData(a,t),a.t=n.toString(),a.__complete=!1,a}return t},TextProperty.prototype.searchProperty=function(){var t=this.searchKeyframes(),e=this.searchExpressions();return this.kf=t||e,this.kf},TextProperty.prototype.searchExpressions=i}function initialize(){addDecorator()}function SVGComposableEffect(){}SVGComposableEffect.prototype={createMergeNode:function i(t,e){var n=createNS("feMerge");n.setAttribute("result",t);var a,l;for(l=0;l<e.length;l+=1)a=createNS("feMergeNode"),a.setAttribute("in",e[l]),n.appendChild(a),n.appendChild(a);return n}};var linearFilterValue="0.3333 0.3333 0.3333 0 0 0.3333 0.3333 0.3333 0 0 0.3333 0.3333 0.3333 0 0 0 0 0";function SVGTintFilter(i,t,e,n,a){this.filterManager=t;var l=createNS("feColorMatrix");l.setAttribute("type","matrix"),l.setAttribute("color-interpolation-filters","linearRGB"),l.setAttribute("values",linearFilterValue+" 1 0"),this.linearFilter=l,l.setAttribute("result",n+"_tint_1"),i.appendChild(l),l=createNS("feColorMatrix"),l.setAttribute("type","matrix"),l.setAttribute("color-interpolation-filters","sRGB"),l.setAttribute("values","1 0 0 0 0 0 1 0 0 0 0 0 1 0 0 0 0 0 1 0"),l.setAttribute("result",n+"_tint_2"),i.appendChild(l),this.matrixFilter=l;var c=this.createMergeNode(n,[a,n+"_tint_1",n+"_tint_2"]);i.appendChild(c)}extendPrototype([SVGComposableEffect],SVGTintFilter),SVGTintFilter.prototype.renderFrame=function(i){if(i||this.filterManager._mdf){var t=this.filterManager.effectElements[0].p.v,e=this.filterManager.effectElements[1].p.v,n=this.filterManager.effectElements[2].p.v/100;this.linearFilter.setAttribute("values",linearFilterValue+" "+n+" 0"),this.matrixFilter.setAttribute("values",e[0]-t[0]+" 0 0 0 "+t[0]+" "+(e[1]-t[1])+" 0 0 0 "+t[1]+" "+(e[2]-t[2])+" 0 0 0 "+t[2]+" 0 0 0 1 0")}};function SVGFillFilter(i,t,e,n){this.filterManager=t;var a=createNS("feColorMatrix");a.setAttribute("type","matrix"),a.setAttribute("color-interpolation-filters","sRGB"),a.setAttribute("values","1 0 0 0 0 0 1 0 0 0 0 0 1 0 0 0 0 0 1 0"),a.setAttribute("result",n),i.appendChild(a),this.matrixFilter=a}SVGFillFilter.prototype.renderFrame=function(i){if(i||this.filterManager._mdf){var t=this.filterManager.effectElements[2].p.v,e=this.filterManager.effectElements[6].p.v;this.matrixFilter.setAttribute("values","0 0 0 0 "+t[0]+" 0 0 0 0 "+t[1]+" 0 0 0 0 "+t[2]+" 0 0 0 "+e+" 0")}};function SVGStrokeEffect(i,t,e){this.initialized=!1,this.filterManager=t,this.elem=e,this.paths=[]}SVGStrokeEffect.prototype.initialize=function(){var i=this.elem.layerElement.children||this.elem.layerElement.childNodes,t,e,n,a;for(this.filterManager.effectElements[1].p.v===1?(a=this.elem.maskManager.masksProperties.length,n=0):(n=this.filterManager.effectElements[0].p.v-1,a=n+1),e=createNS("g"),e.setAttribute("fill","none"),e.setAttribute("stroke-linecap","round"),e.setAttribute("stroke-dashoffset",1),n;n<a;n+=1)t=createNS("path"),e.appendChild(t),this.paths.push({p:t,m:n});if(this.filterManager.effectElements[10].p.v===3){var l=createNS("mask"),c=createElementID();l.setAttribute("id",c),l.setAttribute("mask-type","alpha"),l.appendChild(e),this.elem.globalData.defs.appendChild(l);var f=createNS("g");for(f.setAttribute("mask","url("+getLocationHref()+"#"+c+")");i[0];)f.appendChild(i[0]);this.elem.layerElement.appendChild(f),this.masker=l,e.setAttribute("stroke","#fff")}else if(this.filterManager.effectElements[10].p.v===1||this.filterManager.effectElements[10].p.v===2){if(this.filterManager.effectElements[10].p.v===2)for(i=this.elem.layerElement.children||this.elem.layerElement.childNodes;i.length;)this.elem.layerElement.removeChild(i[0]);this.elem.layerElement.appendChild(e),this.elem.layerElement.removeAttribute("mask"),e.setAttribute("stroke","#fff")}this.initialized=!0,this.pathMasker=e},SVGStrokeEffect.prototype.renderFrame=function(i){this.initialized||this.initialize();var t,e=this.paths.length,n,a;for(t=0;t<e;t+=1)if(this.paths[t].m!==-1&&(n=this.elem.maskManager.viewData[this.paths[t].m],a=this.paths[t].p,(i||this.filterManager._mdf||n.prop._mdf)&&a.setAttribute("d",n.lastPath),i||this.filterManager.effectElements[9].p._mdf||this.filterManager.effectElements[4].p._mdf||this.filterManager.effectElements[7].p._mdf||this.filterManager.effectElements[8].p._mdf||n.prop._mdf)){var l;if(this.filterManager.effectElements[7].p.v!==0||this.filterManager.effectElements[8].p.v!==100){var c=Math.min(this.filterManager.effectElements[7].p.v,this.filterManager.effectElements[8].p.v)*.01,f=Math.max(this.filterManager.effectElements[7].p.v,this.filterManager.effectElements[8].p.v)*.01,d=a.getTotalLength();l="0 0 0 "+d*c+" ";var m=d*(f-c),y=1+this.filterManager.effectElements[4].p.v*2*this.filterManager.effectElements[9].p.v*.01,A=Math.floor(m/y),b;for(b=0;b<A;b+=1)l+="1 "+this.filterManager.effectElements[4].p.v*2*this.filterManager.effectElements[9].p.v*.01+" ";l+="0 "+d*10+" 0 0"}else l="1 "+this.filterManager.effectElements[4].p.v*2*this.filterManager.effectElements[9].p.v*.01;a.setAttribute("stroke-dasharray",l)}if((i||this.filterManager.effectElements[4].p._mdf)&&this.pathMasker.setAttribute("stroke-width",this.filterManager.effectElements[4].p.v*2),(i||this.filterManager.effectElements[6].p._mdf)&&this.pathMasker.setAttribute("opacity",this.filterManager.effectElements[6].p.v),(this.filterManager.effectElements[10].p.v===1||this.filterManager.effectElements[10].p.v===2)&&(i||this.filterManager.effectElements[3].p._mdf)){var x=this.filterManager.effectElements[3].p.v;this.pathMasker.setAttribute("stroke","rgb("+bmFloor(x[0]*255)+","+bmFloor(x[1]*255)+","+bmFloor(x[2]*255)+")")}};function SVGTritoneFilter(i,t,e,n){this.filterManager=t;var a=createNS("feColorMatrix");a.setAttribute("type","matrix"),a.setAttribute("color-interpolation-filters","linearRGB"),a.setAttribute("values","0.3333 0.3333 0.3333 0 0 0.3333 0.3333 0.3333 0 0 0.3333 0.3333 0.3333 0 0 0 0 0 1 0"),i.appendChild(a);var l=createNS("feComponentTransfer");l.setAttribute("color-interpolation-filters","sRGB"),l.setAttribute("result",n),this.matrixFilter=l;var c=createNS("feFuncR");c.setAttribute("type","table"),l.appendChild(c),this.feFuncR=c;var f=createNS("feFuncG");f.setAttribute("type","table"),l.appendChild(f),this.feFuncG=f;var d=createNS("feFuncB");d.setAttribute("type","table"),l.appendChild(d),this.feFuncB=d,i.appendChild(l)}SVGTritoneFilter.prototype.renderFrame=function(i){if(i||this.filterManager._mdf){var t=this.filterManager.effectElements[0].p.v,e=this.filterManager.effectElements[1].p.v,n=this.filterManager.effectElements[2].p.v,a=n[0]+" "+e[0]+" "+t[0],l=n[1]+" "+e[1]+" "+t[1],c=n[2]+" "+e[2]+" "+t[2];this.feFuncR.setAttribute("tableValues",a),this.feFuncG.setAttribute("tableValues",l),this.feFuncB.setAttribute("tableValues",c)}};function SVGProLevelsFilter(i,t,e,n){this.filterManager=t;var a=this.filterManager.effectElements,l=createNS("feComponentTransfer");(a[10].p.k||a[10].p.v!==0||a[11].p.k||a[11].p.v!==1||a[12].p.k||a[12].p.v!==1||a[13].p.k||a[13].p.v!==0||a[14].p.k||a[14].p.v!==1)&&(this.feFuncR=this.createFeFunc("feFuncR",l)),(a[17].p.k||a[17].p.v!==0||a[18].p.k||a[18].p.v!==1||a[19].p.k||a[19].p.v!==1||a[20].p.k||a[20].p.v!==0||a[21].p.k||a[21].p.v!==1)&&(this.feFuncG=this.createFeFunc("feFuncG",l)),(a[24].p.k||a[24].p.v!==0||a[25].p.k||a[25].p.v!==1||a[26].p.k||a[26].p.v!==1||a[27].p.k||a[27].p.v!==0||a[28].p.k||a[28].p.v!==1)&&(this.feFuncB=this.createFeFunc("feFuncB",l)),(a[31].p.k||a[31].p.v!==0||a[32].p.k||a[32].p.v!==1||a[33].p.k||a[33].p.v!==1||a[34].p.k||a[34].p.v!==0||a[35].p.k||a[35].p.v!==1)&&(this.feFuncA=this.createFeFunc("feFuncA",l)),(this.feFuncR||this.feFuncG||this.feFuncB||this.feFuncA)&&(l.setAttribute("color-interpolation-filters","sRGB"),i.appendChild(l)),(a[3].p.k||a[3].p.v!==0||a[4].p.k||a[4].p.v!==1||a[5].p.k||a[5].p.v!==1||a[6].p.k||a[6].p.v!==0||a[7].p.k||a[7].p.v!==1)&&(l=createNS("feComponentTransfer"),l.setAttribute("color-interpolation-filters","sRGB"),l.setAttribute("result",n),i.appendChild(l),this.feFuncRComposed=this.createFeFunc("feFuncR",l),this.feFuncGComposed=this.createFeFunc("feFuncG",l),this.feFuncBComposed=this.createFeFunc("feFuncB",l))}SVGProLevelsFilter.prototype.createFeFunc=function(i,t){var e=createNS(i);return e.setAttribute("type","table"),t.appendChild(e),e},SVGProLevelsFilter.prototype.getTableValue=function(i,t,e,n,a){for(var l=0,c=256,f,d=Math.min(i,t),m=Math.max(i,t),y=Array.call(null,{length:c}),A,b=0,x=a-n,E=t-i;l<=256;)f=l/256,f<=d?A=E<0?a:n:f>=m?A=E<0?n:a:A=n+x*Math.pow((f-i)/E,1/e),y[b]=A,b+=1,l+=256/(c-1);return y.join(" ")},SVGProLevelsFilter.prototype.renderFrame=function(i){if(i||this.filterManager._mdf){var t,e=this.filterManager.effectElements;this.feFuncRComposed&&(i||e[3].p._mdf||e[4].p._mdf||e[5].p._mdf||e[6].p._mdf||e[7].p._mdf)&&(t=this.getTableValue(e[3].p.v,e[4].p.v,e[5].p.v,e[6].p.v,e[7].p.v),this.feFuncRComposed.setAttribute("tableValues",t),this.feFuncGComposed.setAttribute("tableValues",t),this.feFuncBComposed.setAttribute("tableValues",t)),this.feFuncR&&(i||e[10].p._mdf||e[11].p._mdf||e[12].p._mdf||e[13].p._mdf||e[14].p._mdf)&&(t=this.getTableValue(e[10].p.v,e[11].p.v,e[12].p.v,e[13].p.v,e[14].p.v),this.feFuncR.setAttribute("tableValues",t)),this.feFuncG&&(i||e[17].p._mdf||e[18].p._mdf||e[19].p._mdf||e[20].p._mdf||e[21].p._mdf)&&(t=this.getTableValue(e[17].p.v,e[18].p.v,e[19].p.v,e[20].p.v,e[21].p.v),this.feFuncG.setAttribute("tableValues",t)),this.feFuncB&&(i||e[24].p._mdf||e[25].p._mdf||e[26].p._mdf||e[27].p._mdf||e[28].p._mdf)&&(t=this.getTableValue(e[24].p.v,e[25].p.v,e[26].p.v,e[27].p.v,e[28].p.v),this.feFuncB.setAttribute("tableValues",t)),this.feFuncA&&(i||e[31].p._mdf||e[32].p._mdf||e[33].p._mdf||e[34].p._mdf||e[35].p._mdf)&&(t=this.getTableValue(e[31].p.v,e[32].p.v,e[33].p.v,e[34].p.v,e[35].p.v),this.feFuncA.setAttribute("tableValues",t))}};function SVGDropShadowEffect(i,t,e,n,a){var l=t.container.globalData.renderConfig.filterSize,c=t.data.fs||l;i.setAttribute("x",c.x||l.x),i.setAttribute("y",c.y||l.y),i.setAttribute("width",c.width||l.width),i.setAttribute("height",c.height||l.height),this.filterManager=t;var f=createNS("feGaussianBlur");f.setAttribute("in","SourceAlpha"),f.setAttribute("result",n+"_drop_shadow_1"),f.setAttribute("stdDeviation","0"),this.feGaussianBlur=f,i.appendChild(f);var d=createNS("feOffset");d.setAttribute("dx","25"),d.setAttribute("dy","0"),d.setAttribute("in",n+"_drop_shadow_1"),d.setAttribute("result",n+"_drop_shadow_2"),this.feOffset=d,i.appendChild(d);var m=createNS("feFlood");m.setAttribute("flood-color","#00ff00"),m.setAttribute("flood-opacity","1"),m.setAttribute("result",n+"_drop_shadow_3"),this.feFlood=m,i.appendChild(m);var y=createNS("feComposite");y.setAttribute("in",n+"_drop_shadow_3"),y.setAttribute("in2",n+"_drop_shadow_2"),y.setAttribute("operator","in"),y.setAttribute("result",n+"_drop_shadow_4"),i.appendChild(y);var A=this.createMergeNode(n,[n+"_drop_shadow_4",a]);i.appendChild(A)}extendPrototype([SVGComposableEffect],SVGDropShadowEffect),SVGDropShadowEffect.prototype.renderFrame=function(i){if(i||this.filterManager._mdf){if((i||this.filterManager.effectElements[4].p._mdf)&&this.feGaussianBlur.setAttribute("stdDeviation",this.filterManager.effectElements[4].p.v/4),i||this.filterManager.effectElements[0].p._mdf){var t=this.filterManager.effectElements[0].p.v;this.feFlood.setAttribute("flood-color",rgbToHex(Math.round(t[0]*255),Math.round(t[1]*255),Math.round(t[2]*255)))}if((i||this.filterManager.effectElements[1].p._mdf)&&this.feFlood.setAttribute("flood-opacity",this.filterManager.effectElements[1].p.v/255),i||this.filterManager.effectElements[2].p._mdf||this.filterManager.effectElements[3].p._mdf){var e=this.filterManager.effectElements[3].p.v,n=(this.filterManager.effectElements[2].p.v-90)*degToRads,a=e*Math.cos(n),l=e*Math.sin(n);this.feOffset.setAttribute("dx",a),this.feOffset.setAttribute("dy",l)}}};var _svgMatteSymbols=[];function SVGMatte3Effect(i,t,e){this.initialized=!1,this.filterManager=t,this.filterElem=i,this.elem=e,e.matteElement=createNS("g"),e.matteElement.appendChild(e.layerElement),e.matteElement.appendChild(e.transformedElement),e.baseElement=e.matteElement}SVGMatte3Effect.prototype.findSymbol=function(i){for(var t=0,e=_svgMatteSymbols.length;t<e;){if(_svgMatteSymbols[t]===i)return _svgMatteSymbols[t];t+=1}return null},SVGMatte3Effect.prototype.replaceInParent=function(i,t){var e=i.layerElement.parentNode;if(e){for(var n=e.children,a=0,l=n.length;a<l&&n[a]!==i.layerElement;)a+=1;var c;a<=l-2&&(c=n[a+1]);var f=createNS("use");f.setAttribute("href","#"+t),c?e.insertBefore(f,c):e.appendChild(f)}},SVGMatte3Effect.prototype.setElementAsMask=function(i,t){if(!this.findSymbol(t)){var e=createElementID(),n=createNS("mask");n.setAttribute("id",t.layerId),n.setAttribute("mask-type","alpha"),_svgMatteSymbols.push(t);var a=i.globalData.defs;a.appendChild(n);var l=createNS("symbol");l.setAttribute("id",e),this.replaceInParent(t,e),l.appendChild(t.layerElement),a.appendChild(l);var c=createNS("use");c.setAttribute("href","#"+e),n.appendChild(c),t.data.hd=!1,t.show()}i.setMatte(t.layerId)},SVGMatte3Effect.prototype.initialize=function(){for(var i=this.filterManager.effectElements[0].p.v,t=this.elem.comp.elements,e=0,n=t.length;e<n;)t[e]&&t[e].data.ind===i&&this.setElementAsMask(this.elem,t[e]),e+=1;this.initialized=!0},SVGMatte3Effect.prototype.renderFrame=function(){this.initialized||this.initialize()};function SVGGaussianBlurEffect(i,t,e,n){i.setAttribute("x","-100%"),i.setAttribute("y","-100%"),i.setAttribute("width","300%"),i.setAttribute("height","300%"),this.filterManager=t;var a=createNS("feGaussianBlur");a.setAttribute("result",n),i.appendChild(a),this.feGaussianBlur=a}SVGGaussianBlurEffect.prototype.renderFrame=function(i){if(i||this.filterManager._mdf){var t=.3,e=this.filterManager.effectElements[0].p.v*t,n=this.filterManager.effectElements[1].p.v,a=n==3?0:e,l=n==2?0:e;this.feGaussianBlur.setAttribute("stdDeviation",a+" "+l);var c=this.filterManager.effectElements[2].p.v==1?"wrap":"duplicate";this.feGaussianBlur.setAttribute("edgeMode",c)}};function TransformEffect(){}TransformEffect.prototype.init=function(i){this.effectsManager=i,this.type=effectTypes.TRANSFORM_EFFECT,this.matrix=new Matrix,this.opacity=-1,this._mdf=!1,this._opMdf=!1},TransformEffect.prototype.renderFrame=function(i){if(this._opMdf=!1,this._mdf=!1,i||this.effectsManager._mdf){var t=this.effectsManager.effectElements,e=t[0].p.v,n=t[1].p.v,a=t[2].p.v===1,l=t[3].p.v,c=a?l:t[4].p.v,f=t[5].p.v,d=t[6].p.v,m=t[7].p.v;this.matrix.reset(),this.matrix.translate(-e[0],-e[1],e[2]),this.matrix.scale(c*.01,l*.01,1),this.matrix.rotate(-m*degToRads),this.matrix.skewFromAxis(-f*degToRads,(d+90)*degToRads),this.matrix.translate(n[0],n[1],0),this._mdf=!0,this.opacity!==t[8].p.v&&(this.opacity=t[8].p.v,this._opMdf=!0)}};function SVGTransformEffect(i,t){this.init(t)}extendPrototype([TransformEffect],SVGTransformEffect);function CVTransformEffect(i){this.init(i)}return extendPrototype([TransformEffect],CVTransformEffect),registerRenderer("canvas",CanvasRenderer),registerRenderer("html",HybridRenderer),registerRenderer("svg",SVGRenderer),ShapeModifiers.registerModifier("tm",TrimModifier),ShapeModifiers.registerModifier("pb",PuckerAndBloatModifier),ShapeModifiers.registerModifier("rp",RepeaterModifier),ShapeModifiers.registerModifier("rd",RoundCornersModifier),ShapeModifiers.registerModifier("zz",ZigZagModifier),ShapeModifiers.registerModifier("op",OffsetPathModifier),setExpressionsPlugin(Expressions),setExpressionInterfaces(getInterface),initialize$1(),initialize(),registerEffect$1(20,SVGTintFilter,!0),registerEffect$1(21,SVGFillFilter,!0),registerEffect$1(22,SVGStrokeEffect,!1),registerEffect$1(23,SVGTritoneFilter,!0),registerEffect$1(24,SVGProLevelsFilter,!0),registerEffect$1(25,SVGDropShadowEffect,!0),registerEffect$1(28,SVGMatte3Effect,!1),registerEffect$1(29,SVGGaussianBlurEffect,!0),registerEffect$1(35,SVGTransformEffect,!1),registerEffect(35,CVTransformEffect),lottie})}(lottie$2,lottie$2.exports)),lottie$2.exports}var lottieExports=requireLottie();const lottie=getDefaultExportFromCjs(lottieExports);function _arrayLikeToArray(i,t){(t==null||t>i.length)&&(t=i.length);for(var e=0,n=Array(t);e<t;e++)n[e]=i[e];return n}function _arrayWithHoles(i){if(Array.isArray(i))return i}function _defineProperty$1(i,t,e){return(t=_toPropertyKey$1(t))in i?Object.defineProperty(i,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):i[t]=e,i}function _iterableToArrayLimit(i,t){var e=i==null?null:typeof Symbol<"u"&&i[Symbol.iterator]||i["@@iterator"];if(e!=null){var n,a,l,c,f=[],d=!0,m=!1;try{if(l=(e=e.call(i)).next,t!==0)for(;!(d=(n=l.call(e)).done)&&(f.push(n.value),f.length!==t);d=!0);}catch(y){m=!0,a=y}finally{try{if(!d&&e.return!=null&&(c=e.return(),Object(c)!==c))return}finally{if(m)throw a}}return f}}function _nonIterableRest(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ownKeys$1(i,t){var e=Object.keys(i);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(i);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(i,a).enumerable})),e.push.apply(e,n)}return e}function _objectSpread2(i){for(var t=1;t<arguments.length;t++){var e=arguments[t]!=null?arguments[t]:{};t%2?ownKeys$1(Object(e),!0).forEach(function(n){_defineProperty$1(i,n,e[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(i,Object.getOwnPropertyDescriptors(e)):ownKeys$1(Object(e)).forEach(function(n){Object.defineProperty(i,n,Object.getOwnPropertyDescriptor(e,n))})}return i}function _objectWithoutProperties$1(i,t){if(i==null)return{};var e,n,a=_objectWithoutPropertiesLoose$1(i,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(i);for(n=0;n<l.length;n++)e=l[n],t.includes(e)||{}.propertyIsEnumerable.call(i,e)&&(a[e]=i[e])}return a}function _objectWithoutPropertiesLoose$1(i,t){if(i==null)return{};var e={};for(var n in i)if({}.hasOwnProperty.call(i,n)){if(t.includes(n))continue;e[n]=i[n]}return e}function _slicedToArray(i,t){return _arrayWithHoles(i)||_iterableToArrayLimit(i,t)||_unsupportedIterableToArray(i,t)||_nonIterableRest()}function _toPrimitive$1(i,t){if(typeof i!="object"||!i)return i;var e=i[Symbol.toPrimitive];if(e!==void 0){var n=e.call(i,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(i)}function _toPropertyKey$1(i){var t=_toPrimitive$1(i,"string");return typeof t=="symbol"?t:t+""}function _unsupportedIterableToArray(i,t){if(i){if(typeof i=="string")return _arrayLikeToArray(i,t);var e={}.toString.call(i).slice(8,-1);return e==="Object"&&i.constructor&&(e=i.constructor.name),e==="Map"||e==="Set"?Array.from(i):e==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e)?_arrayLikeToArray(i,t):void 0}}var _excluded$1=["animationData","loop","autoplay","initialSegment","onComplete","onLoopComplete","onEnterFrame","onSegmentStart","onConfigReady","onDataReady","onDataFailed","onLoadedImages","onDOMLoaded","onDestroy","lottieRef","renderer","name","assetsPath","rendererSettings"],useLottie=function i(t,e){var n=t.animationData,a=t.loop,l=t.autoplay,c=t.initialSegment,f=t.onComplete,d=t.onLoopComplete,m=t.onEnterFrame,y=t.onSegmentStart,A=t.onConfigReady,b=t.onDataReady,x=t.onDataFailed,E=t.onLoadedImages,T=t.onDOMLoaded,k=t.onDestroy;t.lottieRef,t.renderer,t.name,t.assetsPath,t.rendererSettings;var S=_objectWithoutProperties$1(t,_excluded$1),M=reactExports.useState(!1),P=_slicedToArray(M,2),R=P[0],D=P[1],L=reactExports.useRef(),G=reactExports.useRef(null),q=function(){var Q;(Q=L.current)===null||Q===void 0||Q.play()},X=function(){var Q;(Q=L.current)===null||Q===void 0||Q.stop()},J=function(){var Q;(Q=L.current)===null||Q===void 0||Q.pause()},et=function(Q){var st;(st=L.current)===null||st===void 0||st.setSpeed(Q)},it=function(Q,st){var rt;(rt=L.current)===null||rt===void 0||rt.goToAndPlay(Q,st)},lt=function(Q,st){var rt;(rt=L.current)===null||rt===void 0||rt.goToAndStop(Q,st)},tt=function(Q){var st;(st=L.current)===null||st===void 0||st.setDirection(Q)},W=function(Q,st){var rt;(rt=L.current)===null||rt===void 0||rt.playSegments(Q,st)},O=function(Q){var st;(st=L.current)===null||st===void 0||st.setSubframe(Q)},H=function(Q){var st;return(st=L.current)===null||st===void 0?void 0:st.getDuration(Q)},F=function(){var Q;(Q=L.current)===null||Q===void 0||Q.destroy(),L.current=void 0},N=function(){var Q=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},st;if(G.current){(st=L.current)===null||st===void 0||st.destroy();var rt=_objectSpread2(_objectSpread2(_objectSpread2({},t),Q),{},{container:G.current});return L.current=lottie.loadAnimation(rt),D(!!L.current),function(){var pt;(pt=L.current)===null||pt===void 0||pt.destroy(),L.current=void 0}}};reactExports.useEffect(function(){var $=N();return function(){return $==null?void 0:$()}},[n,a]),reactExports.useEffect(function(){L.current&&(L.current.autoplay=!!l)},[l]),reactExports.useEffect(function(){if(L.current){if(!c){L.current.resetSegments(!0);return}!Array.isArray(c)||!c.length||((L.current.currentRawFrame<c[0]||L.current.currentRawFrame>c[1])&&(L.current.currentRawFrame=c[0]),L.current.setSegment(c[0],c[1]))}},[c]),reactExports.useEffect(function(){var $=[{name:"complete",handler:f},{name:"loopComplete",handler:d},{name:"enterFrame",handler:m},{name:"segmentStart",handler:y},{name:"config_ready",handler:A},{name:"data_ready",handler:b},{name:"data_failed",handler:x},{name:"loaded_images",handler:E},{name:"DOMLoaded",handler:T},{name:"destroy",handler:k}],Q=$.filter(function(rt){return rt.handler!=null});if(Q.length){var st=Q.map(function(rt){var pt;return(pt=L.current)===null||pt===void 0||pt.addEventListener(rt.name,rt.handler),function(){var ht;(ht=L.current)===null||ht===void 0||ht.removeEventListener(rt.name,rt.handler)}});return function(){st.forEach(function(rt){return rt()})}}},[f,d,m,y,A,b,x,E,T,k]);var V=React.createElement("div",_objectSpread2({style:e,ref:G},S));return{View:V,play:q,stop:X,pause:J,setSpeed:et,goToAndStop:lt,goToAndPlay:it,setDirection:tt,playSegments:W,setSubframe:O,getDuration:H,destroy:F,animationContainerRef:G,animationLoaded:R,animationItem:L.current}};function getContainerVisibility(i){var t=i.getBoundingClientRect(),e=t.top,n=t.height,a=window.innerHeight-e,l=window.innerHeight+n;return a/l}function getContainerCursorPosition(i,t,e){var n=i.getBoundingClientRect(),a=n.top,l=n.left,c=n.width,f=n.height,d=(t-l)/c,m=(e-a)/f;return{x:d,y:m}}var useInitInteractivity=function i(t){var e=t.wrapperRef,n=t.animationItem,a=t.mode,l=t.actions;reactExports.useEffect(function(){var c=e.current;if(!(!c||!n||!l.length)){n.stop();var f=function(){var y=null,A=function(){var x=getContainerVisibility(c),E=l.find(function(k){var S=k.visibility;return S&&x>=S[0]&&x<=S[1]});if(E){if(E.type==="seek"&&E.visibility&&E.frames.length===2){var T=E.frames[0]+Math.ceil((x-E.visibility[0])/(E.visibility[1]-E.visibility[0])*E.frames[1]);//! goToAndStop must be relative to the start of the current segment
n.goToAndStop(T-n.firstFrame-1,!0)}E.type==="loop"&&(y===null||y!==E.frames||n.isPaused)&&(n.playSegments(E.frames,!0),y=E.frames),E.type==="play"&&n.isPaused&&(n.resetSegments(!0),n.play()),E.type==="stop"&&n.goToAndStop(E.frames[0]-n.firstFrame-1,!0)}};return document.addEventListener("scroll",A),function(){document.removeEventListener("scroll",A)}},d=function(){var y=function(E,T){var k=E,S=T;if(k!==-1&&S!==-1){var M=getContainerCursorPosition(c,k,S);k=M.x,S=M.y}var P=l.find(function(L){var G=L.position;return G&&Array.isArray(G.x)&&Array.isArray(G.y)?k>=G.x[0]&&k<=G.x[1]&&S>=G.y[0]&&S<=G.y[1]:G&&!Number.isNaN(G.x)&&!Number.isNaN(G.y)?k===G.x&&S===G.y:!1});if(P){if(P.type==="seek"&&P.position&&Array.isArray(P.position.x)&&Array.isArray(P.position.y)&&P.frames.length===2){var R=(k-P.position.x[0])/(P.position.x[1]-P.position.x[0]),D=(S-P.position.y[0])/(P.position.y[1]-P.position.y[0]);n.playSegments(P.frames,!0),n.goToAndStop(Math.ceil((R+D)/2*(P.frames[1]-P.frames[0])),!0)}P.type==="loop"&&n.playSegments(P.frames,!0),P.type==="play"&&(n.isPaused&&n.resetSegments(!1),n.playSegments(P.frames)),P.type==="stop"&&n.goToAndStop(P.frames[0],!0)}},A=function(E){y(E.clientX,E.clientY)},b=function(){y(-1,-1)};return c.addEventListener("mousemove",A),c.addEventListener("mouseout",b),function(){c.removeEventListener("mousemove",A),c.removeEventListener("mouseout",b)}};switch(a){case"scroll":return f();case"cursor":return d()}}},[a,n])},useLottieInteractivity=function i(t){var e=t.actions,n=t.mode,a=t.lottieObj,l=a.animationItem,c=a.View,f=a.animationContainerRef;return useInitInteractivity({actions:e,animationItem:l,mode:n,wrapperRef:f}),c},_excluded$2=["style","interactivity"],Lottie=function i(t){var e,n,a,l=t.style,c=t.interactivity,f=_objectWithoutProperties$1(t,_excluded$2),d=useLottie(f,l),m=d.View,y=d.play,A=d.stop,b=d.pause,x=d.setSpeed,E=d.goToAndStop,T=d.goToAndPlay,k=d.setDirection,S=d.playSegments,M=d.setSubframe,P=d.getDuration,R=d.destroy,D=d.animationContainerRef,L=d.animationLoaded,G=d.animationItem;return reactExports.useEffect(function(){t.lottieRef&&(t.lottieRef.current={play:y,stop:A,pause:b,setSpeed:x,goToAndPlay:T,goToAndStop:E,setDirection:k,playSegments:S,setSubframe:M,getDuration:P,destroy:R,animationContainerRef:D,animationLoaded:L,animationItem:G})},[(e=t.lottieRef)===null||e===void 0?void 0:e.current]),useLottieInteractivity({lottieObj:{View:m,play:y,stop:A,pause:b,setSpeed:x,goToAndStop:E,goToAndPlay:T,setDirection:k,playSegments:S,setSubframe:M,getDuration:P,destroy:R,animationContainerRef:D,animationLoaded:L,animationItem:G},actions:(n=c==null?void 0:c.actions)!==null&&n!==void 0?n:[],mode:(a=c==null?void 0:c.mode)!==null&&a!==void 0?a:"scroll"})};const LottieAnimation=({animationData:i,loop:t=!0,autoplay:e=!0,width:n,height:a})=>{const l=a??"100%",c=n??"100%";return jsxRuntimeExports.jsx("div",{style:{marginLeft:"17px"},children:jsxRuntimeExports.jsx(Lottie,{animationData:i,loop:t,autoPlay:e,style:{height:l,width:c}})})},v$1="5.12.1",fr$1=60,ip$1=0,op$1=37,w$1=40,h$1=40,nm$1="thumbsUp_v02",ddd$1=0,assets$1=[],layers$1=JSON.parse('[{"ddd":0,"ind":1,"ty":4,"nm":"thumbsUp 2","sr":1,"ks":{"o":{"a":0,"k":100,"ix":11},"r":{"a":1,"k":[{"i":{"x":[0.667],"y":[1]},"o":{"x":[0.333],"y":[0]},"t":0,"s":[0]},{"i":{"x":[0.833],"y":[1]},"o":{"x":[0.333],"y":[0]},"t":9,"s":[10]},{"i":{"x":[0.667],"y":[1]},"o":{"x":[0.167],"y":[0]},"t":18,"s":[0]},{"i":{"x":[0.833],"y":[1]},"o":{"x":[0.333],"y":[0]},"t":27,"s":[10]},{"t":36,"s":[0]}],"ix":10},"p":{"a":0,"k":[13.033,23.281,0],"ix":2,"l":2},"a":{"a":0,"k":[5.033,15.281,0],"ix":1,"l":2},"s":{"a":0,"k":[100,100,100],"ix":6,"l":2}},"ao":0,"shapes":[{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":1,"k":[{"i":{"x":0.667,"y":1},"o":{"x":0.333,"y":0},"t":0,"s":[{"i":[[0,0],[0.48,0],[0,0],[0,0],[0,0],[0,0],[0.16,-0.39],[0,0],[0,0],[-0.07,-0.08],[0.03,-0.2],[0,0]],"o":[[-0.09,0.48],[0,0],[0,0],[0,0],[0,0],[0.32,0.28],[0,0],[0,0],[0.21,0],[0.07,0.09],[0,0],[0,0]],"v":[[6.979,6.68],[5.999,7.5],[-3.001,7.5],[-3.001,-0.55],[2.259,-7.12],[3.089,-6.4],[3.359,-5.28],[1.049,0.49],[7.459,0.49],[7.869,0.68],[7.989,1.12],[6.979,6.66]],"c":true}]},{"i":{"x":0.833,"y":1},"o":{"x":0.333,"y":0},"t":9,"s":[{"i":[[0,0],[0.48,0],[0,0],[0,0],[0,0],[0,0],[0.16,-0.39],[0,0],[0,0],[-0.07,-0.08],[0.03,-0.2],[0,0]],"o":[[-0.09,0.48],[0,0],[0,0],[0,0],[0,0],[0.32,0.28],[0,0],[0,0],[0.21,0],[0.07,0.09],[0,0],[0,0]],"v":[[6.979,6.68],[5.999,7.5],[-3.001,7.5],[-3.001,-0.55],[3.493,-3.448],[4.417,-2.541],[4.281,-1.405],[1.049,0.49],[7.459,0.49],[7.869,0.68],[7.989,1.12],[6.979,6.66]],"c":true}]},{"i":{"x":0.667,"y":1},"o":{"x":0.167,"y":0},"t":18,"s":[{"i":[[0,0],[0.48,0],[0,0],[0,0],[0,0],[0,0],[0.16,-0.39],[0,0],[0,0],[-0.07,-0.08],[0.03,-0.2],[0,0]],"o":[[-0.09,0.48],[0,0],[0,0],[0,0],[0,0],[0.32,0.28],[0,0],[0,0],[0.21,0],[0.07,0.09],[0,0],[0,0]],"v":[[7.229,7.399],[6.53,8.031],[-3.439,8.062],[-3.251,-1.113],[2.009,-7.682],[3.714,-6.962],[4.39,-4.78],[2.549,-0.729],[7.927,0.24],[8.337,0.43],[8.457,0.87],[7.51,7.191]],"c":true}]},{"i":{"x":0.667,"y":1},"o":{"x":0.333,"y":0},"t":27,"s":[{"i":[[0,0],[0.48,0],[0,0],[0,0],[0,0],[0,0],[0.16,-0.39],[0,0],[0,0],[-0.07,-0.08],[0.03,-0.2],[0,0]],"o":[[-0.09,0.48],[0,0],[0,0],[0,0],[0,0],[0.32,0.28],[0,0],[0,0],[0.21,0],[0.07,0.09],[0,0],[0,0]],"v":[[6.979,6.68],[5.999,7.5],[-3.001,7.5],[-3.001,-0.55],[3.493,-3.448],[4.417,-2.541],[4.281,-1.405],[1.049,0.49],[7.459,0.49],[7.869,0.68],[7.989,1.12],[6.979,6.66]],"c":true}]},{"t":36,"s":[{"i":[[0,0],[0.48,0],[0,0],[0,0],[0,0],[0,0],[0.16,-0.39],[0,0],[0,0],[-0.07,-0.08],[0.03,-0.2],[0,0]],"o":[[-0.09,0.48],[0,0],[0,0],[0,0],[0,0],[0.32,0.28],[0,0],[0,0],[0.21,0],[0.07,0.09],[0,0],[0,0]],"v":[[6.979,6.68],[5.999,7.5],[-3.001,7.5],[-3.001,-0.55],[2.259,-7.12],[3.089,-6.4],[3.359,-5.28],[1.049,0.49],[7.459,0.49],[7.869,0.68],[7.989,1.12],[6.979,6.66]],"c":true}]}],"ix":2},"nm":"Path 1","mn":"ADBE Vector Shape - Group","hd":false},{"ty":"fl","c":{"a":0,"k":[0.117647066303,0.094117654539,0.117647066303,1],"ix":4},"o":{"a":1,"k":[{"i":{"x":[0.833],"y":[1]},"o":{"x":[0.167],"y":[0]},"t":9,"s":[0]},{"i":{"x":[0.833],"y":[1]},"o":{"x":[0.167],"y":[0]},"t":18,"s":[100]},{"t":27,"s":[0]}],"ix":5},"r":1,"bm":0,"nm":"Fill 1","mn":"ADBE Vector Graphic - Fill","hd":false},{"ty":"tr","p":{"a":0,"k":[12.001,11.5],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"fill","np":2,"cix":2,"bm":0,"ix":1,"mn":"ADBE Vector Group","hd":false},{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":1,"k":[{"i":{"x":0.833,"y":1},"o":{"x":0.333,"y":0},"t":9,"s":[{"i":[[0,0],[0,0],[0,0],[0,0]],"o":[[0,0],[0,0],[0,0],[0,0]],"v":[[-9.97,-1.406],[-9.97,-1.438],[-9.97,9.469],[-10.001,9.531]],"c":true}]},{"i":{"x":0.667,"y":1},"o":{"x":0.167,"y":0},"t":18,"s":[{"i":[[0,0],[0,0],[0,0],[0,0]],"o":[[0,0],[0,0],[0,0],[0,0]],"v":[[-9.97,-1.406],[-6.039,-1.438],[-6.039,9.469],[-10.001,9.531]],"c":true}]},{"t":27,"s":[{"i":[[0,0],[0,0],[0,0],[0,0]],"o":[[0,0],[0,0],[0,0],[0,0]],"v":[[-9.97,-1.406],[-9.97,-1.438],[-9.97,9.469],[-10.001,9.531]],"c":true}]}],"ix":2},"nm":"Path 2","mn":"ADBE Vector Shape - Group","hd":false},{"ty":"fl","c":{"a":0,"k":[0.117647066303,0.094117654539,0.117647066303,1],"ix":4},"o":{"a":0,"k":100,"ix":5},"r":1,"bm":0,"nm":"Fill 1","mn":"ADBE Vector Graphic - Fill","hd":false},{"ty":"tr","p":{"a":0,"k":[12.001,11.5],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"cuff","np":2,"cix":2,"bm":0,"ix":2,"mn":"ADBE Vector Group","hd":false},{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":1,"k":[{"i":{"x":0.667,"y":1},"o":{"x":0.333,"y":0},"t":0,"s":[{"i":[[0,0],[0.48,0],[0,0],[0,0],[0,0],[0,0],[0.16,-0.39],[0,0],[0,0],[-0.07,-0.08],[0.03,-0.2],[0,0]],"o":[[-0.09,0.48],[0,0],[0,0],[0,0],[0,0],[0.32,0.28],[0,0],[0,0],[0.21,0],[0.07,0.09],[0,0],[0,0]],"v":[[6.979,6.68],[5.999,7.5],[-3.001,7.5],[-3.001,-0.55],[2.259,-7.12],[3.089,-6.4],[3.359,-5.28],[1.049,0.49],[7.459,0.49],[7.869,0.68],[7.989,1.12],[6.979,6.66]],"c":true}]},{"i":{"x":0.833,"y":1},"o":{"x":0.333,"y":0},"t":9,"s":[{"i":[[0,0],[0.48,0],[0,0],[0,0],[0,0],[0,0],[0.16,-0.39],[0,0],[0,0],[-0.07,-0.08],[0.03,-0.2],[0,0]],"o":[[-0.09,0.48],[0,0],[0,0],[0,0],[0,0],[0.32,0.28],[0,0],[0,0],[0.21,0],[0.07,0.09],[0,0],[0,0]],"v":[[6.979,6.68],[5.999,7.5],[-3.001,7.5],[-3.001,-0.55],[3.493,-3.448],[4.417,-2.541],[4.281,-1.405],[1.049,0.49],[7.459,0.49],[7.869,0.68],[7.989,1.12],[6.979,6.66]],"c":true}]},{"i":{"x":0.667,"y":1},"o":{"x":0.167,"y":0},"t":18,"s":[{"i":[[0,0],[0.48,0],[0,0],[0,0],[0,0],[0,0],[0.16,-0.39],[0,0],[0,0],[-0.07,-0.08],[0.03,-0.2],[0,0]],"o":[[-0.09,0.48],[0,0],[0,0],[0,0],[0,0],[0.32,0.28],[0,0],[0,0],[0.21,0],[0.07,0.09],[0,0],[0,0]],"v":[[6.979,6.68],[5.999,7.5],[-3.001,7.5],[-3.001,-0.55],[2.259,-7.12],[3.089,-6.4],[3.359,-5.28],[1.049,0.49],[7.459,0.49],[7.869,0.68],[7.989,1.12],[6.979,6.66]],"c":true}]},{"i":{"x":0.667,"y":1},"o":{"x":0.333,"y":0},"t":27,"s":[{"i":[[0,0],[0.48,0],[0,0],[0,0],[0,0],[0,0],[0.16,-0.39],[0,0],[0,0],[-0.07,-0.08],[0.03,-0.2],[0,0]],"o":[[-0.09,0.48],[0,0],[0,0],[0,0],[0,0],[0.32,0.28],[0,0],[0,0],[0.21,0],[0.07,0.09],[0,0],[0,0]],"v":[[6.979,6.68],[5.999,7.5],[-3.001,7.5],[-3.001,-0.55],[3.493,-3.448],[4.417,-2.541],[4.281,-1.405],[1.049,0.49],[7.459,0.49],[7.869,0.68],[7.989,1.12],[6.979,6.66]],"c":true}]},{"t":36,"s":[{"i":[[0,0],[0.48,0],[0,0],[0,0],[0,0],[0,0],[0.16,-0.39],[0,0],[0,0],[-0.07,-0.08],[0.03,-0.2],[0,0]],"o":[[-0.09,0.48],[0,0],[0,0],[0,0],[0,0],[0.32,0.28],[0,0],[0,0],[0.21,0],[0.07,0.09],[0,0],[0,0]],"v":[[6.979,6.68],[5.999,7.5],[-3.001,7.5],[-3.001,-0.55],[2.259,-7.12],[3.089,-6.4],[3.359,-5.28],[1.049,0.49],[7.459,0.49],[7.869,0.68],[7.989,1.12],[6.979,6.66]],"c":true}]}],"ix":2},"nm":"Path 1","mn":"ADBE Vector Shape - Group","hd":false},{"ind":1,"ty":"sh","ix":2,"ks":{"a":1,"k":[{"i":{"x":0.833,"y":1},"o":{"x":0.333,"y":0},"t":9,"s":[{"i":[[0,0],[0,0],[0,0],[0,0]],"o":[[0,0],[0,0],[0,0],[0,0]],"v":[[-8.001,-0.5],[-5.001,-0.5],[-5.001,7.5],[-8.001,7.5]],"c":true}]},{"i":{"x":0.667,"y":1},"o":{"x":0.167,"y":0},"t":18,"s":[{"i":[[0,0],[0,0],[0,0],[0,0]],"o":[[0,0],[0,0],[0,0],[0,0]],"v":[[-4.97,-0.5],[-5.001,-0.5],[-5.001,7.5],[-4.97,7.5]],"c":true}]},{"t":27,"s":[{"i":[[0,0],[0,0],[0,0],[0,0]],"o":[[0,0],[0,0],[0,0],[0,0]],"v":[[-8.001,-0.5],[-5.001,-0.5],[-5.001,7.5],[-8.001,7.5]],"c":true}]}],"ix":2},"nm":"Path 2","mn":"ADBE Vector Shape - Group","hd":false},{"ind":2,"ty":"sh","ix":3,"ks":{"a":1,"k":[{"i":{"x":0.667,"y":1},"o":{"x":0.333,"y":0},"t":0,"s":[{"i":[[0,0],[0,0],[0,0],[0.96,0.84],[0,0],[0.26,0],[0.22,-0.28],[0,0],[0,0],[0,0],[0,0],[-0.26,1.42],[0,0],[0.01,0.16],[1.41,0]],"o":[[0,0],[0,0],[0.47,-1.18],[0,0],[-0.21,-0.19],[-0.33,0],[0,0],[0,0],[0,0],[0,0],[1.45,0],[0,0],[0.03,-0.17],[-0.02,-1.35],[0,0]],"v":[[7.459,-1.5],[3.999,-1.5],[5.209,-4.53],[4.399,-7.9],[2.889,-9.22],[2.149,-9.5],[1.269,-9.08],[-3.991,-2.5],[-10.001,-2.5],[-10.001,9.5],[5.999,9.5],[8.949,7.04],[9.959,1.5],[9.999,1],[7.459,-1.49]],"c":true}]},{"i":{"x":0.833,"y":1},"o":{"x":0.333,"y":0},"t":9,"s":[{"i":[[0,0],[0,0],[0,0],[0.366,0.525],[0,0],[0.26,0],[0.449,-0.17],[0,0],[0,0],[0,0],[0,0],[-0.26,1.42],[0,0],[0.01,0.16],[1.41,0]],"o":[[0,0],[0,0],[0.54,-0.689],[0,0],[-0.21,-0.19],[-0.244,-0.062],[0,0],[0,0],[0,0],[0,0],[1.45,0],[0,0],[0.03,-0.17],[-0.02,-1.35],[0,0]],"v":[[7.459,-1.5],[4.264,0.016],[6.396,-0.967],[6.352,-2.759],[4.889,-4.564],[3.649,-5],[2.628,-4.799],[-3.991,-2.5],[-10.001,-2.5],[-10.001,9.5],[5.999,9.5],[8.949,7.04],[9.959,1.5],[9.999,1],[7.459,-1.49]],"c":true}]},{"i":{"x":0.667,"y":1},"o":{"x":0.167,"y":0},"t":18,"s":[{"i":[[0,0],[0,0],[0,0],[0.96,0.84],[0,0],[0.26,0],[0.22,-0.28],[0,0],[0,0],[0,0],[0,0],[-0.26,1.42],[0,0],[0.01,0.16],[1.41,0]],"o":[[0,0],[0,0],[0.47,-1.18],[0,0],[-0.21,-0.19],[-0.33,0],[0,0],[0,0],[0,0],[0,0],[1.45,0],[0,0],[0.03,-0.17],[-0.02,-1.35],[0,0]],"v":[[7.459,-1.5],[3.999,-1.5],[5.209,-4.53],[4.399,-7.9],[2.889,-9.22],[2.149,-9.5],[1.269,-9.08],[-3.991,-2.5],[-4.97,-2.5],[-4.97,9.5],[5.999,9.5],[8.949,7.04],[9.959,1.5],[9.999,1],[7.459,-1.49]],"c":true}]},{"i":{"x":0.667,"y":1},"o":{"x":0.333,"y":0},"t":27,"s":[{"i":[[0,0],[0,0],[0,0],[0.366,0.525],[0,0],[0.26,0],[0.449,-0.17],[0,0],[0,0],[0,0],[0,0],[-0.26,1.42],[0,0],[0.01,0.16],[1.41,0]],"o":[[0,0],[0,0],[0.54,-0.689],[0,0],[-0.21,-0.19],[-0.244,-0.062],[0,0],[0,0],[0,0],[0,0],[1.45,0],[0,0],[0.03,-0.17],[-0.02,-1.35],[0,0]],"v":[[7.459,-1.5],[4.264,0.016],[6.396,-0.967],[6.352,-2.759],[4.889,-4.564],[3.649,-5],[2.628,-4.799],[-3.991,-2.5],[-10.001,-2.5],[-10.001,9.5],[5.999,9.5],[8.949,7.04],[9.959,1.5],[9.999,1],[7.459,-1.49]],"c":true}]},{"t":36,"s":[{"i":[[0,0],[0,0],[0,0],[0.96,0.84],[0,0],[0.26,0],[0.22,-0.28],[0,0],[0,0],[0,0],[0,0],[-0.26,1.42],[0,0],[0.01,0.16],[1.41,0]],"o":[[0,0],[0,0],[0.47,-1.18],[0,0],[-0.21,-0.19],[-0.33,0],[0,0],[0,0],[0,0],[0,0],[1.45,0],[0,0],[0.03,-0.17],[-0.02,-1.35],[0,0]],"v":[[7.459,-1.5],[3.999,-1.5],[5.209,-4.53],[4.399,-7.9],[2.889,-9.22],[2.149,-9.5],[1.269,-9.08],[-3.991,-2.5],[-10.001,-2.5],[-10.001,9.5],[5.999,9.5],[8.949,7.04],[9.959,1.5],[9.999,1],[7.459,-1.49]],"c":true}]}],"ix":2},"nm":"Path 3","mn":"ADBE Vector Shape - Group","hd":false},{"ty":"fl","c":{"a":0,"k":[0.117647066303,0.094117654539,0.117647066303,1],"ix":4},"o":{"a":0,"k":100,"ix":5},"r":1,"bm":0,"nm":"Fill 1","mn":"ADBE Vector Graphic - Fill","hd":false},{"ty":"tr","p":{"a":0,"k":[12.001,11.5],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"main","np":4,"cix":2,"bm":0,"ix":3,"mn":"ADBE Vector Group","hd":false}],"ip":0,"op":11463,"st":0,"ct":1,"bm":0}]'),markers$1=[],props$1={},successLottieData={v:v$1,fr:fr$1,ip:ip$1,op:op$1,w:w$1,h:h$1,nm:nm$1,ddd:ddd$1,assets:assets$1,layers:layers$1,markers:markers$1,props:props$1},v="5.12.1",fr=60,ip=67,op=274,w=352,h=352,nm="rough_error_v05",ddd=0,assets=[],layers=JSON.parse('[{"ddd":0,"ind":1,"ty":4,"nm":"error","sr":1,"ks":{"o":{"a":0,"k":100,"ix":11},"r":{"a":1,"k":[{"i":{"x":[0.2],"y":[1]},"o":{"x":[0.35],"y":[0]},"t":161,"s":[-81]},{"t":186,"s":[0]}],"ix":10},"p":{"a":1,"k":[{"i":{"x":0.355,"y":0.751},"o":{"x":0.436,"y":0},"t":161,"s":[168.798,293.888,0],"to":[6.466,-67.489,0],"ti":[-13.698,-0.059,0]},{"i":{"x":0.659,"y":1},"o":{"x":0.272,"y":0.305},"t":175,"s":[196.86,192.28,0],"to":[10.648,-0.525,0],"ti":[-0.094,-0.289,0]},{"i":{"x":0.631,"y":0.443},"o":{"x":0.362,"y":0},"t":186,"s":[207,217.45,0],"to":[0.759,-4.824,0],"ti":[-0.096,3.215,0]},{"i":{"x":0.591,"y":1},"o":{"x":0.113,"y":1},"t":196,"s":[207,209.165,0],"to":[0.011,-0.354,0],"ti":[0,0,0]},{"t":207,"s":[207.048,210.638,0]}],"ix":2,"l":2},"a":{"a":0,"k":[26.112,26.112,0],"ix":1,"l":2},"s":{"a":1,"k":[{"i":{"x":[0.2,0.2,0.2],"y":[1,1,1]},"o":{"x":[0.35,0.35,0.35],"y":[0,0,0]},"t":161,"s":[0,0,100]},{"t":186,"s":[100,100,100]}],"ix":6,"l":2}},"ao":0,"shapes":[{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":0,"k":{"i":[[0,0],[0,0],[0.637,0.637],[0,0],[0.637,-0.637],[0,0],[0,0],[0.637,-0.637],[0,0],[-0.637,-0.637],[0,0],[0,0],[-0.637,-0.637],[0,0],[-0.637,0.637],[0,0],[0,0],[-0.637,0.637],[0,0],[0.637,0.637]],"o":[[0,0],[0.637,-0.637],[0,0],[-0.637,-0.637],[0,0],[0,0],[-0.637,-0.637],[0,0],[-0.637,0.637],[0,0],[0,0],[-0.637,0.637],[0,0],[0.637,0.637],[0,0],[0,0],[0.637,0.637],[0,0],[0.637,-0.637],[0,0]],"v":[[3.462,0],[10.963,-7.501],[10.963,-9.809],[9.809,-10.963],[7.501,-10.963],[0,-3.462],[-7.501,-10.963],[-9.809,-10.963],[-10.963,-9.809],[-10.963,-7.501],[-3.462,0],[-10.963,7.501],[-10.963,9.809],[-9.809,10.963],[-7.501,10.963],[0,3.462],[7.501,10.963],[9.809,10.963],[10.963,9.809],[10.963,7.501]],"c":true},"ix":2},"nm":"Path 1","mn":"ADBE Vector Shape - Group","hd":false},{"ty":"fl","c":{"a":0,"k":[1,1,1,1],"ix":4},"o":{"a":0,"k":100,"ix":5},"r":1,"bm":0,"nm":"Fill X","mn":"ADBE Vector Graphic - Fill","hd":false},{"ty":"tr","p":{"a":0,"k":[26,26],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"x","np":2,"cix":2,"bm":0,"ix":1,"mn":"ADBE Vector Group","hd":false},{"ty":"gr","it":[{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":0,"k":{"i":[[-14.422,0],[0,14.422],[14.422,0],[0,-14.422]],"o":[[14.422,0],[0,-14.422],[-14.422,0],[0,14.422]],"v":[[0,26.112],[26.112,0],[0,-26.112],[-26.112,0]],"c":true},"ix":2},"nm":"Path 4","mn":"ADBE Vector Shape - Group","hd":false},{"ty":"gf","o":{"a":0,"k":90,"ix":10},"r":1,"bm":0,"g":{"p":3,"k":{"a":0,"k":[0,1,0.49,0.529,0.5,0.825,0.245,0.388,1,0.651,0,0.247],"ix":9}},"s":{"a":0,"k":[-12.9,-17.632],"ix":5},"e":{"a":0,"k":[6.163,16.665],"ix":6},"t":1,"nm":"Gradient fill X","mn":"ADBE Vector Graphic - G-Fill","hd":false},{"ty":"tr","p":{"a":0,"k":[0,0],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Group 1","np":2,"cix":2,"bm":0,"ix":1,"mn":"ADBE Vector Group","hd":false},{"ty":"tr","p":{"a":0,"k":[26.112,26.112],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"BG","np":1,"cix":2,"bm":0,"ix":2,"mn":"ADBE Vector Group","hd":false}],"ip":152,"op":1952,"st":152,"ct":1,"bm":0},{"ddd":0,"ind":2,"ty":4,"nm":"mask 2","td":1,"sr":1,"ks":{"o":{"a":0,"k":100,"ix":11},"r":{"a":0,"k":0,"ix":10},"p":{"a":0,"k":[169,289,0],"ix":2,"l":2},"a":{"a":0,"k":[0,0,0],"ix":1,"l":2},"s":{"a":0,"k":[48,48,100],"ix":6,"l":2}},"ao":0,"shapes":[{"ty":"gr","it":[{"ty":"rc","d":1,"s":{"a":0,"k":[352,500],"ix":2},"p":{"a":0,"k":[0,-248],"ix":3},"r":{"a":0,"k":0,"ix":4},"nm":"Rectangle Path 1","mn":"ADBE Vector Shape - Rect","hd":false},{"ty":"gf","o":{"a":0,"k":100,"ix":10},"r":1,"bm":0,"g":{"p":3,"k":{"a":0,"k":[0.849,0,0,0,0.924,0,0,0,1,0,0,0,0.867,1,0.933,0.5,0.999,0],"ix":9}},"s":{"a":0,"k":[8.024,-479.785],"ix":5},"e":{"a":0,"k":[12.37,-4.142],"ix":6},"t":1,"nm":"Gradient mask","mn":"ADBE Vector Graphic - G-Fill","hd":false},{"ty":"tr","p":{"a":0,"k":[0,0],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Rectangle 1","np":2,"cix":2,"bm":0,"ix":1,"mn":"ADBE Vector Group","hd":false}],"ip":0,"op":1800,"st":0,"ct":1,"bm":0},{"ddd":0,"ind":3,"ty":4,"nm":"doc1","tt":1,"tp":2,"sr":1,"ks":{"o":{"a":0,"k":99.599,"ix":11},"r":{"a":1,"k":[{"i":{"x":[0.65],"y":[1]},"o":{"x":[0.8],"y":[0]},"t":120,"s":[0]},{"t":166,"s":[18]}],"ix":10},"p":{"a":1,"k":[{"i":{"x":0.65,"y":1},"o":{"x":0.8,"y":0},"t":120,"s":[183.281,110.635,0],"to":[0,0,0],"ti":[0,0,0]},{"t":166,"s":[183.281,348.809,0]}],"ix":2,"l":2},"a":{"a":0,"k":[54.083,64.5,0],"ix":1,"l":2},"s":{"a":1,"k":[{"i":{"x":[0.65,0.65,0.65],"y":[1,1,1]},"o":{"x":[0.8,0.8,0.8],"y":[0,0,0]},"t":120,"s":[100,100,100]},{"t":166,"s":[60,60,100]}],"ix":6,"l":2}},"ao":0,"shapes":[{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":0,"k":{"i":[[0,0],[0,0],[0,0],[0,0]],"o":[[0,0],[0,0],[0,0],[0,0]],"v":[[17.135,-65.424],[-42.057,-65.424],[-42.057,-59.193],[17.135,-59.193]],"c":true},"ix":2},"nm":"Path 1","mn":"ADBE Vector Shape - Group","hd":false},{"ind":1,"ty":"sh","ix":2,"ks":{"a":0,"k":{"i":[[0,0],[0,-1.105],[0,0],[-1.105,0],[0,0],[0,1.105],[0,0],[1.104,0]],"o":[[-1.105,0],[0,0],[0,1.105],[0,0],[1.104,0],[0,0],[0,-1.105],[0,0]],"v":[[-40.057,-52.963],[-42.057,-50.962],[-42.057,-48.732],[-40.057,-46.731],[-0.441,-46.731],[1.559,-48.732],[1.559,-50.962],[-0.441,-52.963]],"c":true},"ix":2},"nm":"Path 2","mn":"ADBE Vector Shape - Group","hd":false},{"ind":2,"ty":"sh","ix":3,"ks":{"a":0,"k":{"i":[[-1.105,0],[0,0],[0,-1.105],[0,0],[1.105,0],[0,0],[0,1.104],[0,0]],"o":[[0,0],[1.105,0],[0,0],[0,1.104],[0,0],[-1.105,0],[0,0],[0,-1.105]],"v":[[-40.057,-28.04],[40.057,-28.04],[42.057,-26.04],[42.057,-23.809],[40.057,-21.809],[-40.057,-21.809],[-42.057,-23.809],[-42.057,-26.04]],"c":true},"ix":2},"nm":"Path 3","mn":"ADBE Vector Shape - Group","hd":false},{"ind":3,"ty":"sh","ix":4,"ks":{"a":0,"k":{"i":[[-1.105,0],[0,0],[0,-1.105],[0,0],[1.105,0],[0,0],[0,1.104],[0,0]],"o":[[0,0],[1.105,0],[0,0],[0,1.104],[0,0],[-1.105,0],[0,0],[0,-1.105]],"v":[[-40.057,-15.578],[30.712,-15.578],[32.712,-13.578],[32.712,-11.347],[30.712,-9.347],[-40.057,-9.347],[-42.057,-11.347],[-42.057,-13.578]],"c":true},"ix":2},"nm":"Path 4","mn":"ADBE Vector Shape - Group","hd":false},{"ind":4,"ty":"sh","ix":5,"ks":{"a":0,"k":{"i":[[-1.105,0],[0,0],[0,-1.105],[0,0],[1.105,0],[0,0],[0,1.104],[0,0]],"o":[[0,0],[1.105,0],[0,0],[0,1.104],[0,0],[-1.105,0],[0,0],[0,-1.105]],"v":[[-40.057,-3.116],[40.057,-3.116],[42.057,-1.115],[42.057,1.116],[40.057,3.116],[-40.057,3.116],[-42.057,1.116],[-42.057,-1.115]],"c":true},"ix":2},"nm":"Path 5","mn":"ADBE Vector Shape - Group","hd":false},{"ind":5,"ty":"sh","ix":6,"ks":{"a":0,"k":{"i":[[-1.105,0],[0,0],[0,-1.105],[0,0],[1.105,0],[0,0],[0,1.104],[0,0]],"o":[[0,0],[1.105,0],[0,0],[0,1.104],[0,0],[-1.105,0],[0,0],[0,-1.105]],"v":[[-40.057,9.346],[15.135,9.346],[17.135,11.346],[17.135,13.577],[15.135,15.577],[-40.057,15.577],[-42.057,13.577],[-42.057,11.346]],"c":true},"ix":2},"nm":"Path 6","mn":"ADBE Vector Shape - Group","hd":false},{"ty":"fl","c":{"a":0,"k":[0.298039215686,0,0.984313785329,1],"ix":4},"o":{"a":0,"k":100,"ix":5},"r":1,"bm":0,"nm":"Fill 1","mn":"ADBE Vector Graphic - Fill","hd":false},{"ty":"tr","p":{"a":0,"k":[56.307,90.674],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"text 2","np":7,"cix":2,"bm":0,"ix":1,"mn":"ADBE Vector Group","hd":false},{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":0,"k":{"i":[[0,0],[0,-2.183],[0,0],[-2.183,0],[0,0],[0,2.183],[0,0],[0,0]],"o":[[-2.183,0],[0,0],[0,2.183],[0,0],[2.182,0],[0,0],[0,0],[0,0]],"v":[[-38.849,-124.674],[-42.802,-120.721],[-42.802,-7.626],[-38.849,-3.674],[53.413,-3.674],[57.365,-7.626],[57.365,-92.417],[27.976,-124.674]],"c":true},"ix":2},"nm":"Path 2","mn":"ADBE Vector Shape - Group","hd":false},{"ty":"gs","o":{"a":0,"k":100,"ix":9},"w":{"a":0,"k":4,"ix":10},"g":{"p":3,"k":{"a":0,"k":[0,0.914,0.902,0.992,0.5,0.78,0.749,0.996,0.999,0.647,0.596,1],"ix":8}},"s":{"a":0,"k":[3.785,-122.215],"ix":4},"e":{"a":0,"k":[-0.373,-5.814],"ix":5},"t":1,"lc":1,"lj":1,"ml":4,"ml2":{"a":0,"k":4,"ix":13},"bm":0,"nm":"stroke doc 1","mn":"ADBE Vector Graphic - G-Stroke","hd":false},{"ty":"gf","o":{"a":0,"k":100,"ix":10},"r":1,"bm":0,"g":{"p":3,"k":{"a":0,"k":[0,1,1,1,0.5,0.929,0.92,0.998,1,0.859,0.839,0.996],"ix":9}},"s":{"a":0,"k":[6.213,-121.201],"ix":5},"e":{"a":0,"k":[5.455,-7.047],"ix":6},"t":1,"nm":"Gradient fill doc 1","mn":"ADBE Vector Graphic - G-Fill","hd":false},{"ty":"tr","p":{"a":0,"k":[46.802,128.674],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"doc","np":3,"cix":2,"bm":0,"ix":2,"mn":"ADBE Vector Group","hd":false}],"ip":0,"op":1800,"st":0,"ct":1,"bm":0},{"ddd":0,"ind":4,"ty":4,"nm":"mask 3","td":1,"sr":1,"ks":{"o":{"a":0,"k":100,"ix":11},"r":{"a":0,"k":0,"ix":10},"p":{"a":0,"k":[169,289,0],"ix":2,"l":2},"a":{"a":0,"k":[0,0,0],"ix":1,"l":2},"s":{"a":0,"k":[48,48,100],"ix":6,"l":2}},"ao":0,"shapes":[{"ty":"gr","it":[{"ty":"rc","d":1,"s":{"a":0,"k":[352,500],"ix":2},"p":{"a":0,"k":[0,-248],"ix":3},"r":{"a":0,"k":0,"ix":4},"nm":"Rectangle Path 1","mn":"ADBE Vector Shape - Rect","hd":false},{"ty":"gf","o":{"a":0,"k":100,"ix":10},"r":1,"bm":0,"g":{"p":3,"k":{"a":0,"k":[0.849,0,0,0,0.924,0,0,0,1,0,0,0,0.867,1,0.933,0.5,0.999,0],"ix":9}},"s":{"a":0,"k":[8.024,-479.785],"ix":5},"e":{"a":0,"k":[12.37,-4.142],"ix":6},"t":1,"nm":"Gradient mask","mn":"ADBE Vector Graphic - G-Fill","hd":false},{"ty":"tr","p":{"a":0,"k":[0,0],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Rectangle 1","np":2,"cix":2,"bm":0,"ix":1,"mn":"ADBE Vector Group","hd":false}],"ip":0,"op":1800,"st":0,"ct":1,"bm":0},{"ddd":0,"ind":5,"ty":4,"nm":"doc2a","tt":1,"tp":4,"sr":1,"ks":{"o":{"a":0,"k":99.599,"ix":11},"r":{"a":1,"k":[{"i":{"x":[0.65],"y":[1]},"o":{"x":[0.8],"y":[0]},"t":125,"s":[-13]},{"t":171,"s":[48]}],"ix":10},"p":{"a":1,"k":[{"i":{"x":0.65,"y":1},"o":{"x":0.8,"y":0},"t":125,"s":[166.781,120.635,0],"to":[0,0,0],"ti":[0,0,0]},{"t":171,"s":[166.781,357.809,0]}],"ix":2,"l":2},"a":{"a":0,"k":[54.083,64.5,0],"ix":1,"l":2},"s":{"a":1,"k":[{"i":{"x":[0.65,0.65,0.65],"y":[1,1,1]},"o":{"x":[0.8,0.8,0.8],"y":[0,0,0]},"t":125,"s":[98,98,100]},{"t":171,"s":[60,60,100]}],"ix":6,"l":2}},"ao":0,"shapes":[{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":0,"k":{"i":[[0,0],[0,-2.183],[0,0],[-2.183,0],[0,0],[0,2.183],[0,0],[0,0]],"o":[[-2.183,0],[0,0],[0,2.183],[0,0],[2.182,0],[0,0],[0,0],[0,0]],"v":[[-38.849,-124.674],[-42.802,-120.721],[-42.802,-7.626],[-38.849,-3.674],[53.413,-3.674],[57.365,-7.626],[57.365,-92.417],[27.976,-124.674]],"c":true},"ix":2},"nm":"Path 2","mn":"ADBE Vector Shape - Group","hd":false},{"ty":"gf","o":{"a":0,"k":100,"ix":10},"r":1,"bm":0,"g":{"p":3,"k":{"a":1,"k":[{"i":{"x":0.667,"y":1},"o":{"x":0.333,"y":0},"t":125,"s":[0,1,0.267,0.392,0.5,0.649,0.133,0.688,1,0.298,0,0.984]},{"t":171,"s":[0,0.859,0.839,0.996,0.5,0.578,0.42,0.99,1,0.298,0,0.984]}],"ix":9}},"s":{"a":0,"k":[3.382,-118.494],"ix":5},"e":{"a":0,"k":[8.241,-7.506],"ix":6},"t":1,"nm":"Gradient doc 2","mn":"ADBE Vector Graphic - G-Fill","hd":false},{"ty":"tr","p":{"a":0,"k":[46.802,128.674],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"doc","np":2,"cix":2,"bm":0,"ix":1,"mn":"ADBE Vector Group","hd":false}],"ip":0,"op":1800,"st":0,"ct":1,"bm":0},{"ddd":0,"ind":6,"ty":4,"nm":"mask","td":1,"sr":1,"ks":{"o":{"a":0,"k":100,"ix":11},"r":{"a":0,"k":0,"ix":10},"p":{"a":0,"k":[169,289,0],"ix":2,"l":2},"a":{"a":0,"k":[0,0,0],"ix":1,"l":2},"s":{"a":0,"k":[48,48,100],"ix":6,"l":2}},"ao":0,"shapes":[{"ty":"gr","it":[{"ty":"rc","d":1,"s":{"a":0,"k":[352,500],"ix":2},"p":{"a":0,"k":[0,-248],"ix":3},"r":{"a":0,"k":0,"ix":4},"nm":"Rectangle Path 1","mn":"ADBE Vector Shape - Rect","hd":false},{"ty":"gf","o":{"a":0,"k":100,"ix":10},"r":1,"bm":0,"g":{"p":3,"k":{"a":0,"k":[0.849,0,0,0,0.924,0,0,0,1,0,0,0,0.867,1,0.933,0.5,0.999,0],"ix":9}},"s":{"a":0,"k":[8.024,-479.785],"ix":5},"e":{"a":0,"k":[12.37,-4.142],"ix":6},"t":1,"nm":"Gradient mask","mn":"ADBE Vector Graphic - G-Fill","hd":false},{"ty":"tr","p":{"a":0,"k":[0,0],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Rectangle 1","np":2,"cix":2,"bm":0,"ix":1,"mn":"ADBE Vector Group","hd":false}],"ip":0,"op":1800,"st":0,"ct":1,"bm":0},{"ddd":0,"ind":7,"ty":4,"nm":"doc3b","tt":1,"tp":6,"sr":1,"ks":{"o":{"a":0,"k":99.599,"ix":11},"r":{"a":1,"k":[{"i":{"x":[0.65],"y":[1]},"o":{"x":[0.8],"y":[0]},"t":132,"s":[-24]},{"t":186,"s":[0]}],"ix":10},"p":{"a":1,"k":[{"i":{"x":0.2,"y":1},"o":{"x":0.35,"y":0},"t":132,"s":[156.781,124.135,0],"to":[0,0,0],"ti":[0,0,0]},{"i":{"x":0.2,"y":1},"o":{"x":0.35,"y":0},"t":161,"s":[167.781,179.809,0],"to":[0,0,0],"ti":[0,0,0]},{"i":{"x":0.2,"y":1},"o":{"x":0.167,"y":0},"t":186,"s":[160.781,144.635,0],"to":[0,0,0],"ti":[0,0,0]},{"t":207,"s":[162.781,156.635,0]}],"ix":2,"l":2},"a":{"a":0,"k":[54.083,64.5,0],"ix":1,"l":2},"s":{"a":1,"k":[{"i":{"x":[0.667,0.667,0.667],"y":[1,1,1]},"o":{"x":[0.333,0.333,0.333],"y":[0,0,0]},"t":132,"s":[95,95,100]},{"i":{"x":[0.667,0.667,0.667],"y":[1,1,1]},"o":{"x":[0.333,0.333,0.333],"y":[0,0,0]},"t":161,"s":[80,80,100]},{"t":186,"s":[95,95,100]}],"ix":6,"l":2}},"ao":0,"shapes":[{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":0,"k":{"i":[[0,0],[0,-2.183],[0,0],[-2.183,0],[0,0],[0,2.183],[0,0],[0,0]],"o":[[-2.183,0],[0,0],[0,2.183],[0,0],[2.182,0],[0,0],[0,0],[0,0]],"v":[[-38.849,-124.674],[-42.802,-120.721],[-42.802,-7.626],[-38.849,-3.674],[53.413,-3.674],[57.365,-7.626],[57.365,-92.417],[27.976,-124.674]],"c":true},"ix":2},"nm":"Path 2","mn":"ADBE Vector Shape - Group","hd":false},{"ty":"gs","o":{"a":1,"k":[{"i":{"x":[0.667],"y":[1]},"o":{"x":[0.333],"y":[0]},"t":161,"s":[0]},{"t":189,"s":[15]}],"ix":9},"w":{"a":0,"k":4,"ix":10},"g":{"p":3,"k":{"a":0,"k":[0,0.792,0.761,1,0.5,0.48,0.388,0.749,1,0.169,0.016,0.498],"ix":8}},"s":{"a":0,"k":[3.785,-122.215],"ix":4},"e":{"a":0,"k":[-0.373,-5.814],"ix":5},"t":1,"lc":1,"lj":1,"ml":4,"ml2":{"a":0,"k":4,"ix":13},"bm":0,"nm":"Gradient Stroke doc 3","mn":"ADBE Vector Graphic - G-Stroke","hd":false},{"ty":"gf","o":{"a":0,"k":100,"ix":10},"r":1,"bm":0,"g":{"p":5,"k":{"a":1,"k":[{"i":{"x":0.667,"y":1},"o":{"x":0.333,"y":0},"t":147,"s":[0,0.2,0.012,0.6,0.005,0.2,0.012,0.6,0.01,0.2,0.012,0.6,0.505,0.2,0.012,0.6,1,0.2,0.012,0.6]},{"t":184,"s":[0,1,1,1,0.5,0.976,0.975,0.998,0.998,0.953,0.949,0.996,0.999,0.953,0.949,0.996,1,0.953,0.949,0.996]}],"ix":9}},"s":{"a":0,"k":[6.213,-121.201],"ix":5},"e":{"a":0,"k":[5.455,-7.047],"ix":6},"t":1,"nm":"Gradient doc 3","mn":"ADBE Vector Graphic - G-Fill","hd":false},{"ty":"tr","p":{"a":0,"k":[46.802,128.674],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"doc","np":3,"cix":2,"bm":0,"ix":1,"mn":"ADBE Vector Group","hd":false}],"ip":0,"op":1800,"st":0,"ct":1,"bm":0},{"ddd":0,"ind":8,"ty":4,"nm":"agreement trap","sr":1,"ks":{"o":{"a":0,"k":100,"ix":11},"r":{"a":0,"k":0,"ix":10},"p":{"a":0,"k":[168,289,0],"ix":2,"l":2},"a":{"a":0,"k":[0,0,0],"ix":1,"l":2},"s":{"a":1,"k":[{"i":{"x":[0.2,0.2,0.2],"y":[1,1,1]},"o":{"x":[0.35,0.35,0.35],"y":[0,0,0]},"t":103,"s":[0,0,100]},{"i":{"x":[0.752,0.752,0.752],"y":[1,1,1]},"o":{"x":[0.462,0.462,0.462],"y":[0,0,0]},"t":120,"s":[57.143,10,100]},{"i":{"x":[0.263,0.263,0.263],"y":[1,1,1]},"o":{"x":[0.173,0.173,0.173],"y":[0,0,0]},"t":133,"s":[45,7,100]},{"i":{"x":[0.2,0.2,0.2],"y":[1,1,1]},"o":{"x":[0.35,0.35,0.35],"y":[0,0,0]},"t":186,"s":[45,7,100]},{"t":194,"s":[0,0,100]}],"ix":6,"l":2}},"ao":0,"shapes":[{"ty":"gr","it":[{"d":1,"ty":"el","s":{"a":0,"k":[352,352],"ix":2},"p":{"a":0,"k":[0,0],"ix":3},"nm":"Ellipse Path 1","mn":"ADBE Vector Shape - Ellipse","hd":false},{"ty":"gf","o":{"a":0,"k":100,"ix":10},"r":1,"bm":0,"g":{"p":3,"k":{"a":0,"k":[0,1,0.267,0.392,0.5,1,0.267,0.392,1,1,0.267,0.392,0,0.6,0.5,0.3,1,0],"ix":9}},"s":{"a":0,"k":[0,0],"ix":5},"e":{"a":0,"k":[166.426,0],"ix":6},"t":2,"h":{"a":0,"k":0,"ix":7},"a":{"a":0,"k":0,"ix":8},"nm":"accent gradient","mn":"ADBE Vector Graphic - G-Fill","hd":false},{"ty":"tr","p":{"a":0,"k":[0,0],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"accent","np":2,"cix":2,"bm":0,"ix":1,"mn":"ADBE Vector Group","hd":false},{"ty":"gr","it":[{"d":1,"ty":"el","s":{"a":0,"k":[352,352],"ix":2},"p":{"a":0,"k":[0,0],"ix":3},"nm":"Ellipse Path 1","mn":"ADBE Vector Shape - Ellipse","hd":false},{"ty":"fl","c":{"a":0,"k":[0.156862750649,0.039215687662,0.400000035763,1],"ix":4},"o":{"a":0,"k":100,"ix":5},"r":1,"bm":0,"nm":"Fill 1","mn":"ADBE Vector Graphic - Fill","hd":false},{"ty":"tr","p":{"a":0,"k":[0,0],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"main","np":2,"cix":2,"bm":0,"ix":2,"mn":"ADBE Vector Group","hd":false}],"ip":0,"op":1800,"st":0,"ct":1,"bm":0},{"ddd":0,"ind":9,"ty":4,"nm":"shadow","sr":1,"ks":{"o":{"a":0,"k":50,"ix":11},"r":{"a":0,"k":0,"ix":10},"p":{"a":0,"k":[168,289.834,0],"ix":2,"l":2},"a":{"a":0,"k":[0,-468.052,0],"ix":1,"l":2},"s":{"a":1,"k":[{"i":{"x":[0.833,0.833,0.833],"y":[0.833,0.833,0.833]},"o":{"x":[0.167,0.167,0.167],"y":[0.167,0.167,0.167]},"t":119,"s":[61,11,100]},{"t":158,"s":[50,9.016,100]}],"ix":6,"l":2}},"ao":0,"shapes":[{"ty":"gr","it":[{"d":1,"ty":"el","s":{"a":0,"k":[352,352],"ix":2},"p":{"a":0,"k":[0,0],"ix":3},"nm":"Ellipse shadow","mn":"ADBE Vector Shape - Ellipse","hd":false},{"ty":"gf","o":{"a":0,"k":100,"ix":10},"r":1,"bm":0,"g":{"p":3,"k":{"a":0,"k":[0,0.145,0.059,0.392,0.5,0.145,0.059,0.392,1,0.145,0.059,0.392,0,1,0.5,0.5,1,0],"ix":9}},"s":{"a":0,"k":[0,0],"ix":5},"e":{"a":0,"k":[137.472,18.917],"ix":6},"t":2,"h":{"a":0,"k":0,"ix":7},"a":{"a":0,"k":0,"ix":8},"nm":"gradient fill shadow","mn":"ADBE Vector Graphic - G-Fill","hd":false},{"ty":"tr","p":{"a":0,"k":[0,-468.052],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"shadow","np":2,"cix":2,"bm":0,"ix":1,"mn":"ADBE Vector Group","hd":false}],"ip":0,"op":1800,"st":0,"ct":1,"bm":0}]'),markers=[],props={},roughErrorLottieData={v,fr,ip,op,w,h,nm,ddd,assets,layers,markers,props},FeedbackScreen=({isCorrect:i,onNext:t})=>jsxRuntimeExports.jsxs("div",{className:"container",children:[i?jsxRuntimeExports.jsx(LottieAnimation,{animationData:successLottieData,loop:!1,width:200,height:200}):jsxRuntimeExports.jsx(LottieAnimation,{animationData:roughErrorLottieData}),jsxRuntimeExports.jsx("button",{className:"start-next-restart",onClick:t,children:"Nächste"})]});var DefaultContext={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},IconContext=React.createContext&&React.createContext(DefaultContext),_excluded=["attr","size","title"];function _objectWithoutProperties(i,t){if(i==null)return{};var e=_objectWithoutPropertiesLoose(i,t),n,a;if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(i);for(a=0;a<l.length;a++)n=l[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(i,n)&&(e[n]=i[n])}return e}function _objectWithoutPropertiesLoose(i,t){if(i==null)return{};var e={};for(var n in i)if(Object.prototype.hasOwnProperty.call(i,n)){if(t.indexOf(n)>=0)continue;e[n]=i[n]}return e}function _extends(){return _extends=Object.assign?Object.assign.bind():function(i){for(var t=1;t<arguments.length;t++){var e=arguments[t];for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(i[n]=e[n])}return i},_extends.apply(this,arguments)}function ownKeys(i,t){var e=Object.keys(i);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(i);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(i,a).enumerable})),e.push.apply(e,n)}return e}function _objectSpread(i){for(var t=1;t<arguments.length;t++){var e=arguments[t]!=null?arguments[t]:{};t%2?ownKeys(Object(e),!0).forEach(function(n){_defineProperty(i,n,e[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(i,Object.getOwnPropertyDescriptors(e)):ownKeys(Object(e)).forEach(function(n){Object.defineProperty(i,n,Object.getOwnPropertyDescriptor(e,n))})}return i}function _defineProperty(i,t,e){return t=_toPropertyKey(t),t in i?Object.defineProperty(i,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):i[t]=e,i}function _toPropertyKey(i){var t=_toPrimitive(i,"string");return typeof t=="symbol"?t:t+""}function _toPrimitive(i,t){if(typeof i!="object"||!i)return i;var e=i[Symbol.toPrimitive];if(e!==void 0){var n=e.call(i,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(i)}function Tree2Element(i){return i&&i.map((t,e)=>React.createElement(t.tag,_objectSpread({key:e},t.attr),Tree2Element(t.child)))}function GenIcon(i){return t=>React.createElement(IconBase,_extends({attr:_objectSpread({},i.attr)},t),Tree2Element(i.child))}function IconBase(i){var t=e=>{var{attr:n,size:a,title:l}=i,c=_objectWithoutProperties(i,_excluded),f=a||e.size||"1em",d;return e.className&&(d=e.className),i.className&&(d=(d?d+" ":"")+i.className),React.createElement("svg",_extends({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},e.attr,n,c,{className:d,style:_objectSpread(_objectSpread({color:i.color||e.color},e.style),i.style),height:f,width:f,xmlns:"http://www.w3.org/2000/svg"}),l&&React.createElement("title",null,l),i.children)};return IconContext!==void 0?React.createElement(IconContext.Consumer,null,e=>t(e)):t(DefaultContext)}function FcClock(i){return GenIcon({attr:{version:"1",viewBox:"0 0 48 48",enableBackground:"new 0 0 48 48"},child:[{tag:"circle",attr:{fill:"#00ACC1",cx:"24",cy:"24",r:"20"},child:[]},{tag:"circle",attr:{fill:"#eee",cx:"24",cy:"24",r:"16"},child:[]},{tag:"rect",attr:{x:"23",y:"11",width:"2",height:"13"},child:[]},{tag:"rect",attr:{x:"26.1",y:"22.7",transform:"matrix(-.707 .707 -.707 -.707 65.787 27.25)",width:"2.3",height:"9.2"},child:[]},{tag:"circle",attr:{cx:"24",cy:"24",r:"2"},child:[]},{tag:"circle",attr:{fill:"#00ACC1",cx:"24",cy:"24",r:"1"},child:[]}]})(i)}const ResultsScreen=({score:i,totalQuestions:t,onRestart:e})=>jsxRuntimeExports.jsxs("div",{className:"container",children:[jsxRuntimeExports.jsx("img",{className:"logo",alt:"logo",src:"/BeTheJudge/logo.svg"}),jsxRuntimeExports.jsxs("p",{children:["Deine Punktestand: ",i," / ",t]}),jsxRuntimeExports.jsxs("div",{className:"duration",children:[jsxRuntimeExports.jsx(FcClock,{size:40}),"  ",jsxRuntimeExports.jsxs("p",{id:"time",children:[Number(sessionStorage.getItem(TOTAL_ANSWER_TIME_MILLIS))/1e3," s"]})]}),jsxRuntimeExports.jsx("p",{children:"Wow, das hat dich ja eine Ewigkeit gekostet... Mit der in die Docusign IAM integrierten KI hättest du enorm viel Zeit gespart und Lücken sowie Risiken blitzschnell erkannt."}),jsxRuntimeExports.jsx("button",{className:"start-next-restart",onClick:e,children:"RESTART"})]}),questions=[{topic:"AI",pdfUrl:"/pdf/contract1.pdf",question:"Können Sie die 3 Fehler in dieser Vereinbarung finden?",left:"Nein",right:"Ja",correctAnswer:"right"},{topic:"AI",pdfUrl:"/pdf/contract2.pdf",question:"Fehlt etwas in dieser Vereinbarung?",left:"Nein",right:"Ja",correctAnswer:"right"},{topic:"AI",imageUrl:"/images/ai_de_1.png",question:"Können Sie den letzten Nachtrag zum Darlehensvertrag finden?",left:"Nein",right:"Ja",correctAnswer:"right"},{topic:"Automation",clause:"Wie stark können Unternehmen die Fehlerquote reduzieren, wenn sie Vereinbarungen durchgängig digitalisieren?",question:"",left:"85%",right:"65%",correctAnswer:"left"},{topic:"Automation",clause:"Wie viel Zeitersparnis bei der Vertragserstellung kann ein Unternehmen durchschnittlich durch automatisierte Verträge erwarten?",question:"",left:"80%",right:"90%",correctAnswer:"right"},{topic:"DigitalIdentity",clause:"Ersetzt diese Qualifizierte Elektronische Signatur (QES) die handschriftliche Unterschrift in Deutschland?",question:"Ja Oder Nein",left:"Nein",right:"Ja",correctAnswer:"right"},{topic:"IdImage",imageUrl:"/images/forged_1.jpg",question:"Ist das eine echte Person?",left:"Nein",right:"Ja",correctAnswer:"left"},{topic:"IdImage",imageUrl:"/images/german_expired.jpg",question:"Können Sie diesen Ausweis zur Identitätsprüfung verwenden?",left:"Nein",right:"Ja",correctAnswer:"left"},{topic:"IdImage",imageUrl:"/images/forged_2.jpg",question:"Ist das eine echte Person?",correctAnswer:"right"},{topic:"IdImage",imageUrl:"/images/forged_3.jpg",question:"Ist das eine echte Person?",correctAnswer:"right"},{topic:"IdImage",imageUrl:"/images/forged_4.jpg",question:"Ist das eine echte Person?",correctAnswer:"right"},{topic:"IdImage",imageUrl:"/images/forged_5.jpg",question:"Ist das eine echte Person?",correctAnswer:"right"},{topic:"IdImage",imageUrl:"/images/legit_1.jpg",question:"Ist das eine echte Person?",correctAnswer:"left"},{topic:"IdImage",imageUrl:"/images/legit_2.jpg",question:"Ist das eine echte Person?",correctAnswer:"left"},{topic:"IdImage",imageUrl:"/images/legit_3.jpg",question:"Ist das eine echte Person?",correctAnswer:"left"},{topic:"IdImage",imageUrl:"/images/legit_4.jpg",question:"Ist das eine echte Person?",correctAnswer:"left"},{topic:"IdImage",imageUrl:"/images/legit_5.jpg",question:"Ist das eine echte Person?",correctAnswer:"left"},{topic:"IdImage",imageUrl:"/images/legit_6.jpg",question:"Ist das eine echte Person?",correctAnswer:"left"},{topic:"IdImage",imageUrl:"/images/legit_7.jpg",question:"Ist das eine echte Person?",correctAnswer:"left"}],AI=3,AUTOMATION=2,DIGITAL_IDENTITY=1,ID_IMAGE=2,TOTAL_QUESTIONS=AI+AUTOMATION+DIGITAL_IDENTITY+ID_IMAGE,App=()=>{const[i,t]=reactExports.useState("start"),[,e]=reactExports.useState(""),[n,a]=reactExports.useState(()=>Number(localStorage.getItem("sessionCount"))||0),[l,c]=reactExports.useState([]),[f,d]=reactExports.useState(0),[m,y]=reactExports.useState(0),[A,b]=reactExports.useState(null),x=()=>{const S=Math.random().toString(36).substring(2,10);e(S);let M=Number(localStorage.getItem("sessionCount"))||0;M+=1,localStorage.setItem("sessionCount",M.toString()),a(M),sessionStorage.setItem(TOTAL_ANSWER_TIME_MILLIS,"0"),c(questions),d(0),y(0),b(null),t("question")},E=S=>{const P=l[f].correctAnswer===S;P&&y(m+1),b(P),t("feedback")},T=()=>{f+1<TOTAL_QUESTIONS?(d(f+1),t("question"),b(null)):t("results")},k=()=>{t("start")};switch(i){case"start":return jsxRuntimeExports.jsx(StartScreen,{onStart:x,participantCount:n});case"question":return jsxRuntimeExports.jsx(QuestionScreen,{question:l[f],onAnswer:E});case"feedback":return jsxRuntimeExports.jsx(FeedbackScreen,{isCorrect:A,onNext:T});case"results":return jsxRuntimeExports.jsx(ResultsScreen,{score:m,totalQuestions:TOTAL_QUESTIONS,onRestart:k,sessionCount:n});default:return null}},base=document.createElement("base");base.setAttribute("href","/BeTheJudge/");document.head.insertBefore(base,document.head.firstChild);ReactDOM.createRoot(document.getElementById("root")).render(jsxRuntimeExports.jsx(React.StrictMode,{children:jsxRuntimeExports.jsx(App,{})}));
